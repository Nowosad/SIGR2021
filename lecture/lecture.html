<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>GIS and mapping</title>
    <meta charset="utf-8" />
    <meta name="author" content="Robin Lovelace &amp; Jakub Nowosad" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <script src="libs/htmlwidgets/htmlwidgets.js"></script>
    <script src="libs/jquery/jquery.min.js"></script>
    <link href="libs/leaflet/leaflet.css" rel="stylesheet" />
    <script src="libs/leaflet/leaflet.js"></script>
    <link href="libs/leafletfix/leafletfix.css" rel="stylesheet" />
    <script src="libs/proj4/proj4.min.js"></script>
    <script src="libs/Proj4Leaflet/proj4leaflet.js"></script>
    <link href="libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
    <script src="libs/leaflet-binding/leaflet.js"></script>
    <script src="libs/leaflet-providers/leaflet-providers_1.9.0.js"></script>
    <script src="libs/leaflet-providers-plugin/leaflet-providers-plugin.js"></script>
    <link href="libs/HomeButton/home-button.css" rel="stylesheet" />
    <script src="libs/HomeButton/home-button.js"></script>
    <script src="libs/HomeButton/easy-button-src.min.js"></script>
    <script src="libs/clipboard/setClipboardText.js"></script>
    <link href="libs/mapviewCSS/mapview-popup.css" rel="stylesheet" />
    <link href="libs/mapviewCSS/mapview.css" rel="stylesheet" />
    <script src="libs/mapdeck-binding/mapdeck.js"></script>
    <script src="libs/mpadeck_functions/mapdeck_functions.js"></script>
    <script src="libs/deckgl/deckgl.min.js"></script>
    <script src="libs/legend/legend.js"></script>
    <script src="libs/title/title.js"></script>
    <script src="libs/mapdeck_location/mapdeck_location.js"></script>
    <script src="libs/mapdeck_colours/mapdeck_colours.js"></script>
    <script src="libs/mapdeck_coordinates/mapdeck_coordinates.js"></script>
    <link href="libs/mapboxgl/mapbox-gl.css" rel="stylesheet" />
    <script src="libs/mapboxgl/mapbox-gl.js"></script>
    <link href="libs/mapdeck/mapdeck.css" rel="stylesheet" />
    <script src="libs/mpadeck-binding/mapdeck.js"></script>
    <script src="libs/polygon/polygon.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="style.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">


class: inverse, left, nonum, clear
background-image: url("figs/oleron.jpg")
background-size: cover

.titlestyle1[GIS and mapping] 
&lt;br&gt;
.titlestyle[A lecture on]
&lt;br&gt;
.titlestyle[on the GIS]
&lt;br&gt;
.titlestyle[and]
&lt;br&gt;
.titlestyle[mapping ecosystem of R]


&lt;link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Lora" /&gt;

&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;

.captionstyle[Robin Lovelace &amp; Jakub Nowosad]

.captionstyle[2021-06-29, SIGR2021, Oleron]





---
class: inverse, left, bottom
# Hello!

---

# Hi, I'm Robin

.pull-left[
Website: https://www.robinlovelace.net/

Twitter: [robinlovelace](https://twitter.com/robinlovelace)

1. [I'm Associate Professor of Transport Data Science, University of Leeds](https://environment.leeds.ac.uk/transport/staff/953/dr-robin-lovelace)
2. [I am a co-author of Geocomputation with R book](https://geocompr.github.io/)
3. [I create R packages](https://github.com/robinlovelace) and publicly available web applications for evidence-based policies (see the Propensity to Cycle Tool at [www.pct.bike](https://www.pct.bike/) and the [ActDev](https://actdev.cyipt.bike/) project for recent examples)

]

--

.pull-right[

![](https://user-images.githubusercontent.com/1825120/110671502-79afbc80-81c6-11eb-9dc5-52046b1d04c8.gif)

]

---

# Hi, I'm Jakub

.pull-left[
Website: https://nowosad.github.io/

Twitter: [jakub_nowosad](https://twitter.com/jakub_nowosad)

1. [I am an assistant professor in the Department of Geoinformation at the Adam Mickiewicz University in Pozna≈Ñ](https://nowosad.github.io/publications/)
2. [I am a co-author of the Geocomputation with R book](https://geocompr.github.io/)
3. [I create R packages](https://nowosad.github.io/projects/)
]

.pull-right[
&lt;img src="figs/sa-changes.png" width="40%" /&gt;&lt;img src="figs/cover.png" width="40%" /&gt;&lt;img src="figs/logo-landscapemetrics.png" width="40%" /&gt;&lt;img src="figs/logo-sabre.png" width="40%" /&gt;
]

---

# Where to ask questions: 

.pull-left[

## During the course

- GitHub for any technical questions + sharing code https://github.com/Nowosad/SIGR2021
- In the chat on [Slack](https://join.slack.com/t/geocomprworkspace/shared_invite/zt-sc7tqriq-9Q2rkveZwqCAQoBS3yqZNQ) (sign-in)
- Feel free to post code here: https://rustpad.io/#uFuBVH (no sign-in)
- In person

]

.pull-right[

## After the course

- StackOverflow, general questions, quick answers
- RStudio Community (R questions)
- GIS StackExchange (for geographic data/software)
- R-SIG-Geo email list (R-spatial questions)

]

--

.pull-left[


Creating a reproducible example with reprex:

1. Find or write some code to test (e.g. `plot(spData::world)`)
2. Copy it (`Clt+C`)
3. Create a reproducible example with `reprex::reprex()`

``` r
library(spData)
plot(world)
#&gt; Error in data.matrix(x): 'list' object cannot be coerced to type 'double'
```

&lt;sup&gt;Created on 2021-06-29 by the [reprex package](https://reprex.tidyverse.org) (v2.0.0)&lt;/sup&gt;

]

.pull-right[



``` r
library(sf)
library(spData)
plot(world)
```

![](https://geocompr.robinlovelace.net/02-spatial-data_files/figure-html/world-all-1.png)

&lt;sup&gt;Created on 2021-06-29 by the [reprex package](https://reprex.tidyverse.org) (v2.0.0)&lt;/sup&gt;

]

---
class: inverse, left, bottom
# GIS ecosystem of R


---
# R spatial
.left-column[
- Ecology
- Earth-Observation
- Economics
- Demography
- Politics
- Journalism
- Archeology
- Transport
- Climatology
- Meteorology
- Geomorphometry
- Hydrology
- Urban-Planning
- Mining
- Marine-Studies
- Soil-Science
- Tourism
- and many more...
]
.rc[
&lt;a href="https://www.tylermw.com/3d-maps-with-rayshader/"&gt;
&lt;img src="figs/montbayabove.gif" width="85%" style="display: block; margin: auto;" /&gt;
&lt;/a&gt;
&lt;a href="https://www.mdpi.com/2306-5729/4/3/92"&gt;
&lt;img src="figs/water-detection.png" width="85%" style="display: block; margin: auto;" /&gt;
&lt;/a&gt;
]

---
# R spatial

.pull-left[

- Spatial aspect can be important in any part of data analysis - data preparation, vizualization, modeling, or communicating the results
- It does not need to be the most important part
- R is great to integrate various aspects of analysis

&lt;a href=" https://ikashnitsky.github.io/2018/the-lancet-paper/"&gt;
&lt;img src="figs/demography-map.png" width="90%" style="display: block; margin: auto;" /&gt;
&lt;/a&gt;

]

.pull-right[
&lt;a href="https://riatelab.github.io/MDM/"&gt;
&lt;img src="figs/cartography-map.png" width="1600" style="display: block; margin: auto;" /&gt;
&lt;/a&gt;
&lt;br&gt;
&lt;a href="https://www.pct.bike/"&gt;
&lt;img src="figs/pct-example2.png" width="1404" style="display: block; margin: auto;" /&gt;
&lt;/a&gt;
]

---
# R spatial

.pull-left[
&lt;a href="https://github.com/mtennekes/tmap/tree/master/demo/ClassicMap"&gt;
&lt;img src="figs/tmap-map.png" width="2449" style="display: block; margin: auto;" /&gt;
&lt;/a&gt;
&lt;a href="https://github.com/Z3tt/30DayMapChallenge"&gt;
&lt;img src="figs/Zones_TimezonesEarth.png" width="8400" style="display: block; margin: auto;" /&gt;
&lt;/a&gt;
]

.pull-right[
- https://geocompr.github.io/
- https://www.rspatial.org/
- https://www.r-spatial.org/
- `#rspatial` and `#geocompr` on Twitter

&lt;a href="https://nowosad.github.io/post/maps-distortion/"&gt;
&lt;img src="figs/worlds_animate_without_antarctica2.gif" style="display: block; margin: auto;" /&gt;
&lt;/a&gt;
]

---

# What can you do with geographic data + R?

.lc[

- Exploratory data analysis ([EDA](https://r4ds.had.co.nz/exploratory-data-analysis.html))
- Output data in different formats (e.g. creating a .GeoTIFF or .shp file to share with others)
- Data processing (e.g. adding new variables, 'adding value')
- Data transformation (e.g. [changing CRS](https://geocompr.robinlovelace.net/reproj-geo-data.html), reducing size via simplification/aggregation)
- Data [visualisation](https://geocompr.robinlovelace.net/adv-map.html#mapping-applications)
- Web application development
- Software development e.g. to share new methdods

]

--

.rc[

&lt;img src="https://user-images.githubusercontent.com/1825120/38543030-5794b6f0-3c9b-11e8-9da9-10ec1f3ea726.gif" width="100%" style="display: block; margin: auto;" /&gt;

]

---

# R is a (geo)computational power tool! 

.left-column[

#### R's flexibility enables 100s of people to create new tools

#### R can be seen as the 'engine' that enables functionality provided in packages

![](https://openclipart.org/image/800px/98191)

#### That provides flexibility but has some consequences...

]

--

.right-column[

### It's important to use the right tool for the job

![](https://user-images.githubusercontent.com/1825120/123144850-0f104d00-d454-11eb-80c1-5fb860d10482.gif)

]

---

background-image: url("https://camo.githubusercontent.com/f032cac4c2273236d3d70f384b34f76a5cf70f9d00d4c868bed0ac3f5c3b52d4/68747470733a2f2f692e696d6775722e636f6d2f415478487764462e706e67")

### Which type of data is best?

???

Raster data tends to be more appropriate for physical sciences

---

# Sharing your ideas with R

## R's ecosystem makes it easy to communicate your results

&lt;img src="https://user-images.githubusercontent.com/1825120/123699833-9a744e80-d857-11eb-9fde-3847970a04dc.png" style="display: block; margin: auto;" /&gt;

---

# Tips for sharing maps

.pull-left[

- Copy paste into emails
- Set width and resolution carefully for publication
- Use vector graphics (e.g. svg/pdf) when appropriate
- Save `tmap` maps with `tmap_save(map, "map.html")` and send the html
- One click publishing with RStudio

## See rpubs.com/robinlovelace

]

.pull-right[

![](https://user-images.githubusercontent.com/1825120/123700406-56ce1480-d858-11eb-8d6b-961c61d94390.png)

]

---

# Sharing your computational workflow

See [excalidraw.com/](https://excalidraw.com/) for collaborative drawing app

![](https://user-images.githubusercontent.com/1825120/123762809-0e940e00-d8bb-11eb-8dab-0e881299bbef.png)

---
# Building your own packages and distributing code

.lc2[
**Great way to share code is on GitHub**

Register at [github.com](https://github.com)

&lt;img src="https://github.githubassets.com/images/modules/logos_page/Octocat.png" width="20%" style="display: block; margin: auto;" /&gt;

Next step: reproducible README


```r
usethis::use_readme_rmd()
```

**Example packages**

- [stats19](https://docs.ropensci.org/stats19): data
- [sabre](https://github.com/Nowosad/sabre): methods
- [supercells](https://github.com/Nowosad/supercells): methods
- [noise-phenomena](https://github.com/cboettig/noise-phenomena) academic paper
]

.rc2[
&lt;img src="https://raw.githubusercontent.com/hadley/r-pkgs/master/images/cover.png" width="80%" style="display: block; margin: auto;" /&gt;
]


---
# R packages

- [**sf**](https://github.com/r-spatial/sf),
[**sp**](https://github.com/edzer/sp),
[**terra**](https://github.com/rspatial/terra),
[**raster**](https://github.com/rspatial/raster), [**stars**](https://github.com/r-spatial/stars) - spatial classes
- [**dplyr**](https://github.com/tidyverse/dplyr), [**rmapshaper**](https://github.com/ateucher/rmapshaper) - processing of attribute tables/geometries 
- [**rnaturalearth**](https://github.com/ropensci/rnaturalearth), [**osmdata**](https://github.com/ropensci/osmdata), [**getlandsat**](https://github.com/ropensci/getlandsat) - spatial data download
- [**rgrass7**](https://github.com/rsbivand/rgrass7), [**qgisprocess**](https://github.com/paleolimbot/qgisprocess), [**RSAGA**](https://github.com/r-spatial/RSAGA), [**link2GI**](https://github.com/r-spatial/link2GI) - connecting with GIS software
- [**gstat**](https://github.com/r-spatial/gstat), [**mlr3**](https://github.com/mlr-org/mlr3), [**CAST**](https://github.com/HannaMeyer/CAST) - spatial data modeling
- [**rasterVis**](https://github.com/oscarperpinan/rastervis), [**tmap**](https://github.com/mtennekes/tmap), [**ggplot2**](https://github.com/tidyverse/ggplot2) - static visualizations
- [**leaflet**](https://github.com/rstudio/leaflet), [**mapview**](https://github.com/r-spatial/mapview), [**mapdeck**](https://github.com/SymbolixAU/mapdeck) - interactive visualizations
- many more...

Learn more at https://cran.r-project.org/web/views/Spatial.html.

---
# R packages - specialized packages

- [**spatstat**](http://spatstat.org/)
- [**spdep**](https://github.com/r-spatial/spdep)
- [**spatialreg**](https://github.com/r-spatial/spatialreg)
- [**dismo**](https://github.com/rspatial/dismo)
- [**landscapemetrics**](https://github.com/r-spatialecology/landscapemetrics) - part of https://github.com/r-spatialecology
- [**RStoolbox**](http://bleutner.github.io/RStoolbox/rstbx-docu/RStoolbox.html)
- [**rayshader**](https://github.com/tylermorganwall/rayshader)
- [**gdalcubes**](https://github.com/appelmar/gdalcubes_R)
- many more...

Learn more at https://cran.r-project.org/web/views/Spatial.html, https://cran.r-project.org/web/views/Environmetrics.html, and https://cran.r-project.org/web/views/SpatioTemporal.html.

---
# R packages 

- [How to cite R packages?](https://neuropsychology.github.io/psycho.R//2018/08/31/cite_packages.html)


```r
# citation()
citation("tmap")
```

```
## 
## To cite tmap/tmaptools in publications use:
## 
## Tennekes M (2018). "tmap: Thematic Maps in R." _Journal of Statistical
## Software_, *84*(6), 1-39. doi: 10.18637/jss.v084.i06 (URL:
## https://doi.org/10.18637/jss.v084.i06).
## 
## A BibTeX entry for LaTeX users is
## 
##   @Article{,
##     title = {{tmap}: Thematic Maps in {R}},
##     author = {Martijn Tennekes},
##     journal = {Journal of Statistical Software},
##     year = {2018},
##     volume = {84},
##     number = {6},
##     pages = {1--39},
##     doi = {10.18637/jss.v084.i06},
##   }
```

---
# R spatial infrastructure

&lt;a href="https://www.r-spatial.org/r/2020/03/17/wkt.html"&gt;
&lt;img src="figs/sf-infrastructure.png" width="75%" style="display: block; margin: auto;" /&gt;
&lt;/a&gt;

---
# OSGeo libraries

.left-column[
**[PROJ](https://www.osgeo.org/projects/proj/)**

- "conversion of coordinates"
- First versions in [1970s](https://en.wikipedia.org/wiki/PROJ#cite_note-Kresse_Danko_2011_p._948-3)

**[GDAL](https://www.osgeo.org/projects/gdal/)**

- Geospatial Data Abstraction Library, first release 2000
- "200+ geospatial data formats"

**[GEOS](https://www.osgeo.org/projects/gdal/)**

- Geometry Engine ‚Äì Open Source
- "spatial predicate functions and spatial operators"
]
.right-column[
&lt;a href="https://www.osgeo.org/"&gt;
&lt;img src="https://www.osgeo.org/wp-content/themes/roots/assets/img/logo-osgeo.svg" width="60%" style="display: block; margin: auto;" /&gt;
&lt;/a&gt;

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="figs/GEOS.png" alt="GEOS build matrix" width="90%" /&gt;
&lt;p class="caption"&gt;GEOS build matrix&lt;/p&gt;
&lt;/div&gt;

.caption[Source: https://trac.osgeo.org/geos]

- Access to these three libraries used to require **sp**, **rgdal** and **rgeos**
- Now **sf** provides a unified access to all three üéâ

]


---
# R-GIS bridges

You can call GIS algorithms directly from R using **qgisprocess**, **rgrass7**, **RSAGA**, or **arcgisbinding**.

&lt;img src="figs/gis-logos.png" width="80%" style="display: block; margin: auto;" /&gt;


---
class: inverse, left, bottom
# Vector data model

---
# Vector data model ecosystem of R

.pull-left[
- The **sf** package is the successor of the **sp** package based on the OGC standard Simple Features
- Combines the functionality of three previous packages: **sp**, **rgeos** and **rgdal**
- Most of the functions in this package start with a prefix `st_`
- This package handles additional vector data types (e.g. polygon and multipolygon are two separate classes), allows for easier data processing, and support for spatial databases such as PostGIS
- https://r-spatial.github.io/sf/ and https://github.com/rstudio/cheatsheets/blob/master/sf.pdf
]

.pull-right[
- The **terra** package has its own vector data classes.
]

---
# sf reading


```r
file_path = system.file("shapes/world.gpkg", package = "spData")
file_path
```

```
## [1] "/home/jn/R/x86_64-redhat-linux-gnu-library/4.0/spData/shapes/world.gpkg"
```

```r
# world = read_sf(file_path)
```


```r
# Bad: not reproducible
library(sf)
world = read_sf("/home/jn/R/x86_64-redhat-linux-gnu-library/4.0/spData/shapes/world.gpkg")
world
```


---
# sf reading


```r
library(sf)
file_path_txt = system.file("misc/cycle_hire_xy.csv", package = "spData")
cycle_hire_xy = read.csv(file_path_txt)
cycle_hire_sf = st_as_sf(cycle_hire_xy, coords = c("X", "Y"))
cycle_hire_sf
```

```
## Simple feature collection with 742 features and 5 fields
## Geometry type: POINT
## Dimension:     XY
## Bounding box:  xmin: -0.2367699 ymin: 51.45475 xmax: -0.002275 ymax: 51.54214
## CRS:           NA
## First 10 features:
##    id               name             area nbikes nempty
## 1   1       River Street      Clerkenwell      4     14
## 2   2 Phillimore Gardens       Kensington      2     34
## 3   3 Christopher Street Liverpool Street      0     32
## 4   4  St. Chad's Street     King's Cross      4     19
## 5   5     Sedding Street    Sloane Square     15     12
## 6   6 Broadcasting House       Marylebone      0     18
## 7   7   Charlbert Street  St. John's Wood     15      0
## 8   8         Lodge Road  St. John's Wood      5     13
## 9   9     New Globe Walk         Bankside      3     16
## 10 10        Park Street         Bankside      1     17
##                        geometry
## 1   POINT (-0.1099705 51.52916)
## 2   POINT (-0.1975742 51.49961)
## 3  POINT (-0.08460569 51.52128)
## 4   POINT (-0.1209737 51.53006)
## 5    POINT (-0.156876 51.49313)
## 6   POINT (-0.1442289 51.51812)
## 7    POINT (-0.1680743 51.5343)
## 8   POINT (-0.1701345 51.52834)
## 9  POINT (-0.09644075 51.50739)
## 10 POINT (-0.09275416 51.50597)
```


---
# sf

- Combines the functionality of three previous packages: **sp**, **rgeos** and **rgdal**
- https://github.com/r-spatial/sf/wiki/Migrating
- Conversion from `sf` to `sp`:


```r
library(spData)
library(sp)
library(sf)
world_sp = as(world, Class = "Spatial")
# sp functions ...
```

- Conversion from `sp` to `sf`:


```r
world_sf = st_as_sf(world_sp)
```


---
# sf

- Most of the functions in this package start with a prefix `st_`


```r
# lsf.str("package:sf")
ls("package:sf")
```

```
##   [1] "%&gt;%"                   "as_Spatial"            "dbDataType"           
##   [4] "dbWriteTable"          "gdal_crs"              "gdal_extract"         
##   [7] "gdal_inv_geotransform" "gdal_metadata"         "gdal_polygonize"      
##  [10] "gdal_rasterize"        "gdal_read"             "gdal_read_mdim"       
##  [13] "gdal_subdatasets"      "gdal_utils"            "gdal_write"           
##  [16] "gdal_write_mdim"       "get_key_pos"           "NA_agr_"              
##  [19] "NA_bbox_"              "NA_crs_"               "NA_m_range_"          
##  [22] "NA_z_range_"           "plot_sf"               "rawToHex"             
##  [25] "read_sf"               "sf_add_proj_units"     "sf_extSoftVersion"    
##  [28] "sf_proj_info"          "sf_proj_network"       "sf_proj_pipelines"    
##  [31] "sf_proj_search_paths"  "sf_project"            "sf_use_s2"            
##  [34] "sf.colors"             "st_agr"                "st_agr&lt;-"             
##  [37] "st_area"               "st_as_binary"          "st_as_grob"           
##  [40] "st_as_s2"              "st_as_sf"              "st_as_sfc"            
##  [43] "st_as_text"            "st_axis_order"         "st_bbox"              
##  [46] "st_bind_cols"          "st_boundary"           "st_buffer"            
##  [49] "st_cast"               "st_centroid"           "st_collection_extract"
##  [52] "st_combine"            "st_contains"           "st_contains_properly" 
##  [55] "st_convex_hull"        "st_coordinates"        "st_covered_by"        
##  [58] "st_covers"             "st_crop"               "st_crosses"           
##  [61] "st_crs"                "st_crs&lt;-"              "st_difference"        
##  [64] "st_dimension"          "st_disjoint"           "st_distance"          
##  [67] "st_drivers"            "st_drop_geometry"      "st_equals"            
##  [70] "st_equals_exact"       "st_filter"             "st_geometry"          
##  [73] "st_geometry_type"      "st_geometry&lt;-"         "st_geometrycollection"
##  [76] "st_graticule"          "st_inscribed_circle"   "st_interpolate_aw"    
##  [79] "st_intersection"       "st_intersects"         "st_is"                
##  [82] "st_is_empty"           "st_is_longlat"         "st_is_simple"         
##  [85] "st_is_valid"           "st_is_within_distance" "st_jitter"            
##  [88] "st_join"               "st_layers"             "st_length"            
##  [91] "st_line_merge"         "st_line_sample"        "st_linestring"        
##  [94] "st_m_range"            "st_make_grid"          "st_make_valid"        
##  [97] "st_multilinestring"    "st_multipoint"         "st_multipolygon"      
## [100] "st_nearest_feature"    "st_nearest_points"     "st_node"              
## [103] "st_normalize"          "st_overlaps"           "st_point"             
## [106] "st_point_on_surface"   "st_polygon"            "st_polygonize"        
## [109] "st_precision"          "st_precision&lt;-"        "st_read"              
## [112] "st_read_db"            "st_relate"             "st_reverse"           
## [115] "st_sample"             "st_segmentize"         "st_set_agr"           
## [118] "st_set_crs"            "st_set_geometry"       "st_set_precision"     
## [121] "st_sf"                 "st_sfc"                "st_shift_longitude"   
## [124] "st_simplify"           "st_snap"               "st_sym_difference"    
## [127] "st_touches"            "st_transform"          "st_triangulate"       
## [130] "st_union"              "st_viewport"           "st_voronoi"           
## [133] "st_within"             "st_wrap_dateline"      "st_write"             
## [136] "st_write_db"           "st_z_range"            "st_zm"                
## [139] "vec_cast.sfc"          "vec_ptype2.sfc"        "write_sf"
```

- TAB

---
# sf


```r
library(spData)
library(sf)

world
```

```
## Simple feature collection with 177 features and 10 fields
## Geometry type: MULTIPOLYGON
## Dimension:     XY
## Bounding box:  xmin: -180 ymin: -89.9 xmax: 180 ymax: 83.64513
## Geodetic CRS:  WGS 84
## # A tibble: 177 x 11
##    iso_a2 name_long continent region_un subregion type  area_km2     pop lifeExp
##  * &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
##  1 FJ     Fiji      Oceania   Oceania   Melanesia Sove‚Ä¶   1.93e4  8.86e5    70.0
##  2 TZ     Tanzania  Africa    Africa    Eastern ‚Ä¶ Sove‚Ä¶   9.33e5  5.22e7    64.2
##  3 EH     Western ‚Ä¶ Africa    Africa    Northern‚Ä¶ Inde‚Ä¶   9.63e4 NA         NA  
##  4 CA     Canada    North Am‚Ä¶ Americas  Northern‚Ä¶ Sove‚Ä¶   1.00e7  3.55e7    82.0
##  5 US     United S‚Ä¶ North Am‚Ä¶ Americas  Northern‚Ä¶ Coun‚Ä¶   9.51e6  3.19e8    78.8
##  6 KZ     Kazakhst‚Ä¶ Asia      Asia      Central ‚Ä¶ Sove‚Ä¶   2.73e6  1.73e7    71.6
##  7 UZ     Uzbekist‚Ä¶ Asia      Asia      Central ‚Ä¶ Sove‚Ä¶   4.61e5  3.08e7    71.0
##  8 PG     Papua Ne‚Ä¶ Oceania   Oceania   Melanesia Sove‚Ä¶   4.65e5  7.76e6    65.2
##  9 ID     Indonesia Asia      Asia      South-Ea‚Ä¶ Sove‚Ä¶   1.82e6  2.55e8    68.9
## 10 AR     Argentina South Am‚Ä¶ Americas  South Am‚Ä¶ Sove‚Ä¶   2.78e6  4.30e7    76.3
## # ‚Ä¶ with 167 more rows, and 2 more variables: gdpPercap &lt;dbl&gt;,
## #   geom &lt;MULTIPOLYGON [¬∞]&gt;
```

---
# sf


```r
plot(world)
```

&lt;img src="lecture_files/figure-html/05-rspatial-classes-7-1.png" style="display: block; margin: auto;" /&gt;

---
class: inverse, left, bottom
# Raster data model


---
# Raster data model ecosystem of R

.pull-left[
**raster** and its successor **terra**

&lt;img src="figs/terra.png" width="40%" style="display: block; margin: auto;" /&gt;


- The **terra** package contains classes and methods representing raster objects
- It allows raster data to be loaded and saved
- It allows raster algebra and raster processing
- It includes a number of additional functions, e.g., for analysis of terrain characteristics
- It allows you to work on large sets of data
- ?`terra-package`, https://rspatial.github.io/terra/reference/terra-package.html
- It is a successor of the **raster** package - http://www.rpubs.com/etiennebr/visualraster
]

--

.pull-right[
**stars**

&lt;img src="figs/cube2.png" width="80%" style="display: block; margin: auto;" /&gt;


- The **stars** package contains classes and methods representing spatiotemporal data (raster and vector data cubes)
- It allows raster data to be loaded and saved
- It allows raster processing
- It allows you to work on large sets of data
- It supports regular, rotated, sheared, rectilinear and curvilinear rasters
- https://r-spatial.github.io/stars/
]

---
# terra

The **terra** package contains classes and methods representing raster objects


```r
library(spData)
library(terra)

rast(elev)
```

```
## class       : SpatRaster 
## dimensions  : 6, 6, 1  (nrow, ncol, nlyr)
## resolution  : 0.5, 0.5  (x, y)
## extent      : -1.5, 1.5, -1.5, 1.5  (xmin, xmax, ymin, ymax)
## coord. ref. : +proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs 
## source      : memory 
## name        : layer 
## min value   :     1 
## max value   :    36
```

---

# terra


```r
# plot(elev)
```

---

# terra


```r
elev[]
```

```
##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25
## [26] 26 27 28 29 30 31 32 33 34 35 36
```

---
# terra


```r
raster_filepath = system.file("raster/srtm.tif", package = "spDataLarge")
new_raster = rast(raster_filepath)
new_raster
```

```
## class       : SpatRaster 
## dimensions  : 457, 465, 1  (nrow, ncol, nlyr)
## resolution  : 0.0008333333, 0.0008333333  (x, y)
## extent      : -113.2396, -112.8521, 37.13208, 37.51292  (xmin, xmax, ymin, ymax)
## coord. ref. : +proj=longlat +datum=WGS84 +no_defs 
## source      : srtm.tif 
## name        : srtm 
## min value   : 1024 
## max value   : 2892
```

---
# terra


```r
raster_filepath2 = system.file("raster/landsat.tif", package = "spDataLarge")
new_raster2 = rast(raster_filepath2)
plot(new_raster2)
```

&lt;img src="lecture_files/figure-html/05-rspatial-classes-14-1.png" style="display: block; margin: auto;" /&gt;

---
# terra


```r
plotRGB(new_raster2, r = 3, g = 2, b = 1, stretch = "lin")
```

&lt;img src="lecture_files/figure-html/unnamed-chunk-24-1.png" style="display: block; margin: auto;" /&gt;

---
# terra

.lc2[

```r
my_raster = rast(nrows = 10, ncols = 20, 
                 xmin = 0, xmax = 20, ymin = -10, ymax = 0,
                 crs = "EPSG:4326",
                 vals = 1:200)
my_raster
```

```
## class       : SpatRaster 
## dimensions  : 10, 20, 1  (nrow, ncol, nlyr)
## resolution  : 1, 1  (x, y)
## extent      : 0, 20, -10, 0  (xmin, xmax, ymin, ymax)
## coord. ref. : +proj=longlat +datum=WGS84 +no_defs 
## source      : memory 
## name        : lyr.1 
## min value   :     1 
## max value   :   200
```
]

.rc2[

```r
plot(my_raster)
```

&lt;img src="lecture_files/figure-html/unnamed-chunk-25-1.png" style="display: block; margin: auto;" /&gt;
]

---
# terra

.lc2[

```r
my_raster2 = rast(res = c(1, 1),
                   xmin = 0, xmax = 20, ymin = -10, ymax = 0,
                   crs = "EPSG:4326",
                   vals = 1:200)
my_raster2
```

```
## class       : SpatRaster 
## dimensions  : 10, 20, 1  (nrow, ncol, nlyr)
## resolution  : 1, 1  (x, y)
## extent      : 0, 20, -10, 0  (xmin, xmax, ymin, ymax)
## coord. ref. : +proj=longlat +datum=WGS84 +no_defs 
## source      : memory 
## name        : lyr.1 
## min value   :     1 
## max value   :   200
```
]
.rc2[

```r
plot(my_raster2)
```

&lt;img src="lecture_files/figure-html/unnamed-chunk-26-1.png" style="display: block; margin: auto;" /&gt;
]

--

More about **terra** on Friday!







---
class: inverse, left, bottom
# Mapping ecosystem of R

---
# Mapping ecosystem of R

.pull-left[
Static maps:

- **graphics**
&lt;!-- - **rasterVis** --&gt;
- **ggplot2**
- **ggspatial**
- **mapsf**
- **cartography**
- ...

Interactive maps:

- **leaflet**
- **mapview**
- **mapdeck**
- ...
]

.pull-right[
Both:

- **tmap**

Specific-purpose mapping:

- **cartogram**
- **geofacet**
- **geogrid**
- **rayshader**
- ...
]

---
# Mapping ecosystem of R

.pull-left[
**tmap** - tmap is an R package for drawing thematic maps

Its API is based on A Layered Grammar of Graphics 

https://www.jstatsoft.org/article/view/v090c01


```r
library(sf)
library(tmap)
nz = read_sf("data/new_zealand.gpkg")
nz_ports = read_sf("data/nz_ports.gpkg")
*tm_shape(nz) +
  tm_graticules() +
* tm_polygons(col = "Median_income") +
* tm_shape(nz_ports) +
* tm_dots(size = 0.75) +
  tm_scale_bar(breaks = c(0, 100, 200)) +
  tm_compass(position = c("right", "top")) +
  tm_layout(bg.color = "lightblue")
```

**Shapes and layers**
]



.pull-right[
&lt;img src="lecture_files/figure-html/plot-label-out1-1.png" style="display: block; margin: auto;" /&gt;
]

---
# Mapping ecosystem of R

.pull-left[

```r
library(sf)
library(tmap)
nz = read_sf("data/new_zealand.gpkg")
nz_ports = read_sf("data/nz_ports.gpkg")
tm_shape(nz) + 
  tm_graticules() +
  tm_polygons(col = "Median_income") +
  tm_shape(nz_ports) +
  tm_dots(size = 0.75) +
* tm_scale_bar(breaks = c(0, 100, 200)) +
* tm_compass(position = c("right", "top")) +
  tm_layout(bg.color = "lightblue")
```

**Attributes layers**
]



.pull-right[
&lt;img src="lecture_files/figure-html/plot-label-out1b-1.png" style="display: block; margin: auto;" /&gt;
]


---
# Mapping ecosystem of R

.pull-left[

```r
library(sf)
library(tmap)
nz = read_sf("data/new_zealand.gpkg")
nz_ports = read_sf("data/nz_ports.gpkg")
tm_shape(nz) + 
* tm_graticules() +
  tm_polygons(col = "Median_income") +
  tm_shape(nz_ports) +
  tm_dots(size = 0.75) +
  tm_scale_bar(breaks = c(0, 100, 200)) +
  tm_compass(position = c("right", "top")) +
* tm_layout(bg.color = "lightblue")
```

**Other**

More about **tmap** during the workshop.
]



.pull-right[
&lt;img src="lecture_files/figure-html/plot-label-out1c-1.png" style="display: block; margin: auto;" /&gt;
]


---
# graphics

.pull-left[

```r
plot(nz)
```
]

.pull-right[
&lt;img src="lecture_files/figure-html/plot-label-out2-1.png" style="display: block; margin: auto;" /&gt;
]

---
# graphics

.pull-left[

```r
plot(st_geometry(nz))
```
]

.pull-right[
&lt;img src="lecture_files/figure-html/plot-label-out3-1.png" style="display: block; margin: auto;" /&gt;
]

---
# graphics

.pull-left[

```r
library(RColorBrewer)
par(bg = "lightblue")
g = st_graticule(nz, lon = c(170, 175),
                 lat = c(-45, -40, -35))
plot(nz["Median_income"],
     graticule = g,
     axes = TRUE, 
     reset = FALSE,
     main = "Median income",
     breaks = c(22000, 24000, 26000, 28000,
                30000, 32000, 34000),
     pal = brewer.pal(6, "YlOrRd"))
plot(st_geometry(nz_ports), add = TRUE)
```
]

.pull-right[
&lt;img src="lecture_files/figure-html/plot-label-out4-1.png" style="display: block; margin: auto;" /&gt;
]

---
# ggplot2

.pull-left[

```r
library(ggplot2)
ggplot() +
  geom_sf(data = nz, aes(fill = Median_income)) +
  geom_sf(data = nz_ports, size = 3) +
  scale_fill_distiller(palette = "YlOrRd",
                       direction = 1,
                       name = "Median Income") +
  theme(panel.background =
          element_rect(fill = "lightblue"))
```
]

.pull-right[
&lt;img src="lecture_files/figure-html/plot-label-out5-1.png" style="display: block; margin: auto;" /&gt;
]

---
# ggplot2

.pull-left[

```r
library(ggplot2)
ggplot() +
  geom_sf(data = nz, aes(fill = Median_income)) +
  geom_sf(data = nz_ports, size = 3) +
  scale_fill_distiller(palette = "YlOrRd",
                       direction = 1,
                       name = "Median Income") +
  scale_x_continuous(breaks = c(170, 175, 180)) +
  theme(panel.background = 
          element_rect(fill = "lightblue"))
```
]

.pull-right[
&lt;img src="lecture_files/figure-html/plot-label-out6-1.png" style="display: block; margin: auto;" /&gt;
]

---
# ggspatial

.pull-left[

```r
library(ggspatial)
ggplot() +
  geom_sf(data = nz, aes(fill = Median_income)) +
  geom_sf(data = nz_ports, size = 3) +
  scale_fill_distiller(palette = "YlOrRd",
                       direction = 1,
                       name = "Median Income") +
  scale_x_continuous(breaks = c(170, 175, 180)) +
  annotation_scale(location = "br") +
  annotation_north_arrow(location = "tr",
                         which_north = "true") +
  theme(panel.background = 
          element_rect(fill = "lightblue"))
```
]

.pull-right[
&lt;img src="lecture_files/figure-html/plot-label-out8-1.png" style="display: block; margin: auto;" /&gt;
]

---
# mapsf


.pull-left[

```r
library(mapsf)
g = st_graticule(nz, lon = c(170, 175),
                 lat = c(-45, -40, -35))
mf_map(g,
       bg = "lightblue")
mf_map(x = nz, 
       var = "Median_income",
       type = "choro",
       breaks = "pretty",
       leg_title = "Median income",
       pal = "YlOrRd",
       add = TRUE)
mf_arrow(pos = "topright")
mf_scale()
```
]

.pull-right[
&lt;img src="lecture_files/figure-html/plot-label-out9-1.png" style="display: block; margin: auto;" /&gt;
]

---
# leaflet

.pull-left[

```r
library(leaflet)
leaflet(nz) %&gt;%
  addTiles() %&gt;%
  addPolygons()
```
]

.pull-right[
<div id="htmlwidget-8fcee4d45f245214b2a0" style="width:504px;height:504px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-8fcee4d45f245214b2a0">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addPolygons","args":[[[[{"lng":[1745493.1964,1740538.5996,1733165.0316,1720196.5583,1709110.421,1701512.1629,1694071.9249,1698472.8948,1703768.5647,1706030.7416,1701819.5613,1693314.4403,1688395.3701,1677965.6958,1662101.242,1633099.9635,1632333.2593,1604938.2778,1611887.8264,1615313.2862,1615273.0793,1607401.5736,1586362.9653,1568216.7085,1572430.2944,1580992.292,1587964.7471,1601327.0514,1598604.2695,1602302.8684,1610993.2613,1618217.2473,1625654.4806,1619611.4661,1626312.6186,1631049.39,1626224.9002,1639245.1299,1635581.8515,1639612.9348,1648872.4808,1651390.585,1658793.6184,1664017.9086,1667504.0425,1676773.8092,1684932.9873,1687775.4183,1698281.2535,1698221.3987,1702333.8303,1717303.0017,1722717.7282,1721686.2959,1733193.0766,1733658.2241,1739226.7945,1736021.5816,1740875.9821,1740416.647,1734255.2674,1728574.9872,1726887.6147,1735540.1812,1731745.7286,1736045.2861,1743201.6498,1745493.1964],"lat":[6001802.1687,5995065.9167,5989714.0167,5980077.6907,5986671.9829,5996204.8743,5996670.1668,5988332.4659,5984808.5328,5975135.9042,5971967.4757,5971970.8739,5989681.2008,6005588.9233,6027765.2897,6066188.0936,6068917.4647,6105747.6678,6107105.9235,6111814.5646,6122910.9659,6138887.1603,6168009.0013,6184787.0696,6190525.1309,6187484.7528,6191873.681,6190814.8423,6179319.1659,6165378.966,6147279.1175,6141247.7304,6138839.3171,6131232.4434,6125451.5999,6131536.119,6142056.7211,6146263.0728,6132044.6677,6128430.5315,6126997.4738,6135510.2472,6130516.4984,6132002.6554,6122580.5619,6127264.7553,6121315.2794,6113350.8992,6113546.125,6096136.1567,6093768.139,6095680.8189,6089921.1923,6084337.3811,6071540.9794,6064257.0177,6060695.3658,6054847.8425,6045543.1983,6030364.0474,6038727.4396,6038982.8492,6033883.3977,6032640.157,6024545.9745,6011617.8379,6009537.2847,6001802.1687]}]],[[{"lng":[1803822.1031,1791443.0137,1790081.5134,1781819.1727,1776591.4163,1765764.834,1761057.3402,1747105.2927,1736768.9683,1744704.0897,1750162.324,1754524.2901,1765183.9502,1762528.3102,1755221.6925,1749753.503,1740914.2529,1731875.8333,1730753.8211,1727032.5428,1713898.1497,1704673.1979,1706476.2384,1710780.3719,1717511.1415,1725607.508,1728168.2052,1726871.0844,1712787.0833,1712876.2566,1723288.6065,1733165.0316,1740538.5996,1745493.1964,1749043.5044,1756835.8308,1763284.6902,1755560.2512,1754286.9472,1751459.2114,1755590.562,1758494.6251,1754720.0237,1767681.973,1773869.4544,1783208.6027,1786416.5249,1795397.54,1803207.194,1803822.1031],"lat":[5900006.1432,5900570.6558,5883500.404,5882942.8241,5879245.1632,5876313.3083,5878220.3356,5871395.3306,5895519.1967,5899814.8501,5888630.8196,5889708.8401,5897845.7736,5902135.7747,5905443.9986,5911149.0416,5903144.0903,5898774.0656,5909214.5869,5923680.7083,5947486.0901,5960574.7,5967202.4575,5967858.8271,5955742.4874,5945892.267,5958418.5318,5970348.2785,5973068.2541,5979163.4373,5979740.7952,5989714.0167,5995065.9167,6001802.1687,5995087.6688,5986141.2589,5982876.8778,5969946.0352,5957789.0975,5950857.5833,5942763.6403,5928782.0075,5921346.8941,5919857.9994,5914954.9546,5916177.848,5909102.4632,5910166.2062,5903965.8422,5900006.1432]}],[{"lng":[1815954.1251,1818016.2185,1823326.993,1822799.7093,1828379.0056,1826629.2121,1818873.7655,1818587.8044,1811226.9977,1812665.5001,1809305.3687,1810895.7047,1815954.1251],"lat":[6007877.9063,5999003.8299,5991879.4741,5986091.7836,5980307.1686,5974533.3354,5979183.8569,5983089.0239,5988141.8267,5993246.6009,5998208.3619,6005905.3369,6007877.9063]}],[{"lng":[1793981.8643,1791257.0345,1784279.8937,1781830.7229,1793981.8643],"lat":[5931917.8426,5919906.8808,5921578.8138,5925845.6737,5931917.8426]}]],[[{"lng":[1860345.0048,1857808.43,1850510.8191,1848326.9061,1850060.6832,1857853.6866,1855748.1947,1861724.3588,1858482.4418,1869879.3738,1869651.3855,1875802.3863,1882877.714,1888648.7396,1896417.3959,1899825.5775,1906113.6495,1900702.3565,1882658.4144,1882617.8633,1882317.1392,1872435.8506,1874459.6211,1866732.4579,1858443.299,1856061.9694,1849196.771,1842531.7981,1830179.2035,1820640.7292,1827646.5067,1826451.6403,1832324.3545,1821959.6558,1823700.8219,1820950.4423,1823532.4769,1819286.5181,1829271.3423,1827833.9667,1816411.2202,1807702.9634,1801959.463,1792627.1879,1783612.2575,1770030.6328,1768396.9429,1761828.2605,1755758.6869,1743866.8306,1740438.2163,1743581.6784,1742763.7777,1750010.4278,1749951.0977,1748213.2512,1755743.9643,1766238.7918,1764507.644,1755919.306,1757331.0545,1754533.0531,1762308.6936,1772247.9922,1771904.4551,1761753.3504,1756216.3488,1750437.7537,1747105.2927,1761057.3402,1765764.834,1776591.4163,1781819.1727,1790081.5134,1791443.0137,1803822.1031,1803887.7127,1806190.1696,1812852.2095,1825988.1558,1823440.3474,1824116.5784,1821768.6128,1814706.9143,1822141.3287,1822676.647,1817027.0893,1818715.6632,1815250.2313,1809840.2361,1808577.1187,1812187.4843,1825599.3525,1825667.43,1831000.0064,1830377.2931,1836323.175,1849127.4916,1841556.6716,1848071.6015,1854402.2698,1853093.7251,1856889.7364,1855461.6901,1860345.0048],"lat":[5859664.7614,5853928.7121,5849039.9585,5844416.7536,5831737.8593,5814999.7848,5809227.8181,5799582.6249,5797935.865,5784218.7918,5776239.717,5765282.7701,5762716.4867,5763571.5528,5752899.0638,5753843.7891,5743736.2431,5726216.1382,5699474.6592,5690382.7765,5683959.6259,5674326.9556,5669720.6206,5664323.1092,5666145.4118,5659083.3122,5656405.6363,5646122.9576,5646874.3838,5649475.886,5662343.1026,5670944.2722,5682053.1082,5681560.8903,5689970.1419,5695691.5528,5700459.1764,5707931.8007,5725236.3456,5736847.7269,5738133.6157,5731320.8919,5729941.2003,5720914.7165,5722779.2911,5718307.5912,5709165.1401,5706589.6873,5711463.5166,5711520.2254,5714538.1337,5742265.6714,5749958.5997,5758784.3943,5770541.7375,5779784.0755,5777991.8612,5782949.5976,5787140.4402,5783646.5595,5791861.4572,5807840.6511,5814339.8067,5815414.512,5819959.958,5815488.6276,5841437.5934,5857535.6292,5871395.3306,5878220.3356,5876313.3083,5879245.1632,5882942.8241,5883500.404,5900570.6558,5900006.1432,5889226.7963,5881452.449,5877243.7553,5884637.6569,5891852.7153,5898374.9655,5906413.7642,5918226.4985,5923498.7093,5928630.3104,5935640.378,5940048.8554,5948961.3609,5952152.5699,5960201.1553,5961467.8771,5953111.3075,5947439.4466,5943372.1285,5937494.6133,5931105.9702,5934324.3631,5920282.3601,5921217.3961,5909879.8403,5907181.7125,5896878.3162,5879017.9362,5859664.7614]}]],[[{"lng":[2049387.2903,2051015.7994,2040276.0338,2040254.7123,2046969.4307,2037607.8428,2026254.7057,2016035.1961,2011454.9534,2003364.5328,1993944.8905,1990209.9858,1969903.8646,1971270.6065,1959096.4667,1952275.9837,1947173.5702,1937485.6073,1927642.8567,1923180.1888,1920890.7973,1912640.0996,1905753.6279,1900600.4252,1892947.8011,1886490.6995,1882617.8633,1882658.4144,1900702.3565,1906113.6495,1899825.5775,1896417.3959,1888648.7396,1882877.714,1875802.3863,1869651.3855,1869879.3738,1858482.4418,1861724.3588,1855748.1947,1857853.6866,1850060.6832,1848326.9061,1850510.8191,1857808.43,1860345.0048,1862202.3565,1859309.5869,1862559.8838,1869322.7846,1881207.5804,1886618.6134,1901248.0511,1906388.0356,1917024.5486,1928616.8073,1945646.1436,1958730.2882,1965415.3279,1985052.8972,1994362.2301,1999800.0994,2006740.6805,2012690.0393,2016990.3223,2029580.5631,2037818.6966,2042367.6795,2049387.2903],"lat":[5832785.4339,5826423.1095,5825883.5373,5809010.0221,5808278.7268,5799715.2035,5770621.3005,5778901.249,5771760.7248,5763445.7434,5760364.8419,5747739.1158,5738370.7586,5729190.8948,5721330.4746,5717531.3957,5709646.8668,5713017.57,5710962.4325,5707228.9772,5696527.9612,5696416.6511,5699875.384,5683990.925,5679033.552,5688939.7195,5690382.7765,5699474.6592,5726216.1382,5743736.2431,5753843.7891,5752899.0638,5763571.5528,5762716.4867,5765282.7701,5776239.717,5784218.7918,5797935.865,5799582.6249,5809227.8181,5814999.7848,5831737.8593,5844416.7536,5849039.9585,5853928.7121,5859664.7614,5852925.7995,5841521.7386,5831745.4901,5827573.6404,5829926.4514,5824712.3677,5816583.3003,5815765.9524,5806984.2022,5800960.1024,5796111.2197,5788660.7962,5787137.1386,5786918.396,5790273.0768,5794681.2509,5805119.9499,5810453.0855,5819138.5439,5821477.1803,5826395.8626,5831967.3535,5832785.4339]}]],[[{"lng":[2024489.357,2019036.647,2016276.7631,2004167.3509,2004512.4698,1999279.2208,1990461.9682,1987204.3082,1979035.9316,1974857.4505,1959096.4667,1971270.6065,1969903.8646,1990209.9858,1993944.8905,2003364.5328,2011454.9534,2016035.1961,2026254.7057,2037607.8428,2046969.4307,2040254.7123,2040276.0338,2051015.7994,2049387.2903,2057336.051,2066204.0493,2073446.3004,2083882.2803,2089532.8267,2076589.1957,2073760.8014,2068701.4058,2071347.2107,2066637.6678,2067632.1969,2065038.0977,2066710.7083,2060884.8627,2061518.0363,2052804.4655,2039244.5953,2032642.2833,2026460.6829,2024489.357],"lat":[5674919.8545,5677333.869,5683982.4345,5683463.4985,5689653.921,5694584.4444,5698259.3613,5714227.3562,5715886.9869,5712173.3973,5721330.4746,5729190.8948,5738370.7586,5747739.1158,5760364.8419,5763445.7434,5771760.7248,5778901.249,5770621.3005,5799715.2035,5808278.7268,5809010.0221,5825883.5373,5826423.1095,5832785.4339,5833212.003,5830508.7146,5821571.3012,5819841.5521,5813824.8039,5796088.1899,5784733.895,5779660.7224,5770041.8989,5767226.722,5759422.6972,5754018.0293,5734205.5563,5728556.8646,5722418.9016,5714161.3589,5704161.5475,5706842.8953,5690841.8337,5674919.8545]}]],[[{"lng":[2024489.357,2024126.2443,2032576.3647,2025489.0085,2023582.1765,2018759.9105,2018242.3335,2021363.5548,2011585.0807,2001299.7068,1982594.641,1968355.0873,1949460.9445,1944081.4777,1937809.0295,1933705.7068,1937564.0201,1937041.5161,1940470.0115,1949590.7967,1943712.9014,1942741.9409,1936008.7528,1931818.3866,1929665.4459,1922956.0826,1913579.6712,1907314.9851,1892192.9125,1885966.3466,1887758.7478,1883307.7423,1873524.476,1867653.2595,1864128.4007,1865542.7709,1872210.6541,1874164.9978,1869906.0258,1873610.2817,1869822.9538,1868020.9434,1869098.9495,1865828.8255,1868949.091,1866732.4579,1874459.6211,1872435.8506,1882317.1392,1882617.8633,1886490.6995,1892947.8011,1900600.4252,1905753.6279,1912640.0996,1920890.7973,1923180.1888,1927642.8567,1937485.6073,1947173.5702,1952275.9837,1959096.4667,1974857.4505,1979035.9316,1987204.3082,1990461.9682,1999279.2208,2004512.4698,2004167.3509,2016276.7631,2019036.647,2024489.357],"lat":[5674919.8545,5663676.0972,5659652.5031,5652779.0511,5646628.654,5646089.9975,5655152.5675,5662183.4173,5665934.4835,5667381.5106,5666960.1607,5663409.01,5653896.8134,5643003.5254,5638158.8452,5629143.9242,5623044.6238,5614880.6329,5606505.7173,5600561.8323,5593099.5314,5582770.709,5572017.2492,5562162.5745,5550480.2728,5542543.5078,5537260.134,5518430.6317,5521329.9682,5544951.5742,5549215.5145,5556546.3034,5565212.3577,5564356.2694,5568156.1288,5576809.8708,5595822.5111,5604698.6985,5613617.7892,5618567.8795,5625780.9133,5635878.2923,5642356.9817,5649937.8469,5654440.4306,5664323.1092,5669720.6206,5674326.9556,5683959.6259,5690382.7765,5688939.7195,5679033.552,5683990.925,5699875.384,5696416.6511,5696527.9612,5707228.9772,5710962.4325,5713017.57,5709646.8668,5717531.3957,5721330.4746,5712173.3973,5715886.9869,5714227.3562,5698259.3613,5694584.4444,5689653.921,5683463.4985,5683982.4345,5677333.869,5674919.8545]}]],[[{"lng":[1740438.2163,1743866.8306,1755758.6869,1761828.2605,1758061.7328,1756059.2429,1758467.9655,1752778.5937,1754718.9319,1744794.6509,1751527.7085,1750760.7125,1762979.5855,1761130.6298,1765872.898,1769193.6777,1769238.1416,1765463.2272,1752608.1792,1746813.2992,1733421.7626,1723753.0741,1716041.0872,1703177.7568,1692482.1885,1678297.6246,1668435.914,1664823.8696,1668638.1727,1678631.2413,1694228.2685,1703999.3421,1720467.4647,1735355.7206,1740438.2163],"lat":[5714538.1337,5711520.2254,5711463.5166,5706589.6873,5705229.6486,5696637.2854,5690101.3825,5681210.9348,5674173.7537,5667479.8712,5655826.6209,5651161.038,5641761.3322,5637044.6406,5628607.2381,5627410.6142,5608879.499,5601040.2339,5586482.7072,5585571.4505,5591341.9357,5598918.7329,5609206.3301,5617270.3399,5618598.4679,5625696.5623,5636860.1946,5651847.5204,5661560.8752,5669389.883,5677007.4376,5683825.9548,5683539.7182,5698056.4955,5714538.1337]}]],[[{"lng":[1866732.4579,1868949.091,1865828.8255,1869098.9495,1868020.9434,1869822.9538,1873610.2817,1869906.0258,1874164.9978,1872210.6541,1865542.7709,1864128.4007,1867653.2595,1873524.476,1883307.7423,1887758.7478,1885966.3466,1892192.9125,1907314.9851,1906873.6224,1895908.792,1881590.3262,1871479.2833,1860388.0631,1855315.6648,1842332.9976,1833345.3743,1834041.2791,1827335.0512,1824018.2723,1808991.2029,1805978.4286,1800284.3837,1791302.0353,1780499.4714,1785449.5278,1789000.1997,1788996.5077,1787155.8641,1784312.4522,1774643.6832,1764809.9195,1752608.1792,1765463.2272,1769238.1416,1769193.6777,1765872.898,1761130.6298,1762979.5855,1750760.7125,1751527.7085,1744794.6509,1754718.9319,1752778.5937,1758467.9655,1756059.2429,1758061.7328,1761828.2605,1768396.9429,1770030.6328,1783612.2575,1792627.1879,1801959.463,1807702.9634,1816411.2202,1827833.9667,1829271.3423,1819286.5181,1823532.4769,1820950.4423,1823700.8219,1821959.6558,1832324.3545,1826451.6403,1827646.5067,1820640.7292,1830179.2035,1842531.7981,1849196.771,1856061.9694,1858443.299,1866732.4579],"lat":[5664323.1092,5654440.4306,5649937.8469,5642356.9817,5635878.2923,5625780.9133,5618567.8795,5613617.7892,5604698.6985,5595822.5111,5576809.8708,5568156.1288,5564356.2694,5565212.3577,5556546.3034,5549215.5145,5544951.5742,5521329.9682,5518430.6317,5511357.1853,5507493.3792,5489434.3907,5494112.9734,5489069.4724,5488875.0603,5481929.0233,5483308.7034,5490977.4827,5491444.5253,5486441.8407,5492335.6189,5486780.7274,5488857.9416,5484457.1645,5492312.8245,5507010.5459,5525677.5708,5537345.6787,5550331.2725,5558106.6348,5571853.2197,5581632.3694,5586482.7072,5601040.2339,5608879.499,5627410.6142,5628607.2381,5637044.6406,5641761.3322,5651161.038,5655826.6209,5667479.8712,5674173.7537,5681210.9348,5690101.3825,5696637.2854,5705229.6486,5706589.6873,5709165.1401,5718307.5912,5722779.2911,5720914.7165,5729941.2003,5731320.8919,5738133.6157,5736847.7269,5725236.3456,5707931.8007,5700459.1764,5695691.5528,5689970.1419,5681560.8903,5682053.1082,5670944.2722,5662343.1026,5649475.886,5646874.3838,5646122.9576,5656405.6363,5659083.3122,5666145.4118,5664323.1092]}]],[[{"lng":[1881590.3262,1875692.5899,1871587.9288,1865558.8293,1861255.063,1857065.2221,1851941.9865,1848185.7693,1842875.8941,1835204.3025,1823617.8214,1815817.7786,1811439.3117,1802888.9459,1793774.5693,1786361.4631,1783162.9042,1785215.2847,1770873.4126,1760761.9048,1754562.8585,1760179.5971,1754578.9831,1749598.3203,1753907.175,1742628.2566,1738956.2723,1735961.8126,1743445.3375,1750653.2442,1756829.4639,1755164.2194,1763060.6411,1767654.2463,1771576.5557,1780499.4714,1791302.0353,1800284.3837,1805978.4286,1808991.2029,1824018.2723,1827335.0512,1834041.2791,1833345.3743,1842332.9976,1855315.6648,1860388.0631,1871479.2833,1881590.3262],"lat":[5489434.3907,5479987.0006,5466617.8818,5462204.4429,5454902.2557,5442177.423,5437832.4755,5429838.849,5427959.3185,5417504.3427,5411850.9425,5403911.0701,5403021.3929,5395234.0247,5391360.3878,5391644.5909,5400766.4321,5410960.4801,5417785.5362,5411198.2076,5419688.2993,5430649.0821,5434196.9695,5430266.3412,5423503.8335,5420196.5291,5422126.4906,5431073.5298,5435415.8878,5445848.8982,5449934.3108,5454060.1673,5459399.1045,5472803.2304,5475715.5986,5492312.8245,5484457.1645,5488857.9416,5486780.7274,5492335.6189,5486441.8407,5491444.5253,5490977.4827,5483308.7034,5481929.0233,5488875.0603,5489069.4724,5494112.9734,5489434.3907]}]],[[{"lng":[1557042.1694,1554239.2693,1546356.3982,1537141.6618,1528824.4887,1525731.0481,1515962.2904,1511160.2855,1505250.0196,1498903.083,1497609.6348,1493106.4676,1473411.948,1470430.0653,1462643.278,1456359.539,1453271.9852,1443707.3981,1437004.9963,1432420.8744,1423967.9192,1413968.0841,1405137.0097,1399925.831,1389413.4315,1383529.7926,1376788.3611,1365765.3381,1365475.2623,1355859.8802,1350678.5503,1335204.7894,1326630.8662,1326768.384,1309770.8648,1301853.823,1295000.9575,1291506.1321,1278078.9619,1277446.7476,1268584.5379,1268066.5402,1259943.0867,1251837.8668,1239047.7821,1229077.5437,1234108.3942,1229182.4374,1228752.7781,1218808.8158,1211542.7226,1205019.3026,1219790.3629,1225686.3164,1230091.2447,1240222.8329,1246740.2949,1255970.4568,1264313.4769,1269825.106,1276175.2864,1294651.3739,1311717.211,1324898.466,1332652.0487,1340437.7427,1355371.2819,1360757.8519,1377783.5411,1376873.2819,1383657.3999,1389870.9418,1398269.4809,1414025.4606,1425709.9664,1431990.9962,1440241.8865,1449434.433,1453314.6364,1460174.8306,1461293.081,1468806.4507,1471891.244,1472153.6947,1482543.5347,1489466.7424,1502438.3384,1506839.941,1515435.5976,1521687.6081,1524012.7583,1525315.3201,1523749.4262,1527002.4853,1533992.2192,1535019.4418,1546999.0502,1542009.8103,1557455.1377,1556804.5398,1567951.3657,1571336.2457,1566539.4072,1565243.6387,1555123.9617,1551404.9184,1545130.8513,1543396.9999,1536548.7144,1537337.3213,1527570.2406,1526615.8936,1521431.6705,1528496.1328,1534404.3349,1538939.4996,1544804.2596,1545200.8426,1548021.1328,1557042.1694],"lat":[5319333.3865,5309440.3477,5306561.0222,5299228.7584,5288212.6655,5280934.9791,5278763.9656,5273957.5594,5263569.4264,5261572.7246,5252405.9725,5249366.5512,5248098.6484,5243429.3914,5243640.3749,5237399.4001,5229362.64,5226034.4455,5213319.5678,5214458.9432,5205415.3233,5201005.2818,5188171.087,5190648.6905,5180579.1075,5181248.5186,5178417.7624,5168962.723,5161736.1351,5146779.0448,5144224.9658,5126878.2502,5127138.0452,5121084.2776,5108733.9371,5110428.9037,5108782.8583,5111996.2843,5104248.2535,5097992.1463,5092345.3888,5081934.6269,5072654.3944,5070615.036,5063075.8917,5062352.3469,5076195.8971,5080891.2393,5086020.3305,5088503.269,5085359.0115,5087481.4721,5099568.7567,5112009.2643,5117377.5303,5118119.0558,5121740.7105,5119810.6792,5123229.0797,5130414.3697,5133724.4308,5152317.0627,5163535.0892,5167015.6433,5173551.26,5187378.9494,5195022.1137,5202545.5435,5216393.2521,5222339.1216,5225018.7575,5231940.3485,5234279.4107,5244427.3725,5256657.2528,5267873.6718,5276133.1476,5292212.4767,5306380.4808,5319162.9448,5331844.6604,5358144.8851,5362118.2634,5376862.6269,5379244.6274,5378249.262,5388747.9399,5393955.2802,5411266.6045,5418182.8899,5429453.985,5458001.2109,5470145.2583,5477464.2657,5485976.072,5476955.3534,5464298.6477,5459508.8163,5458397.1858,5455094.1904,5443422.4417,5434635.9538,5427658.6743,5419397.0816,5416212.5535,5408718.6887,5404065.932,5393268.8114,5389966.0969,5385009.9383,5381610.8423,5364456.5055,5355875.6858,5338309.9653,5339003.4685,5333492.3411,5333282.3007,5324005.9216,5318875.6524,5319333.3865]}]],[[{"lng":[1686901.9139,1679995.829,1673699.3316,1657487.738,1655263.2432,1648900.8236,1641829.8939,1639332.1376,1630127.5869,1619711.6918,1611819.9698,1606559.479,1585108.6728,1578383.9069,1576033.9248,1576986.5635,1581916.1911,1603229.7935,1608230.2131,1610476.1291,1608081.0017,1599817.5912,1586877.4836,1578171.4634,1566843.9569,1545088.2951,1522019.8635,1489191.0734,1475323.7179,1467048.4724,1460188.9066,1461405.1636,1456634.6289,1453979.0702,1455295.9614,1453579.2628,1432787.0317,1415188.3185,1413591.61,1406255.8931,1399030.4452,1395149.4388,1391174.2007,1392802.3722,1388367.653,1382371.0241,1370731.3716,1362553.226,1357710.8063,1349209.8947,1342693.4409,1333611.5331,1332210.593,1325039.2845,1327166.4745,1325903.3348,1336955.6509,1335204.7894,1350678.5503,1355859.8802,1365475.2623,1365765.3381,1376788.3611,1383529.7926,1389413.4315,1399925.831,1405137.0097,1413968.0841,1423967.9192,1432420.8744,1437004.9963,1443707.3981,1453271.9852,1456359.539,1462643.278,1470430.0653,1473411.948,1493106.4676,1497609.6348,1498903.083,1505250.0196,1511160.2855,1515962.2904,1525731.0481,1528824.4887,1537141.6618,1546356.3982,1554239.2693,1557042.1694,1568189.2955,1570165.1819,1576970.4612,1577004.1295,1585412.3027,1587010.1991,1592924.1383,1595175.1626,1599416.2473,1602941.4182,1615625.2056,1620154.5735,1625754.1804,1638347.7223,1641283.9549,1659682.8827,1661737.2805,1667754.2111,1679241.1397,1686901.9139],"lat":[5353232.6602,5344808.8355,5328828.9497,5311009.3367,5304153.9944,5302481.0781,5293955.8316,5284300.4001,5261459.7075,5244391.0788,5240681.8348,5233548.4497,5224370.6395,5210828.8314,5195792.9217,5178297.8227,5174447.5357,5166421.3836,5161921.9696,5154466.3275,5146802.0917,5140636.1345,5140358.153,5147231.0437,5146563.1136,5142662.2435,5132297.7227,5112552.3222,5102140.3525,5093989.605,5084231.2168,5077146.2952,5068036.0861,5056742.9549,5029172.4397,5021995.1439,5026975.6781,5024465.3549,5019742.6681,5015772.4788,5006552.1269,5004766.2101,5011221.2387,5018938.7334,5024323.4875,5021045.3635,5019604.0239,5032481.3265,5050943.2302,5048959.3476,5055018.6193,5057579.1867,5071253.3169,5075376.4406,5084033.7155,5102723.2382,5118634.2509,5126878.2502,5144224.9658,5146779.0448,5161736.1351,5168962.723,5178417.7624,5181248.5186,5180579.1075,5190648.6905,5188171.087,5201005.2818,5205415.3233,5214458.9432,5213319.5678,5226034.4455,5229362.64,5237399.4001,5243640.3749,5243429.3914,5248098.6484,5249366.5512,5252405.9725,5261572.7246,5263569.4264,5273957.5594,5278763.9656,5280934.9791,5288212.6655,5299228.7584,5306561.0222,5309440.3477,5319333.3865,5328449.5716,5338969.5762,5338695.5651,5332565.9602,5327479.8709,5318103.1696,5315954.7895,5308271.2454,5305383.2162,5296541.7056,5304622.1788,5316540.6342,5322376.4063,5328393.578,5341361.1674,5354328.4749,5360238.9467,5357340.0744,5359477.5331,5353232.6602]}]],[[{"lng":[1335204.7894,1336955.6509,1325903.3348,1327166.4745,1325039.2845,1332210.593,1333611.5331,1342693.4409,1349209.8947,1357710.8063,1362553.226,1370731.3716,1382371.0241,1388367.653,1392802.3722,1391174.2007,1395149.4388,1399030.4452,1406255.8931,1413591.61,1415188.3185,1432787.0317,1453579.2628,1450300.3548,1440576.2929,1435341.1682,1429998.1607,1430475.5446,1424772.4099,1422583.5671,1417067.9152,1413267.4404,1417914.7672,1418788.7694,1407017.0618,1390602.0252,1383196.0876,1381369.7725,1363102.1846,1353663.5084,1354019.0062,1338483.1555,1329995.7273,1324715.4647,1315145.9743,1308827.0836,1312392.3265,1306280.4043,1307610.9144,1302699.5081,1306795.8716,1306745.672,1303581.7048,1302412.951,1295378.9127,1296724.3827,1289920.9162,1288250.0969,1297687.5213,1298266.7082,1303548.4733,1294282.8433,1291358.5865,1283550.5733,1278449.4726,1270134.1256,1267315.2801,1262496.2128,1260500.4561,1250336.9415,1233514.5629,1231081.1118,1223977.8977,1229011.6784,1229242.0292,1216092.6121,1214299.8771,1219439.0835,1217550.7702,1221426.8089,1229077.5437,1239047.7821,1251837.8668,1259943.0867,1268066.5402,1268584.5379,1277446.7476,1278078.9619,1291506.1321,1295000.9575,1301853.823,1309770.8648,1326768.384,1326630.8662,1335204.7894],"lat":[5126878.2502,5118634.2509,5102723.2382,5084033.7155,5075376.4406,5071253.3169,5057579.1867,5055018.6193,5048959.3476,5050943.2302,5032481.3265,5019604.0239,5021045.3635,5024323.4875,5018938.7334,5011221.2387,5004766.2101,5006552.1269,5015772.4788,5019742.6681,5024465.3549,5026975.6781,5021995.1439,5014960.361,5004039.6233,4995537.8124,4980817.356,4962158.2709,4955333.3767,4948326.9802,4944264.5265,4935287.8651,4930079.2407,4914019.3188,4913033.5162,4906579.4601,4895184.2654,4884883.9719,4868202.8834,4861558.587,4850816.2544,4837432.841,4837553.2567,4831634.7032,4830066.8586,4836636.4336,4841972.3449,4844820.0336,4853984.0247,4856971.5751,4862631.1581,4875298.4336,4879265.3436,4893339.4831,4900603.4327,4911569.2997,4913355.09,4928301.7577,4951952.4608,4958113.7976,4963763.3521,4974101.3795,4979564.1307,4969208.7721,4957400.1679,4959840.4135,4967431.0859,4970282.4328,4980937.3094,4973000.3446,4970014.3576,4981341.34,4989853.7654,4994426.9682,5001390.3121,5012025.1494,5019720.4864,5031695.3901,5038520.6587,5056736.4856,5062352.3469,5063075.8917,5070615.036,5072654.3944,5081934.6269,5092345.3888,5097992.1463,5104248.2535,5111996.2843,5108782.8583,5110428.9037,5108733.9371,5121084.2776,5127138.0452,5126878.2502]}]],[[{"lng":[1229077.5437,1221426.8089,1217550.7702,1219439.0835,1214299.8771,1216092.6121,1229242.0292,1229011.6784,1223977.8977,1231081.1118,1233514.5629,1250336.9415,1260500.4561,1262496.2128,1267315.2801,1270134.1256,1278449.4726,1283550.5733,1291358.5865,1294282.8433,1303548.4733,1298266.7082,1297687.5213,1288250.0969,1289920.9162,1296724.3827,1295378.9127,1302412.951,1303581.7048,1306745.672,1306795.8716,1302699.5081,1307610.9144,1306280.4043,1312392.3265,1308827.0836,1315145.9743,1310825.215,1302545.8256,1294518.7261,1282294.7146,1277759.2139,1262946.0033,1256389.5979,1243681.5529,1237141.582,1236558.0519,1230182.8929,1220231.2165,1216765.0225,1210125.3337,1198979.0045,1191716.8951,1192495.2879,1184219.7,1177965.5599,1167835.5237,1165212.1789,1154381.0869,1145713.5752,1125813.108,1120239.3835,1110718.117,1107254.9259,1111899.6661,1112612.1126,1106178.7931,1105329.9549,1100817.3686,1092782.0048,1090143.7961,1091224.1729,1096289.2646,1104323.0942,1118185.9831,1112208.2476,1113322.6202,1111068.33,1106259.7239,1106695.7796,1117187.9995,1122518.3553,1130304.0781,1126180.7244,1128324.2433,1147472.9159,1164664.7395,1169830.2383,1183312.6458,1188670.5136,1188873.4521,1191921.2833,1199602.6833,1201994.7462,1209103.1082,1205019.3026,1211542.7226,1218808.8158,1228752.7781,1229182.4374,1234108.3942,1229077.5437],"lat":[5062352.3469,5056736.4856,5038520.6587,5031695.3901,5019720.4864,5012025.1494,5001390.3121,4994426.9682,4989853.7654,4981341.34,4970014.3576,4973000.3446,4980937.3094,4970282.4328,4967431.0859,4959840.4135,4957400.1679,4969208.7721,4979564.1307,4974101.3795,4963763.3521,4958113.7976,4951952.4608,4928301.7577,4913355.09,4911569.2997,4900603.4327,4893339.4831,4879265.3436,4875298.4336,4862631.1581,4856971.5751,4853984.0247,4844820.0336,4841972.3449,4836636.4336,4830066.8586,4826096.002,4826990.4113,4823272.5043,4824390.3885,4832783.5132,4835230.6146,4832365.038,4835866.4271,4833285.4896,4840008.8904,4851883.4763,4856406.5645,4851222.4604,4853669.2927,4849486.1356,4858055.0056,4863716.2425,4870553.723,4873363.2068,4873809.1894,4864147.0607,4860510.5818,4860858.2031,4864390.5177,4862435.3249,4863890.3235,4869592.5054,4873686.381,4880145.3077,4879426.1598,4886103.7369,4888542.4421,4885619.3189,4895517.1142,4905166.9686,4908329.7856,4909351.8348,4913936.1324,4917011.0798,4923854.0253,4931826.5457,4933659.1411,4940592.6288,4967939.0317,4964819.669,4964653.4599,4977802.2913,4985574.8901,5015450.0653,5030305.8076,5037592.6398,5050215.7425,5048500.0511,5058725.2302,5067090.9809,5072881.4636,5079893.6338,5080088.6002,5087481.4721,5085359.0115,5088503.269,5086020.3305,5080891.2393,5076195.8971,5062352.3469]}],[{"lng":[1207704.4806,1216154.6733,1218477.7781,1229729.7347,1229997.9013,1221603.1693,1217789.5399,1231115.2067,1236183.9211,1232509.9445,1217364.4933,1208068.3451,1199129.799,1193856.5725,1195015.1263,1181598.8221,1181059.8351,1188964.0741,1188575.8813,1193562.9385,1196403.1733,1201122.0591,1200361.0396,1195572.0567,1198985.5975,1207704.4806],"lat":[4817129.7889,4813266.2203,4806498.4488,4798718.6067,4793432.2369,4794301.7685,4790489.8277,4787137.924,4784331.4255,4771870.0237,4768106.6692,4760567.7875,4763418.3939,4757495.7427,4751611.464,4748536.5611,4755904.7585,4762073.5129,4771077.7939,4776877.3095,4784814.7499,4788480.7601,4796922.2422,4808489.5651,4815387.3633,4817129.7889]}],[{"lng":[1107046.8733,1110194.3531,1111404.5691,1108800.6957,1101068.2698,1096277.6826,1107046.8733],"lat":[4930884.1834,4928426.7394,4920177.9986,4914502.166,4916950.6843,4926221.3416,4930884.1834]}],[{"lng":[1125376.3259,1124814.3323,1128289.7921,1125420.1958,1118817.3258,1125376.3259],"lat":[4982869.816,4976641.044,4970717.0423,4966522.1375,4972012.5867,4982869.816]}]],[[{"lng":[1616642.8771,1624866.2785,1620945.8498,1625382.8064,1614073.4662,1612637.5298,1607218.3519,1600315.1985,1593867.8574,1587351.3376,1588482.1075,1578097.9546,1576970.4612,1570165.1819,1568189.2955,1557042.1694,1548021.1328,1545200.8426,1544804.2596,1538939.4996,1534404.3349,1528496.1328,1521431.6705,1526615.8936,1527570.2406,1537337.3213,1536548.7144,1543396.9999,1545130.8513,1551404.9184,1555123.9617,1565243.6387,1566539.4072,1571336.2457,1567951.3657,1556804.5398,1557455.1377,1542009.8103,1546999.0502,1535019.4418,1533992.2192,1540246.6533,1553256.4449,1566615.0967,1569719.3715,1577031.7964,1573596.7427,1574033.0339,1582965.2161,1590416.6763,1599184.073,1605349.5481,1601040.1525,1602815.3164,1600799.8036,1605517.2208,1608729.4483,1616642.8771],"lat":[5424520.8823,5417556.3274,5409415.654,5405021.4536,5402263.2627,5396235.6923,5391862.9065,5380777.8116,5377119.136,5364170.1097,5358823.2367,5343761.8009,5338695.5651,5338969.5762,5328449.5716,5319333.3865,5318875.6524,5324005.9216,5333282.3007,5333492.3411,5339003.4685,5338309.9653,5355875.6858,5364456.5055,5381610.8423,5385009.9383,5389966.0969,5393268.8114,5404065.932,5408718.6887,5416212.5535,5419397.0816,5427658.6743,5434635.9538,5443422.4417,5455094.1904,5458397.1858,5459508.8163,5464298.6477,5476955.3534,5485976.072,5489048.6418,5502220.4572,5509516.0933,5515782.6873,5513481.8121,5507509.9763,5491404.3052,5481617.6963,5479843.9025,5485532.387,5471703.6141,5462115.4522,5451389.2354,5445281.9617,5440834.0851,5429026.4008,5424520.8823]}]],[[{"lng":[1624866.2785,1616642.8771,1618568.9015,1626024.283,1627132.7408,1634636.6409,1638725.8704,1649908.6947,1647663.2063,1643853.955,1634784.3143,1634039.9275,1624866.2785],"lat":[5417556.3274,5424520.8823,5428691.2922,5433359.2765,5438574.431,5444570.1193,5442617.6749,5455398.2413,5440024.9642,5439131.7479,5429061.4491,5424422.5596,5417556.3274]}]],[[{"lng":[1686901.9139,1679241.1397,1667754.2111,1661737.2805,1659682.8827,1641283.9549,1638347.7223,1625754.1804,1620154.5735,1615625.2056,1602941.4182,1599416.2473,1595175.1626,1592924.1383,1587010.1991,1585412.3027,1577004.1295,1576970.4612,1578097.9546,1588482.1075,1587351.3376,1593867.8574,1600315.1985,1607218.3519,1612637.5298,1614073.4662,1625382.8064,1620945.8498,1624866.2785,1634039.9275,1634784.3143,1643853.955,1647663.2063,1649908.6947,1656596.6623,1667509.7311,1671527.4288,1672851.8384,1678688.0856,1683391.8039,1690724.3317,1698889.1335,1702447.8994,1694233.9949,1694880.956,1687650.7256,1686293.715,1689443.5952,1695930.2161,1696344.2376,1699670.0048,1706020.4058,1699368.1852,1686901.9139],"lat":[5353232.6602,5359477.5331,5357340.0744,5360238.9467,5354328.4749,5341361.1674,5328393.578,5322376.4063,5316540.6342,5304622.1788,5296541.7056,5305383.2162,5308271.2454,5315954.7895,5318103.1696,5327479.8709,5332565.9602,5338695.5651,5343761.8009,5358823.2367,5364170.1097,5377119.136,5380777.8116,5391862.9065,5396235.6923,5402263.2627,5405021.4536,5409415.654,5417556.3274,5424422.5596,5429061.4491,5439131.7479,5440024.9642,5455398.2413,5457220.5745,5464013.7561,5458416.591,5444871.268,5451555.2351,5449432.7069,5458875.452,5460681.915,5452606.8218,5434406.3902,5428948.8081,5417072.2334,5407846.2036,5402521.0798,5398498.5114,5388694.927,5380258.1912,5377984.5774,5367783.9358,5353232.6602]}],[{"lng":[1680804.0605,1681036.5469,1676303.2282,1668529.5209,1665079.3317,1667965.0479,1679072.1723,1680804.0605],"lat":[5494901.2903,5486944.5483,5476697.0825,5468642.7381,5476279.6377,5482828.6371,5488849.6631,5494901.2903]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[4748536.5611,6191873.681],"lng":[1090143.7961,2089532.8267]}},"evals":[],"jsHooks":[]}</script>
]

---
# leaflet

.pull-left[

```r
library(leaflet)
nz4326 = st_transform(nz, 4326)
nz_ports4326 = st_transform(nz_ports, 4326)
pal = colorBin("YlOrRd",
               domain = nz4326$Median_income)
leaflet(nz4326) %&gt;%
  addTiles() %&gt;% 
  addPolygons(fillOpacity = 1,
          weight = 1,
          fillColor = ~pal(Median_income)) %&gt;% 
  addLegend(pal = pal,
            values = ~Median_income, 
            opacity = 1,
            title = "Median income") %&gt;% 
  addCircleMarkers(data = nz_ports4326)
```
]

.pull-right[
<div id="htmlwidget-32828986e99078c1b53f" style="width:504px;height:504px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-32828986e99078c1b53f">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addPolygons","args":[[[[{"lng":[174.616638800656,174.562809050564,174.481748333157,174.338965900234,174.214573266902,174.128772750479,174.045997583891,174.095972133855,174.155368483075,174.181866683395,174.135350500256,174.040527550541,173.983675883808,173.86604691657,173.688098133553,173.365180583183,173.356613017331,173.054243634031,173.130559999733,173.168093182624,173.167447217184,173.081005749918,172.851222917828,172.653880649817,172.69995103369,172.793065450767,172.869035233581,173.014442316542,172.984791449998,173.025130983722,173.120204417268,173.199324916413,173.280772883247,173.214814899913,173.288398249192,173.340087699738,173.286914883417,173.429163483407,173.389709633848,173.43403079967,173.535566349955,173.562634800269,173.644032483284,173.701142200014,173.74008500064,173.841272884062,173.931277716702,173.963284550175,174.078539632729,174.079958382619,174.125462949978,174.28978491699,174.350169531639,174.339655300127,174.468392016881,174.474719383801,174.536753999552,174.50237205005,174.557601466642,174.555188500026,174.485563450384,174.42268665044,174.404830266529,174.500809283377,174.460144966703,174.510000500399,174.589780900475,174.616638800656],"lat":[-36.1175604665955,-36.1790001827592,-36.2282769999432,-36.3168297168832,-36.2587116660859,-36.1736123994503,-36.170169550126,-36.2448879334658,-36.2760972327272,-36.3630358998131,-36.3920499169112,-36.3928830666112,-36.2337049996789,-36.0912001162456,-35.8924174497126,-35.5474016995135,-35.5228177334195,-35.1912381663496,-35.1789323328517,-35.1364273327505,-35.0363686494596,-34.8923919496618,-34.6297133663192,-34.4780076502047,-34.4263823994865,-34.4539942827612,-34.4145187168353,-34.4241368998064,-34.5278073326606,-34.6535190997586,-34.8166837671412,-34.8709688498192,-34.8925261172547,-34.9612557667477,-35.0132316332077,-34.9582312164518,-34.8634985660925,-34.8251486160708,-34.9534963329248,-34.985936149717,-34.9984530665285,-34.9215679665292,-34.9661940829241,-34.9524767161163,-35.0372064834494,-34.9943093161947,-35.0472986498451,-35.1188625998035,-35.1161315001266,-35.2730977500888,-35.2940340332261,-35.2751480001454,-35.3264187489332,-35.3768799004039,-35.4907537668788,-35.5563464661239,-35.5876817834871,-35.6408338001967,-35.7240167331065,-35.8608910000586,-35.7863742163629,-35.7848320998378,-35.8310155171767,-35.8410631829868,-35.9145349498201,-36.0304654495688,-36.0481898660515,-36.1175604665955]}]],[[{"lng":[175.291304133085,175.152091033439,175.141120333576,175.048242617195,174.990258082555,174.868951232796,174.815488049849,174.659628367495,174.538637882794,174.627048466479,174.690634167279,174.73950153409,174.857652450143,174.826874817006,174.744100215986,174.681552100084,174.583827667051,174.48303651745,174.468611433661,174.424401866458,174.273615083721,174.16870360025,174.187919333769,174.235835399823,174.312745950162,174.404776383887,174.43132198402,174.414885550516,174.25745998445,174.257569883856,174.373455166346,174.481748333157,174.562809050564,174.616638800656,174.657346033553,174.745751216322,174.818184083076,174.734791817454,174.723020317237,174.6928154505,174.740610167352,174.775982149355,174.735215883483,174.880847016882,174.95133831739,175.055796349564,175.093513100132,175.194032000505,175.28332898404,175.291304133085],"lat":[-37.0240384665269,-37.0215583499255,-37.1756033832982,-37.182271199634,-37.2165854996401,-37.2449866002433,-37.2286308828686,-37.2924320832104,-37.0766324001808,-37.0367340832569,-37.1366490000594,-37.1262254668411,-37.0510942830342,-37.0129061169001,-36.9843338828537,-36.9338147160376,-37.0073111163525,-37.0480030494191,-36.9540757993889,-36.8242195164743,-36.6113436505564,-36.4944308500372,-36.4344940164925,-36.4280906168409,-36.5364925994476,-36.6242364999823,-36.5110054662063,-36.4036616161879,-36.3809034491129,-36.3259556823771,-36.3194753664606,-36.2282769999432,-36.1790001827592,-36.1175604665955,-36.1775323830128,-36.2569215827736,-36.2852678662113,-36.4030681168194,-36.5128217502075,-36.5757347661774,-36.648003549368,-36.7735064498829,-36.841124949719,-36.8523293329453,-36.895384549847,-36.8826005993968,-36.9457113831122,-36.9343089329288,-36.9885057501568,-37.0240384665269]}],[{"lng":[175.397381334663,175.422708266539,175.483699566728,175.479485900624,175.543212183699,175.525421999773,175.437765849461,175.433490317008,175.35024318435,175.364852117958,175.326193733307,175.34179548326,175.397381334663],"lat":[-36.049713299334,-36.1291887990178,-36.1921515500181,-36.2444036833917,-36.2952009834157,-36.3476168495479,-36.307523166367,-36.2724128496347,-36.2285364497773,-36.1822376168855,-36.1382729818606,-36.0685923494045,-36.049713299334]}],[{"lng":[175.172594933364,175.14511235048,175.066499350381,175.038030716822,175.172594933364],"lat":[-36.7386591493701,-36.8474120331424,-36.8337360501136,-36.7957700665679,-36.7386591493701]}]],[[{"lng":[175.940104000403,175.913492216933,175.832775867556,175.809667417203,175.833586717063,175.927714949315,175.905873816582,175.977187833289,175.940945834187,176.075603717481,176.076019150588,176.150334834186,176.232057866462,176.297547798202,176.390623467125,176.429143533874,176.50532476716,176.45098049988,176.255113766945,176.258380934161,176.257562950888,176.147549683454,176.172753900527,176.085669116788,175.989206866078,175.964365549959,175.885970716458,175.812568800519,175.669211766574,175.557854216472,175.634656366174,175.617972132812,175.682012417337,175.562633650261,175.579969833542,175.546438183896,175.574620149733,175.523386533045,175.632458999383,175.612185166049,175.480939533801,175.38321201729,175.317760016591,175.213231183619,175.109226684129,174.954390867085,174.937845033609,174.862896367393,174.791960217277,174.655191183282,174.615147466571,174.64557498284,174.634641616934,174.715704749268,174.712538232633,174.690774649571,174.777037133266,174.895569600305,174.874875616366,174.77780156729,174.792085916113,174.75679855049,174.843696184123,174.956284466653,174.951308116722,174.837134500702,174.768715216871,174.700024633059,174.659628367495,174.815488049849,174.868951232796,174.990258082555,175.048242617195,175.141120333576,175.152091033439,175.291304133085,175.294966566686,175.323006283065,175.399204382699,175.544902117385,175.514084716696,175.519742083218,175.491002617546,175.408398483483,175.490180517216,175.494676733871,175.429445151763,175.447073067325,175.405834634532,175.344544616921,175.328268300531,175.368191233069,175.520191916265,175.522613315881,175.583391316676,175.578198899776,175.646650566192,175.788850933096,175.708633783133,175.781305150319,175.856004517196,175.842233483925,175.888322383072,175.878370950749,175.940104000403],"lat":[-37.3732415494177,-37.4255867168046,-37.4716019831908,-37.5138131497633,-37.6274871173512,-37.7760034327964,-37.8285516669824,-37.9136730328251,-37.9294224998321,-38.0495643996976,-38.1214420994632,-38.2181863995568,-38.2390825827257,-38.2295556170154,-38.3230470168629,-38.3134151168029,-38.4022137994137,-38.5616572328534,-38.8081781833421,-38.8899908832,-38.9478759665807,-39.0376737002045,-39.0784858666887,-39.1294486169037,-39.115548083218,-39.1798030168406,-39.2058951835182,-39.3003262165101,-39.2969341494396,-39.2759983495024,-39.1583628832968,-39.0812491668669,-38.9797105002429,-38.9868296998684,-38.9106842496727,-38.8598730996517,-38.8163002497247,-38.7500919668535,-38.5917750672203,-38.4876116162079,-38.4788807501445,-38.5422959832446,-38.5560422670198,-38.639399033155,-38.6245203666556,-38.6675035326607,-38.750158566659,-38.7745840666673,-38.7317766330068,-38.7332825998958,-38.7066484493599,-38.4563665331186,-38.387195516031,-38.3065037997108,-38.200598066221,-38.1176242502273,-38.1325016493315,-38.0859713163714,-38.0485370834874,-38.0815316832105,-38.0072839664294,-37.8638128168037,-37.8039134660885,-37.7924118832187,-37.7515311835379,-37.7936627827159,-37.5608502999387,-37.4167737834856,-37.2924320832104,-37.2286308828686,-37.2449866002433,-37.2165854996401,-37.182271199634,-37.1756033832982,-37.0215583499255,-37.0240384665269,-37.1211146497623,-37.1906320164387,-37.227041266647,-37.1573665495383,-37.0930035993995,-37.0341053993605,-36.9622664333836,-36.8575114002633,-36.8083106669992,-36.7619687494765,-36.7001410820403,-36.6600482663193,-36.5805631831099,-36.5530231170699,-36.4808005321015,-36.4685975823878,-36.540797348894,-36.5918639497278,-36.6272173993893,-36.6802999496879,-36.7363723666434,-36.7041192833087,-36.8325179663944,-36.8224126992364,-36.922808583448,-36.9474531172608,-37.0391867664023,-37.2003710497008,-37.3732415494177]}]],[[{"lng":[178.085284051072,178.107554901019,177.986683351304,177.9966216838,178.073006950751,177.972291634141,177.860967450378,177.73998423373,177.69206768402,177.604788567389,177.499270867243,177.463687900911,177.236922317735,177.257394033338,177.122170799865,177.045979500407,176.991448066688,176.878667633178,176.766746733663,176.717283066478,176.69597065003,176.601167800211,176.520452884076,176.468164783258,176.382140266513,176.303565400195,176.258380934161,176.255113766945,176.45098049988,176.50532476716,176.429143533874,176.390623467125,176.297547798202,176.232057866462,176.150334834186,176.076019150588,176.075603717481,175.940945834187,175.977187833289,175.905873816582,175.927714949315,175.833586717063,175.809667417203,175.832775867556,175.913492216933,175.940104000403,175.963443900661,175.934805299819,175.975048966784,176.053118300074,176.186754767107,176.250032000856,176.419017433437,176.477600450904,176.601950900428,176.736143750086,176.931668933884,177.083869783436,177.160565467622,177.383685833984,177.487534484234,177.546790133806,177.619619200899,177.683952433894,177.72763573395,177.868536418064,177.958640534699,178.006622350124,178.085284051072],"lat":[-37.5423911663695,-37.5987159661319,-37.6087571334111,-37.7602764999712,-37.7635896995148,-37.8450054663352,-38.1116561665495,-38.0420469669081,-38.1082776001083,-38.1866207665939,-38.218466749553,-38.3335362666423,-38.4263417997097,-38.5082771662098,-38.5839209335325,-38.6208022330665,-38.6936945832943,-38.6671346494108,-38.6893096832454,-38.7245242995849,-38.8215917663086,-38.8255591330702,-38.7968662996433,-38.9415194661341,-38.9887032829079,-38.9017194500041,-38.8899908832,-38.8081781833421,-38.5616572328534,-38.4022137994137,-38.3134151168029,-38.3230470168629,-38.2295556170154,-38.2390825827257,-38.2181863995568,-38.1214420994632,-38.0495643996976,-37.9294224998321,-37.9136730328251,-37.8285516669824,-37.7760034327964,-37.6274871173512,-37.5138131497633,-37.4716019831908,-37.4255867168046,-37.3732415494177,-37.4333808167608,-37.536853366205,-37.6239334661435,-37.6595265665208,-37.634790017341,-37.6800395996492,-37.7484934666571,-37.7541410500579,-37.8295142668897,-37.8795955831546,-37.9168967001651,-37.9788140829092,-37.9898454665602,-37.9836964665806,-37.9495595663945,-37.9075796830729,-37.8107283001314,-37.7601537161273,-37.6801879496912,-37.6533825667405,-37.6053283331363,-37.5531278668578,-37.5423911663695]}]],[[{"lng":[177.898992867599,177.834796917622,177.799025001196,177.660163933843,177.660490067463,177.597522800646,177.494212084347,177.447906750288,177.353425167718,177.307560650098,177.122170799865,177.257394033338,177.236922317735,177.463687900911,177.499270867243,177.604788567389,177.69206768402,177.73998423373,177.860967450378,177.972291634141,178.073006950751,177.9966216838,177.986683351304,178.107554901019,178.085284051072,178.174634084159,178.27630185211,178.36371060177,178.482593484816,178.550373601283,178.41585801832,178.391299368696,178.337261951675,178.373593884028,178.321955168811,178.338370118128,178.312409502003,178.344519151932,178.281772317683,178.293040667684,178.198843134477,178.050040402873,177.972729617512,177.911783384716,177.898992867599],"lat":[-38.9718330668037,-38.9527794162303,-38.8943903001803,-38.9047009167065,-38.8489419163927,-38.8070414997931,-38.7779742831157,-38.6359438828921,-38.6245578664864,-38.6597042000079,-38.5839209335325,-38.5082771662098,-38.4263417997097,-38.3335362666423,-38.218466749553,-38.1866207665939,-38.1082776001083,-38.0420469669081,-38.1116561665495,-37.8450054663352,-37.7635896995148,-37.7602764999712,-37.6087571334111,-37.5987159661319,-37.5423911663695,-37.534658299652,-37.5544868664312,-37.631004199356,-37.6410965159531,-37.6920842500843,-37.8580439169652,-37.9613996666553,-38.0095467667522,-38.0944882331678,-38.1221914165945,-38.1917070830343,-38.2415486163282,-38.4184646333134,-38.4721755162877,-38.526928333314,-38.6055091159961,-38.7020828327625,-38.6812606832734,-38.8279248668031,-38.9718330668037]}]],[[{"lng":[177.898992867599,177.9017996505,178.001674401045,177.92431856696,177.906174350565,177.850842017112,177.839268633773,177.870901817844,177.75596521677,177.636631150037,177.421363584246,177.259161701191,177.046117517361,176.989527483501,176.919394050451,176.876375366295,176.924177550286,176.922247883074,176.966353650113,177.075499034915,177.011022417518,177.005106232808,176.932128366662,176.888223216917,176.868997500491,176.794396933441,176.687031283296,176.622569049891,176.443295266386,176.359488317335,176.378605866566,176.32321406684,176.204970833786,176.136627349809,176.09383140064,176.106847067352,176.17685259975,176.195937933828,176.142726417604,176.183756817499,176.136827417623,176.111859467523,176.121760383432,176.080882450312,176.115201750033,176.085669116788,176.172753900527,176.147549683454,176.257562950888,176.258380934161,176.303565400195,176.382140266513,176.468164783258,176.520452884076,176.601167800211,176.69597065003,176.717283066478,176.766746733663,176.878667633178,176.991448066688,177.045979500407,177.122170799865,177.307560650098,177.353425167718,177.447906750288,177.494212084347,177.597522800646,177.660490067463,177.660163933843,177.799025001196,177.834796917622,177.898992867599],"lat":[-38.9718330668037,-39.0729589163746,-39.1049364834253,-39.170128766505,-39.2262764656247,-39.2334497993429,-39.1523278989566,-39.0876976334651,-39.0586759164819,-39.0504614667207,-39.0626328994174,-39.1006631831779,-39.1939367500206,-39.2940027839539,-39.3400230830998,-39.4226607995911,-39.4759893490698,-39.5495836494558,-39.6235120826987,-39.673259415579,-39.7427146832489,-39.8359419166031,-39.9352899665187,-40.0255260161828,-40.1313829665878,-40.2053349997861,-40.2563932328157,-40.4280165161931,-40.407388833065,-40.1971025165439,-40.1581407167419,-40.0937170162861,-40.0189951167996,-40.028578133887,-39.9955025832942,-39.9172052497374,-39.7440490995691,-39.6635709666433,-39.5846827831589,-39.5389751331424,-39.4752775333261,-39.3849908334676,-39.3263642668672,-39.2591636994191,-39.217689216508,-39.1294486169037,-39.0784858666887,-39.0376737002045,-38.9478759665807,-38.8899908832,-38.9017194500041,-38.9887032829079,-38.9415194661341,-38.7968662996433,-38.8255591330702,-38.8215917663086,-38.7245242995849,-38.6893096832454,-38.6671346494108,-38.6936945832943,-38.6208022330665,-38.5839209335325,-38.6597042000079,-38.6245578664864,-38.6359438828921,-38.7779742831157,-38.8070414997931,-38.8489419163927,-38.9047009167065,-38.8943903001803,-38.9527794162303,-38.9718330668037]}]],[[{"lng":[174.615147466571,174.655191183282,174.791960217277,174.862896367393,174.819869750297,174.798771383129,174.82803073341,174.764415417466,174.788411450134,174.675169549981,174.755642432479,174.747802983227,174.891668949943,174.871353583229,174.928495867377,174.967386967073,174.97262881664,174.930618333552,174.784081849931,174.716569950035,174.558874867369,174.444514817259,174.352709617041,174.201535516873,174.076819100748,173.910845583182,173.794988949217,173.75158500083,173.794817016681,173.909613299173,174.088957305084,174.200815833298,174.390964834124,174.559947483204,174.615147466571],"lat":[-38.7066484493599,-38.7332825998958,-38.7317766330068,-38.7745840666673,-38.7875171166311,-38.8652667999914,-38.923704366338,-39.0047909500201,-39.0678331830544,-39.1298299493616,-39.2336436335003,-39.2757990163096,-39.3582403665654,-39.401065466581,-39.4761503161982,-39.4862796832774,-39.653146100114,-39.7244787999056,-39.8579774497812,-39.8672062167774,-39.8174444664505,-39.7506608664429,-39.6590780832936,-39.588083783155,-39.5773399666899,-39.5148036332211,-39.4150641328049,-39.2803068998594,-39.1924945673116,-39.1211085998946,-39.050930172386,-38.9883909501843,-38.9888580830121,-38.855913583522,-38.7066484493599]}]],[[{"lng":[176.085669116788,176.115201750033,176.080882450312,176.121760383432,176.111859467523,176.136827417623,176.183756817499,176.142726417604,176.195937933828,176.17685259975,176.106847067352,176.09383140064,176.136627349809,176.204970833786,176.32321406684,176.378605866566,176.359488317335,176.443295266386,176.622569049891,176.620793584048,176.493457017513,176.33276253349,176.211253483372,176.082334183401,176.02244929987,175.871636834196,175.764739183997,175.77010965014,175.690650115948,175.653222466794,175.473443566666,175.439643550552,175.371593716648,175.266658932695,175.136486700712,175.190707066475,175.227057750243,175.223560650608,175.198135366129,175.162540683897,175.045463016741,174.927877449905,174.784081849931,174.930618333552,174.97262881664,174.967386967073,174.928495867377,174.871353583229,174.891668949943,174.747802983227,174.755642432479,174.675169549981,174.788411450134,174.764415417466,174.82803073341,174.798771383129,174.819869750297,174.862896367393,174.937845033609,174.954390867085,175.109226684129,175.213231183619,175.317760016591,175.38321201729,175.480939533801,175.612185166049,175.632458999383,175.523386533045,175.574620149733,175.546438183896,175.579969833542,175.562633650261,175.682012417337,175.617972132812,175.634656366174,175.557854216472,175.669211766574,175.812568800519,175.885970716458,175.964365549959,175.989206866078,176.085669116788],"lat":[-39.1294486169037,-39.217689216508,-39.2591636994191,-39.3263642668672,-39.3849908334676,-39.4752775333261,-39.5389751331424,-39.5846827831589,-39.6635709666433,-39.7440490995691,-39.9172052497374,-39.9955025832942,-40.028578133887,-40.0189951167996,-40.0937170162861,-40.1581407167419,-40.1971025165439,-40.407388833065,-40.4280165161931,-40.4917772330373,-40.5305003327721,-40.697900799416,-40.6592102828479,-40.7081527160579,-40.7114886668745,-40.7779047333494,-40.7680905667094,-40.6988883998422,-40.6965623329828,-40.7424894827011,-40.6933970997398,-40.7441521327217,-40.7268607830085,-40.7686105330861,-40.7003334998074,-40.5669227160489,-40.3980753833689,-40.2930346163214,-40.1765422327759,-40.1071686334006,-39.9854570661162,-39.8993730493337,-39.8579774497812,-39.7244787999056,-39.653146100114,-39.4862796832774,-39.4761503161982,-39.401065466581,-39.3582403665654,-39.2757990163096,-39.2336436335003,-39.1298299493616,-39.0678331830544,-39.0047909500201,-38.923704366338,-38.8652667999914,-38.7875171166311,-38.7745840666673,-38.750158566659,-38.6675035326607,-38.6245203666556,-38.639399033155,-38.5560422670198,-38.5422959832446,-38.4788807501445,-38.4876116162079,-38.5917750672203,-38.7500919668535,-38.8163002497247,-38.8598730996517,-38.9106842496727,-38.9868296998684,-38.9797105002429,-39.0812491668669,-39.1583628832968,-39.2759983495024,-39.2969341494396,-39.3003262165101,-39.2058951835182,-39.1798030168406,-39.115548083218,-39.1294486169037]}]],[[{"lng":[176.33276253349,176.267228400183,176.224487017583,176.154899234065,176.106925633451,176.06247941692,176.003310849804,175.961835883779,175.899294816757,175.811865650044,175.675583900734,175.58518594996,175.533100033117,175.433381416302,175.325406533484,175.236423100173,175.195284183578,175.216735033403,175.043268483566,174.924173882771,174.847847867082,174.912076183578,174.84435636702,174.785921437228,174.839045832862,174.705109599961,174.66078746668,174.623012999722,174.711288199763,174.794672150245,174.867167799271,174.846312016586,174.938811199179,174.989772533759,175.035492733743,175.136486700712,175.266658932695,175.371593716648,175.439643550552,175.473443566666,175.653222466794,175.690650115948,175.77010965014,175.764739183997,175.871636834196,176.02244929987,176.082334183401,176.211253483372,176.33276253349],"lat":[-40.697900799416,-40.7848636000785,-40.9064747168577,-40.9481505495627,-41.0152208993286,-41.1310157498429,-41.1717069160855,-41.2447749001051,-41.263295699946,-41.3596269993307,-41.4137952330758,-41.487372832698,-41.4965452334551,-41.568835716916,-41.6059589661807,-41.6051656500547,-41.5238026326986,-41.4315767334165,-41.3733172995721,-41.434702866697,-41.3594841327964,-41.2597096998983,-41.2288581497398,-41.2651837993434,-41.325258266261,-41.357110466716,-41.340375233043,-41.260325633351,-41.2199340172696,-41.1246902997312,-41.0867387663926,-41.0499113660407,-41.0003014665634,-40.8786943168909,-40.8516626997223,-40.7003334998074,-40.7686105330861,-40.7268607830085,-40.7441521327217,-40.6933970997398,-40.7424894827011,-40.6965623329828,-40.6988883998422,-40.7680905667094,-40.7779047333494,-40.7114886668745,-40.7081527160579,-40.6592102828479,-40.697900799416]}]],[[{"lng":[172.479030949819,172.444256900204,172.348260516017,172.235513800302,172.1330007499,172.094375383646,171.974953333456,171.915639166648,171.841774433461,171.763848766853,171.746369750711,171.69066966728,171.44922653414,171.411630450039,171.316264849941,171.237669015979,171.197689267427,171.079330766508,170.993271149153,170.937214367317,170.830348166594,170.70569891615,170.592312017226,170.528889117364,170.395291850712,170.322861434049,170.238421217139,170.098131417274,170.091407749954,169.965530866418,169.900034783336,169.699336634166,169.592780550635,169.591375933128,169.372957082297,169.275178699666,169.188798133306,169.147102432454,168.975078451156,168.96335649954,168.849166000554,168.836083532939,168.728392349302,168.625502799972,168.460041532736,168.334527917187,168.407363598795,168.349075433004,168.347349198927,168.224958950158,168.1319289655,168.052080299308,168.245224000031,168.327532100226,168.386086599038,168.512572866105,168.596033082782,168.709528882769,168.815458849903,168.888444332937,168.969334415735,169.209384000714,169.426815166859,169.59167065054,169.690794066988,169.793601633185,169.981233500255,170.050894783883,170.266101450359,170.257309000665,170.34165461676,170.420541400346,170.524388600502,170.720963766413,170.867846066505,170.947971800697,171.051014333038,171.167346766778,171.218172099769,171.304561750154,171.321142133862,171.417931516559,171.455980199127,171.462321733036,171.587717983286,171.670754701712,171.828431383484,171.882088466121,171.987652299441,172.063382449494,172.092597800296,172.111628817585,172.094501582949,172.133988150577,172.217804650849,172.229036100221,172.370078216958,172.310335033614,172.493938299216,172.485968450507,172.618004983595,172.657937583202,172.600312034113,172.584361567505,172.46311268413,172.418018282578,172.34245996745,172.320665484129,172.238130649319,172.247078967484,172.129322299744,172.115730567145,172.052126816993,172.135203666157,172.206730749948,172.26099479982,172.331950216583,172.335875833233,172.369593532568,172.479030949819],"lat":[-42.2770294331018,-42.3659640998714,-42.3913898493678,-42.4567272663214,-42.5552061664186,-42.6204476501529,-42.6389925162953,-42.6817304496183,-42.7745563165371,-42.7917224165052,-42.8740807000333,-42.9008274327487,-42.9092283835239,-42.950759216649,-42.9474959831915,-43.0025114832476,-43.0742574837314,-43.102300650144,-43.2153140832055,-43.2040572826524,-43.2835111333338,-43.3207865163982,-43.434014166647,-43.41035221676,-43.4980506000732,-43.4903493001037,-43.5138270161936,-43.5954793833291,-43.6603731668313,-43.7917623165842,-43.8129979662184,-43.9635462831413,-43.9580761662848,-44.0125360168529,-44.1169906667223,-44.0985810003063,-44.1105468993574,-44.0802167659312,-44.1440294839761,-44.199936332986,-44.2466723496502,-44.3399177501499,-44.4194781170877,-44.4339354666367,-44.4953348162634,-44.4967794329974,-44.3751147829651,-44.3304824000169,-44.2842383168839,-44.2568242500963,-44.2811937826191,-44.2586477665919,-44.1580564167771,-44.0494656167805,-44.0035227664975,-44.0018953502124,-43.9725449329756,-43.9942465499117,-43.9674074836821,-43.9053743500885,-43.8784611500177,-43.7192994001206,-43.6253148330259,-43.5990183996295,-43.5430910166687,-43.4215250502158,-43.3578198495791,-43.2918990002289,-43.1725636158674,-43.1188153494437,-43.0966792499987,-43.036161432916,-43.0173943501819,-42.9301012999167,-42.8228048660284,-42.7232656999423,-42.650688316635,-42.5078089999824,-42.38101976624,-42.2672141667554,-42.1532471998936,-41.9177566328917,-41.8824885829434,-41.7497772332918,-41.7299331833209,-41.7398889758327,-41.6470442500159,-41.6006758828507,-41.4457266661766,-41.3840702160795,-41.2827791501859,-41.0257784662469,-40.9162500830626,-40.8506217828755,-40.774542766922,-40.8558806664317,-40.970752467169,-41.0135581163049,-41.0245242002209,-41.0542427327253,-41.1598956494172,-41.2391689995477,-41.3018332326644,-41.3761944999728,-41.4043775665214,-41.4716592493264,-41.5131613498066,-41.6102873667713,-41.6395180999667,-41.6842177167129,-41.7140016329479,-41.8684047996712,-41.9451821329827,-42.1040439833841,-42.0983147832209,-42.1483124834356,-42.1506392829357,-42.2342079660401,-42.2806025168197,-42.2770294331018]}]],[[{"lng":[174.048786900106,173.966599600681,173.892544684064,173.697996616623,173.671647083024,173.594467415866,173.509134350058,173.479398800221,173.368425849937,173.241651783235,173.14498353365,173.080542450878,172.816906899328,172.73369503355,172.704087800548,172.71511108423,172.776007199763,173.040053516148,173.102133650692,173.130149783874,173.100509666792,172.997729132882,172.836626966534,172.728520416444,172.587602799177,172.31661868302,172.028047117075,171.614830016684,171.439070166985,171.333436083013,171.244871200256,171.258240632396,171.195791149221,171.159184499413,171.167954350424,171.144153632672,170.882433150378,170.658825416631,170.636873433877,170.542436216333,170.447188600345,170.397211283578,170.349440716734,170.373258400943,170.31935306623,170.242072667455,170.094098767269,169.996618083493,169.944216317563,169.836191183413,169.757151799328,169.644210749049,169.633685649873,169.545884367463,169.577100816617,169.571069933852,169.71703741641,169.699336634166,169.900034783336,169.965530866418,170.091407749954,170.098131417274,170.238421217139,170.322861434049,170.395291850712,170.528889117364,170.592312017226,170.70569891615,170.830348166594,170.937214367317,170.993271149153,171.079330766508,171.197689267427,171.237669015979,171.316264849941,171.411630450039,171.44922653414,171.69066966728,171.746369750711,171.763848766853,171.841774433461,171.915639166648,171.974953333456,172.094375383646,172.1330007499,172.235513800302,172.348260516017,172.444256900204,172.479030949819,172.614713433524,172.639183050117,172.721472999322,172.7216385824,172.823290099099,172.84243633332,172.914144833248,172.94139345023,172.992906316788,173.035789000756,173.189895532864,173.24452471748,173.312201366903,173.464463350147,173.499107499943,173.720210166329,173.744379950814,173.817253667021,173.955504883873,174.048786900106],"lat":[-41.9681092162646,-42.0447000162222,-42.1892206160537,-42.3510559327565,-42.4129525826812,-42.4284450168009,-42.5056333005132,-42.5927161833282,-42.7988198827147,-42.9528653661391,-42.9864308666849,-43.0507309163817,-43.1332584499975,-43.2550360161799,-43.3903552166644,-43.5479150830902,-43.5827193328042,-43.6552001167668,-43.6956743333898,-43.7627759999603,-43.8318133828904,-43.8873741827173,-43.8897602829967,-43.8276729498342,-43.8332652162497,-43.867088416516,-43.9583162998822,-44.1318285168831,-44.2233021661721,-44.2951907165708,-44.3817173994063,-44.4457059831107,-44.5267523667682,-44.6278346999366,-44.8761730664355,-44.9403990326692,-44.8910093998382,-44.9092402835565,-44.9513015836403,-44.9850467672386,-45.0659566666375,-45.0809043668126,-45.0216976998938,-44.952776016064,-44.9030489828625,-44.9307172500718,-44.9400199335113,-44.8215735834642,-44.6539842168892,-44.6688994161829,-44.6121328160996,-44.5858154998365,-44.4624053000104,-44.4226623997473,-44.3456657832859,-44.1772291501172,-44.0382773160894,-43.9635462831413,-43.8129979662184,-43.7917623165842,-43.6603731668313,-43.5954793833291,-43.5138270161936,-43.4903493001037,-43.4980506000732,-43.41035221676,-43.434014166647,-43.3207865163982,-43.2835111333338,-43.2040572826524,-43.2153140832055,-43.102300650144,-43.0742574837314,-43.0025114832476,-42.9474959831915,-42.950759216649,-42.9092283835239,-42.9008274327487,-42.8740807000333,-42.7917224165052,-42.7745563165371,-42.6817304496183,-42.6389925162953,-42.6204476501529,-42.5552061664186,-42.4567272663214,-42.3913898493678,-42.3659640998714,-42.2770294331018,-42.1954626498853,-42.100794682948,-42.1034917994144,-42.1586981838838,-42.2047070167556,-42.2891840664554,-42.3086089000796,-42.3778250335189,-42.4038495339355,-42.4834705328753,-42.4105463995064,-42.3031041161591,-42.2503815997009,-42.1956736999058,-42.0787366833914,-41.9607712162509,-41.9073832665118,-41.9329969833555,-41.9126783171107,-41.9681092162646]}]],[[{"lng":[169.699336634166,169.71703741641,169.571069933852,169.577100816617,169.545884367463,169.633685649873,169.644210749049,169.757151799328,169.836191183413,169.944216317563,169.996618083493,170.094098767269,170.242072667455,170.31935306623,170.373258400943,170.349440716734,170.397211283578,170.447188600345,170.542436216333,170.636873433877,170.658825416631,170.882433150378,171.144153632672,171.100528099082,170.973751149775,170.904456867088,170.831473232453,170.831145883379,170.75579789982,170.725243549953,170.653058832418,170.600894433297,170.658593699997,170.663784716405,170.511765316615,170.297526650457,170.196885316544,170.168560666662,169.923941867013,169.798088316601,169.797051965829,169.587586633489,169.477118166607,169.404843300495,169.279166266414,169.200940883149,169.250660233484,169.172959832917,169.195997516617,169.134143867466,169.190826583046,169.198060700759,169.159619899649,169.153328134215,169.067252783254,169.091515616554,169.00519949925,168.993372050492,169.129045084084,169.140231617195,169.211048582416,169.099293032989,169.065469000252,168.959565366235,168.88690013254,168.78245703227,168.751634949745,168.692215200617,168.674105117399,168.539401382992,168.323294049703,168.300759133193,168.217006498699,168.284206182425,168.292267949264,168.133993849733,168.117214416135,168.191001933063,168.172333382998,168.234509799649,168.334527917187,168.460041532736,168.625502799972,168.728392349302,168.836083532939,168.849166000554,168.96335649954,168.975078451156,169.147102432454,169.188798133306,169.275178699666,169.372957082297,169.591375933128,169.592780550635,169.699336634166],"lat":[-43.9635462831413,-44.0382773160894,-44.1772291501172,-44.3456657832859,-44.4226623997473,-44.4624053000104,-44.5858154998365,-44.6121328160996,-44.6688994161829,-44.6539842168892,-44.8215735834642,-44.9400199335113,-44.9307172500718,-44.9030489828625,-44.952776016064,-45.0216976998938,-45.0809043668126,-45.0659566666375,-44.9850467672386,-44.9513015836403,-44.9092402835565,-44.8910093998382,-44.9403990326692,-45.0030083668311,-45.0991354496446,-45.1744155169318,-45.3055600328616,-45.4735115163292,-45.5334878502003,-45.5959489167714,-45.6310545499711,-45.7107696833627,-45.7588499501476,-45.9035087330446,-45.9091708334976,-45.9623933001854,-46.0625319333923,-46.1545419165179,-46.2983543338468,-46.3546976165361,-46.4513536994124,-46.5657448494185,-46.5613084168585,-46.612326249574,-46.6224137668428,-46.5607098329384,-46.5143265833878,-46.4861186664512,-46.4044065827567,-46.3754392332203,-46.3264038994531,-46.2126295493632,-46.175637150073,-46.04874471621,-45.9804276164781,-45.8825561166011,-45.8634921999957,-45.7285384168417,-45.5203341827282,-45.4652520830163,-45.416771999385,-45.3199457495541,-45.2696099000556,-45.3591220831272,-45.4628204660881,-45.4370390834154,-45.3675663496802,-45.3396697501243,-45.2430717497138,-45.3093267168891,-45.3275431668485,-45.2246531168759,-45.1445409498591,-45.1061745334867,-45.0438246332288,-44.941441066775,-44.8714499496131,-44.7667900998972,-44.7045591835111,-44.5431956997936,-44.4967794329974,-44.4953348162634,-44.4339354666367,-44.4194781170877,-44.3399177501499,-44.2466723496502,-44.199936332986,-44.1440294839761,-44.0802167659312,-44.1105468993574,-44.0985810003063,-44.1169906667223,-44.0125360168529,-43.9580761662848,-43.9635462831413]}]],[[{"lng":[168.334527917187,168.234509799649,168.172333382998,168.191001933063,168.117214416135,168.133993849733,168.292267949264,168.284206182425,168.217006498699,168.300759133193,168.323294049703,168.539401382992,168.674105117399,168.692215200617,168.751634949745,168.78245703227,168.88690013254,168.959565366235,169.065469000252,169.099293032989,169.211048582416,169.140231617195,169.129045084084,168.993372050492,169.00519949925,169.091515616554,169.067252783254,169.153328134215,169.159619899649,169.198060700759,169.190826583046,169.134143867466,169.195997516617,169.172959832917,169.250660233484,169.200940883149,169.279166266414,169.22036591599,169.112977633915,169.005877783088,168.847240616637,168.793966399601,168.602963450626,168.515573883226,168.352956367462,168.265940499968,168.26360971254,168.190226399742,168.06494099935,168.015834933344,167.931857766403,167.783985415679,167.697388533509,167.712351199088,167.611463132559,167.53328326551,167.403100265785,167.36041789911,167.217213498612,167.105668632816,166.85248326508,166.778670298321,166.657467513834,166.618782631882,166.682766415625,166.698540013858,166.615138531335,166.611146481073,166.555778430931,166.449630281668,166.426302914574,166.450324479865,166.518401048488,166.622173080915,166.804038747773,166.730721582164,166.751807813934,166.731030032183,166.671602280962,166.684135131589,166.844406780597,166.908979298452,167.007590898471,166.967797181292,167.002267430718,167.271321765735,167.500637449284,167.571723433206,167.751370432539,167.817211299564,167.827906549916,167.87268493277,167.973286216338,168.008558299815,168.097524282888,168.052080299308,168.1319289655,168.224958950158,168.347349198927,168.349075433004,168.407363598795,168.334527917187],"lat":[-44.4967794329974,-44.5431956997936,-44.7045591835111,-44.7667900998972,-44.8714499496131,-44.941441066775,-45.0438246332288,-45.1061745334867,-45.1445409498591,-45.2246531168759,-45.3275431668485,-45.3093267168891,-45.2430717497138,-45.3396697501243,-45.3675663496802,-45.4370390834154,-45.4628204660881,-45.3591220831272,-45.2696099000556,-45.3199457495541,-45.416771999385,-45.4652520830163,-45.5203341827282,-45.7285384168417,-45.8634921999957,-45.8825561166011,-45.9804276164781,-46.04874471621,-46.175637150073,-46.2126295493632,-46.3264038994531,-46.3754392332203,-46.4044065827567,-46.4861186664512,-46.5143265833878,-46.5607098329384,-46.6224137668428,-46.656223099872,-46.6445697998936,-46.6743386331633,-46.6586199329358,-46.5811262500882,-46.5519047497942,-46.5742984501617,-46.5362781992669,-46.5559335326646,-46.4953184340233,-46.3853629167499,-46.3392979665928,-46.3838269830026,-46.3581014999452,-46.3890891171229,-46.307961466909,-46.2576959503765,-46.1914227661012,-46.16240946673,-46.1520754166419,-46.2369484002097,-46.2625064668733,-46.25366113273,-46.2084794827791,-46.222072183102,-46.20228694959,-46.1487916665506,-46.115505482954,-46.05823409979,-46.0600605832903,-45.9997223499968,-45.9746464495691,-45.9949010500723,-45.9044508994386,-45.818964083446,-45.794390016666,-45.7910534165939,-45.759831816707,-45.7281351169409,-45.6676932499871,-45.5947802672105,-45.574992932913,-45.5132728166055,-45.2758819164536,-45.3074377165583,-45.3141696665502,-45.1937010839229,-45.1255542171957,-44.8704801002207,-44.7480579001324,-44.6858730830295,-44.5806611495955,-44.5991209997801,-44.5075593496395,-44.4342743666374,-44.3866309826956,-44.3250568994953,-44.327164299694,-44.2586477665919,-44.2811937826191,-44.2568242500963,-44.2842383168839,-44.3304824000169,-44.3751147829651,-44.4967794329974]}],[{"lng":[167.869696716553,167.976547566294,168.001210732076,168.141792199061,168.141009317838,168.031908183908,167.978834599659,168.150523283786,168.214668599019,168.15639086674,167.954351350313,167.825699751352,167.710747198798,167.636122349395,167.646031498693,167.466622084097,167.466427316638,167.575995200266,167.579121549914,167.649750531859,167.694039966266,167.759027315244,167.756471366353,167.704121799979,167.754640632138,167.869696716553],"lat":[-46.6842310166752,-46.7237613987849,-46.785762665437,-46.8618585329575,-46.909408299092,-46.8968874826732,-46.928878233435,-46.9664681179055,-46.9944344838292,-47.1041435162499,-47.1292745649547,-47.1913799838493,-47.1604565164636,-47.2102895331876,-47.2637216324405,-47.2828524160058,-47.2165166326058,-47.16624331603,-47.0853388999095,-47.0364652490045,-46.967082999694,-46.9370851821983,-46.860982265505,-46.7544420165422,-46.6946847164946,-46.6842310166752]}],[{"lng":[166.678832281489,166.716482698834,166.723640182258,166.684653831234,166.588378964322,166.536803814148,166.678832281489],"lat":[-45.6003756001343,-45.6245835332561,-45.6992354496554,-45.7481735831086,-45.7207469668143,-45.6343713996404,-45.6003756001343]}],[{"lng":[166.962425848418,166.949393049243,166.987792331855,166.947416381365,166.868999981552,166.962425848418],"lat":[-45.1477982831904,-45.2031774998176,-45.2585408501287,-45.2941630663986,-45.2405394834619,-45.1477982831904]}]],[[{"lng":[173.198887399729,173.297443983366,173.250831384127,173.304149350489,173.168700533592,173.151614666983,173.086652616993,173.003789650797,172.926235200656,172.847570550194,172.86109313253,172.735298849099,172.721472999322,172.639183050117,172.614713433524,172.479030949819,172.369593532568,172.335875833233,172.331950216583,172.26099479982,172.206730749948,172.135203666157,172.052126816993,172.115730567145,172.129322299744,172.247078967484,172.238130649319,172.320665484129,172.34245996745,172.418018282578,172.46311268413,172.584361567505,172.600312034113,172.657937583202,172.618004983595,172.485968450507,172.493938299216,172.310335033614,172.370078216958,172.229036100221,172.217804650849,172.292207984059,172.447285383514,172.60562558292,172.642595651343,172.728820134899,172.688014218755,172.692504033943,172.798009667228,172.886338016923,172.990330217499,173.063517816826,173.012366349789,173.033520217139,173.009530717519,173.06578501716,173.104255083169,173.198887399729],"lat":[-41.3306196997791,-41.3931415162841,-41.4665801165597,-41.5060320836021,-41.5311546995344,-41.5854709831824,-41.6249252333708,-41.7248032669466,-41.7577336161561,-41.8742874663503,-41.922462966173,-42.0578953163068,-42.1034917994144,-42.100794682948,-42.1954626498853,-42.2770294331018,-42.2806025168197,-42.2342079660401,-42.1506392829357,-42.1483124834356,-42.0983147832209,-42.1040439833841,-41.9451821329827,-41.8684047996712,-41.7140016329479,-41.6842177167129,-41.6395180999667,-41.6102873667713,-41.5131613498066,-41.4716592493264,-41.4043775665214,-41.3761944999728,-41.3018332326644,-41.2391689995477,-41.1598956494172,-41.0542427327253,-41.0245242002209,-41.0135581163049,-40.970752467169,-40.8558806664317,-40.774542766922,-40.7473438326446,-40.6295302334271,-40.5644542999246,-40.5081192334842,-40.5290822657834,-40.5827790489968,-40.727883200224,-40.8162795663944,-40.832379632699,-40.7811902663518,-40.9057494657392,-40.9921395165867,-41.0887589498835,-41.1437780995651,-41.1838260998853,-41.2901597329138,-41.3306196997791]}]],[[{"lng":[173.297443983366,173.198887399729,173.221776466012,173.310618882688,173.32361723313,173.412776467452,173.461631133591,173.593891449768,173.568365816496,173.523007850712,173.415419299657,173.40678916666,173.297443983366],"lat":[-41.3931415162841,-41.3306196997791,-41.2930119000107,-41.2507582163573,-41.2037450165945,-41.1494512164174,-41.166853316328,-41.0511199330342,-41.1897309661648,-41.1979918667514,-41.2891416995075,-41.3309583501785,-41.3931415162841]}]],[[{"lng":[174.048786900106,173.955504883873,173.817253667021,173.744379950814,173.720210166329,173.499107499943,173.464463350147,173.312201366903,173.24452471748,173.189895532864,173.035789000756,172.992906316788,172.94139345023,172.914144833248,172.84243633332,172.823290099099,172.7216385824,172.721472999322,172.735298849099,172.86109313253,172.847570550194,172.926235200656,173.003789650797,173.086652616993,173.151614666983,173.168700533592,173.304149350489,173.250831384127,173.297443983366,173.40678916666,173.415419299657,173.523007850712,173.568365816496,173.593891449768,173.673303050289,173.802376834404,173.85077169915,173.868127116147,173.93680894915,173.993088400438,174.079004183599,174.17580193353,174.219448550258,174.12449421688,174.133062266944,174.048447900196,174.033535683903,174.072046116608,174.150420350879,174.15696061672,174.198299267036,174.275035250512,174.196758333519,174.048786900106],"lat":[-41.9681092162646,-41.9126783171107,-41.9329969833555,-41.9073832665118,-41.9607712162509,-42.0787366833914,-42.1956736999058,-42.2503815997009,-42.3031041161591,-42.4105463995064,-42.4834705328753,-42.4038495339355,-42.3778250335189,-42.3086089000796,-42.2891840664554,-42.2047070167556,-42.1586981838838,-42.1034917994144,-42.0578953163068,-41.922462966173,-41.8742874663503,-41.7577336161561,-41.7248032669466,-41.6249252333708,-41.5854709831824,-41.5311546995344,-41.5060320836021,-41.4665801165597,-41.3931415162841,-41.3309583501785,-41.2891416995075,-41.1979918667514,-41.1897309661648,-41.0511199330342,-41.0342675989915,-40.9722475322946,-41.0223203830977,-41.1442067667642,-41.0834601826368,-41.1021083834405,-41.016276216295,-40.9990567827128,-41.0713428828276,-41.2362538666924,-41.2853295661891,-41.3931097327586,-41.4763469339475,-41.5239591995643,-41.559433766753,-41.6476697164152,-41.7232352500816,-41.7428873668597,-41.835604316821,-41.9681092162646]}],[{"lng":[173.956358883868,173.960139751383,173.90531894827,173.813983967132,173.772206384172,173.805729534265,173.93662750116,173.956358883868],"lat":[-40.6928282325892,-40.7644749495549,-40.857230999874,-40.930467433164,-40.8619594325141,-40.8027343164422,-40.747506066453,-40.6928282325892]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#03F","weight":1,"opacity":0.5,"fill":true,"fillColor":["#FFFFCC","#F44025","#FE9E43","#FFBF5A","#FFEFA5","#FFBF5A","#F44025","#FEDD7F","#800026","#FFBF5A","#DA151F","#FFBF5A","#F44025","#FEDD7F","#FE9E43","#FE9E43"],"fillOpacity":1,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#FFFFCC","#FFEFA5","#FEDD7F","#FFBF5A","#FE9E43","#FD7434","#F44025","#DA151F","#B60026","#800026"],"labels":["23,000 &ndash; 24,000","24,000 &ndash; 25,000","25,000 &ndash; 26,000","26,000 &ndash; 27,000","27,000 &ndash; 28,000","28,000 &ndash; 29,000","29,000 &ndash; 30,000","30,000 &ndash; 31,000","31,000 &ndash; 32,000","32,000 &ndash; 33,000"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"bin","title":"Median income","extra":null,"layerId":null,"className":"info legend","group":null}]},{"method":"addCircleMarkers","args":[[-35.75111111,-37.65944444,-38.6725,-39.475,-39.94416667,-41.2775,-42.44472222,-41.75027778,-43.60611111,-45.87583333,-41.28555556],[174.3426973,176.1740872,178.0224971,176.9180801,174.9895171,174.7898704,171.20053,171.5912839,172.7102473,170.5193168,174.004417],10,null,null,{"interactive":true,"className":"","stroke":true,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.2},null,null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-47.2828524160058,-34.4145187168353],"lng":[166.426302914574,178.550373601283]}},"evals":[],"jsHooks":[]}</script>
]

---
# mapview

.pull-left[

```r
library(mapview)
mapview(nz["Median_income"]) +
  st_geometry(nz_ports)
```
]

.pull-right[
<div id="htmlwidget-f0f9a0777758c885393a" style="width:504px;height:504px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-f0f9a0777758c885393a">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron","CartoDB.Positron","CartoDB.Positron",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["CartoDB.DarkMatter","CartoDB.DarkMatter","CartoDB.DarkMatter",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap","OpenStreetMap","OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldImagery","Esri.WorldImagery","Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenTopoMap","OpenTopoMap","OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["polygon",420]},{"method":"addPolygons","args":[[[[{"lng":[174.616638800656,174.562809050564,174.481748333157,174.338965900234,174.214573266902,174.128772750479,174.045997583891,174.095972133855,174.155368483075,174.181866683395,174.135350500256,174.040527550541,173.983675883808,173.86604691657,173.688098133553,173.365180583183,173.356613017331,173.054243634031,173.130559999733,173.168093182624,173.167447217184,173.081005749918,172.851222917828,172.653880649817,172.69995103369,172.793065450767,172.869035233581,173.014442316542,172.984791449998,173.025130983722,173.120204417268,173.199324916413,173.280772883247,173.214814899913,173.288398249192,173.340087699738,173.286914883417,173.429163483407,173.389709633848,173.43403079967,173.535566349955,173.562634800269,173.644032483284,173.701142200014,173.74008500064,173.841272884062,173.931277716702,173.963284550175,174.078539632729,174.079958382619,174.125462949978,174.28978491699,174.350169531639,174.339655300127,174.468392016881,174.474719383801,174.536753999552,174.50237205005,174.557601466642,174.555188500026,174.485563450384,174.42268665044,174.404830266529,174.500809283377,174.460144966703,174.510000500399,174.589780900475,174.616638800656],"lat":[-36.1175604665955,-36.1790001827592,-36.2282769999432,-36.3168297168832,-36.2587116660859,-36.1736123994503,-36.170169550126,-36.2448879334658,-36.2760972327272,-36.3630358998131,-36.3920499169112,-36.3928830666112,-36.2337049996789,-36.0912001162456,-35.8924174497126,-35.5474016995135,-35.5228177334195,-35.1912381663496,-35.1789323328517,-35.1364273327505,-35.0363686494596,-34.8923919496618,-34.6297133663192,-34.4780076502047,-34.4263823994865,-34.4539942827612,-34.4145187168353,-34.4241368998064,-34.5278073326606,-34.6535190997586,-34.8166837671412,-34.8709688498192,-34.8925261172547,-34.9612557667477,-35.0132316332077,-34.9582312164518,-34.8634985660925,-34.8251486160708,-34.9534963329248,-34.985936149717,-34.9984530665285,-34.9215679665292,-34.9661940829241,-34.9524767161163,-35.0372064834494,-34.9943093161947,-35.0472986498451,-35.1188625998035,-35.1161315001266,-35.2730977500888,-35.2940340332261,-35.2751480001454,-35.3264187489332,-35.3768799004039,-35.4907537668788,-35.5563464661239,-35.5876817834871,-35.6408338001967,-35.7240167331065,-35.8608910000586,-35.7863742163629,-35.7848320998378,-35.8310155171767,-35.8410631829868,-35.9145349498201,-36.0304654495688,-36.0481898660515,-36.1175604665955]}]],[[{"lng":[175.291304133085,175.152091033439,175.141120333576,175.048242617195,174.990258082555,174.868951232796,174.815488049849,174.659628367495,174.538637882794,174.627048466479,174.690634167279,174.73950153409,174.857652450143,174.826874817006,174.744100215986,174.681552100084,174.583827667051,174.48303651745,174.468611433661,174.424401866458,174.273615083721,174.16870360025,174.187919333769,174.235835399823,174.312745950162,174.404776383887,174.43132198402,174.414885550516,174.25745998445,174.257569883856,174.373455166346,174.481748333157,174.562809050564,174.616638800656,174.657346033553,174.745751216322,174.818184083076,174.734791817454,174.723020317237,174.6928154505,174.740610167352,174.775982149355,174.735215883483,174.880847016882,174.95133831739,175.055796349564,175.093513100132,175.194032000505,175.28332898404,175.291304133085],"lat":[-37.0240384665269,-37.0215583499255,-37.1756033832982,-37.182271199634,-37.2165854996401,-37.2449866002433,-37.2286308828686,-37.2924320832104,-37.0766324001808,-37.0367340832569,-37.1366490000594,-37.1262254668411,-37.0510942830342,-37.0129061169001,-36.9843338828537,-36.9338147160376,-37.0073111163525,-37.0480030494191,-36.9540757993889,-36.8242195164743,-36.6113436505564,-36.4944308500372,-36.4344940164925,-36.4280906168409,-36.5364925994476,-36.6242364999823,-36.5110054662063,-36.4036616161879,-36.3809034491129,-36.3259556823771,-36.3194753664606,-36.2282769999432,-36.1790001827592,-36.1175604665955,-36.1775323830128,-36.2569215827736,-36.2852678662113,-36.4030681168194,-36.5128217502075,-36.5757347661774,-36.648003549368,-36.7735064498829,-36.841124949719,-36.8523293329453,-36.895384549847,-36.8826005993968,-36.9457113831122,-36.9343089329288,-36.9885057501568,-37.0240384665269]}],[{"lng":[175.397381334663,175.422708266539,175.483699566728,175.479485900624,175.543212183699,175.525421999773,175.437765849461,175.433490317008,175.35024318435,175.364852117958,175.326193733307,175.34179548326,175.397381334663],"lat":[-36.049713299334,-36.1291887990178,-36.1921515500181,-36.2444036833917,-36.2952009834157,-36.3476168495479,-36.307523166367,-36.2724128496347,-36.2285364497773,-36.1822376168855,-36.1382729818606,-36.0685923494045,-36.049713299334]}],[{"lng":[175.172594933364,175.14511235048,175.066499350381,175.038030716822,175.172594933364],"lat":[-36.7386591493701,-36.8474120331424,-36.8337360501136,-36.7957700665679,-36.7386591493701]}]],[[{"lng":[175.940104000403,175.913492216933,175.832775867556,175.809667417203,175.833586717063,175.927714949315,175.905873816582,175.977187833289,175.940945834187,176.075603717481,176.076019150588,176.150334834186,176.232057866462,176.297547798202,176.390623467125,176.429143533874,176.50532476716,176.45098049988,176.255113766945,176.258380934161,176.257562950888,176.147549683454,176.172753900527,176.085669116788,175.989206866078,175.964365549959,175.885970716458,175.812568800519,175.669211766574,175.557854216472,175.634656366174,175.617972132812,175.682012417337,175.562633650261,175.579969833542,175.546438183896,175.574620149733,175.523386533045,175.632458999383,175.612185166049,175.480939533801,175.38321201729,175.317760016591,175.213231183619,175.109226684129,174.954390867085,174.937845033609,174.862896367393,174.791960217277,174.655191183282,174.615147466571,174.64557498284,174.634641616934,174.715704749268,174.712538232633,174.690774649571,174.777037133266,174.895569600305,174.874875616366,174.77780156729,174.792085916113,174.75679855049,174.843696184123,174.956284466653,174.951308116722,174.837134500702,174.768715216871,174.700024633059,174.659628367495,174.815488049849,174.868951232796,174.990258082555,175.048242617195,175.141120333576,175.152091033439,175.291304133085,175.294966566686,175.323006283065,175.399204382699,175.544902117385,175.514084716696,175.519742083218,175.491002617546,175.408398483483,175.490180517216,175.494676733871,175.429445151763,175.447073067325,175.405834634532,175.344544616921,175.328268300531,175.368191233069,175.520191916265,175.522613315881,175.583391316676,175.578198899776,175.646650566192,175.788850933096,175.708633783133,175.781305150319,175.856004517196,175.842233483925,175.888322383072,175.878370950749,175.940104000403],"lat":[-37.3732415494177,-37.4255867168046,-37.4716019831908,-37.5138131497633,-37.6274871173512,-37.7760034327964,-37.8285516669824,-37.9136730328251,-37.9294224998321,-38.0495643996976,-38.1214420994632,-38.2181863995568,-38.2390825827257,-38.2295556170154,-38.3230470168629,-38.3134151168029,-38.4022137994137,-38.5616572328534,-38.8081781833421,-38.8899908832,-38.9478759665807,-39.0376737002045,-39.0784858666887,-39.1294486169037,-39.115548083218,-39.1798030168406,-39.2058951835182,-39.3003262165101,-39.2969341494396,-39.2759983495024,-39.1583628832968,-39.0812491668669,-38.9797105002429,-38.9868296998684,-38.9106842496727,-38.8598730996517,-38.8163002497247,-38.7500919668535,-38.5917750672203,-38.4876116162079,-38.4788807501445,-38.5422959832446,-38.5560422670198,-38.639399033155,-38.6245203666556,-38.6675035326607,-38.750158566659,-38.7745840666673,-38.7317766330068,-38.7332825998958,-38.7066484493599,-38.4563665331186,-38.387195516031,-38.3065037997108,-38.200598066221,-38.1176242502273,-38.1325016493315,-38.0859713163714,-38.0485370834874,-38.0815316832105,-38.0072839664294,-37.8638128168037,-37.8039134660885,-37.7924118832187,-37.7515311835379,-37.7936627827159,-37.5608502999387,-37.4167737834856,-37.2924320832104,-37.2286308828686,-37.2449866002433,-37.2165854996401,-37.182271199634,-37.1756033832982,-37.0215583499255,-37.0240384665269,-37.1211146497623,-37.1906320164387,-37.227041266647,-37.1573665495383,-37.0930035993995,-37.0341053993605,-36.9622664333836,-36.8575114002633,-36.8083106669992,-36.7619687494765,-36.7001410820403,-36.6600482663193,-36.5805631831099,-36.5530231170699,-36.4808005321015,-36.4685975823878,-36.540797348894,-36.5918639497278,-36.6272173993893,-36.6802999496879,-36.7363723666434,-36.7041192833087,-36.8325179663944,-36.8224126992364,-36.922808583448,-36.9474531172608,-37.0391867664023,-37.2003710497008,-37.3732415494177]}]],[[{"lng":[178.085284051072,178.107554901019,177.986683351304,177.9966216838,178.073006950751,177.972291634141,177.860967450378,177.73998423373,177.69206768402,177.604788567389,177.499270867243,177.463687900911,177.236922317735,177.257394033338,177.122170799865,177.045979500407,176.991448066688,176.878667633178,176.766746733663,176.717283066478,176.69597065003,176.601167800211,176.520452884076,176.468164783258,176.382140266513,176.303565400195,176.258380934161,176.255113766945,176.45098049988,176.50532476716,176.429143533874,176.390623467125,176.297547798202,176.232057866462,176.150334834186,176.076019150588,176.075603717481,175.940945834187,175.977187833289,175.905873816582,175.927714949315,175.833586717063,175.809667417203,175.832775867556,175.913492216933,175.940104000403,175.963443900661,175.934805299819,175.975048966784,176.053118300074,176.186754767107,176.250032000856,176.419017433437,176.477600450904,176.601950900428,176.736143750086,176.931668933884,177.083869783436,177.160565467622,177.383685833984,177.487534484234,177.546790133806,177.619619200899,177.683952433894,177.72763573395,177.868536418064,177.958640534699,178.006622350124,178.085284051072],"lat":[-37.5423911663695,-37.5987159661319,-37.6087571334111,-37.7602764999712,-37.7635896995148,-37.8450054663352,-38.1116561665495,-38.0420469669081,-38.1082776001083,-38.1866207665939,-38.218466749553,-38.3335362666423,-38.4263417997097,-38.5082771662098,-38.5839209335325,-38.6208022330665,-38.6936945832943,-38.6671346494108,-38.6893096832454,-38.7245242995849,-38.8215917663086,-38.8255591330702,-38.7968662996433,-38.9415194661341,-38.9887032829079,-38.9017194500041,-38.8899908832,-38.8081781833421,-38.5616572328534,-38.4022137994137,-38.3134151168029,-38.3230470168629,-38.2295556170154,-38.2390825827257,-38.2181863995568,-38.1214420994632,-38.0495643996976,-37.9294224998321,-37.9136730328251,-37.8285516669824,-37.7760034327964,-37.6274871173512,-37.5138131497633,-37.4716019831908,-37.4255867168046,-37.3732415494177,-37.4333808167608,-37.536853366205,-37.6239334661435,-37.6595265665208,-37.634790017341,-37.6800395996492,-37.7484934666571,-37.7541410500579,-37.8295142668897,-37.8795955831546,-37.9168967001651,-37.9788140829092,-37.9898454665602,-37.9836964665806,-37.9495595663945,-37.9075796830729,-37.8107283001314,-37.7601537161273,-37.6801879496912,-37.6533825667405,-37.6053283331363,-37.5531278668578,-37.5423911663695]}]],[[{"lng":[177.898992867599,177.834796917622,177.799025001196,177.660163933843,177.660490067463,177.597522800646,177.494212084347,177.447906750288,177.353425167718,177.307560650098,177.122170799865,177.257394033338,177.236922317735,177.463687900911,177.499270867243,177.604788567389,177.69206768402,177.73998423373,177.860967450378,177.972291634141,178.073006950751,177.9966216838,177.986683351304,178.107554901019,178.085284051072,178.174634084159,178.27630185211,178.36371060177,178.482593484816,178.550373601283,178.41585801832,178.391299368696,178.337261951675,178.373593884028,178.321955168811,178.338370118128,178.312409502003,178.344519151932,178.281772317683,178.293040667684,178.198843134477,178.050040402873,177.972729617512,177.911783384716,177.898992867599],"lat":[-38.9718330668037,-38.9527794162303,-38.8943903001803,-38.9047009167065,-38.8489419163927,-38.8070414997931,-38.7779742831157,-38.6359438828921,-38.6245578664864,-38.6597042000079,-38.5839209335325,-38.5082771662098,-38.4263417997097,-38.3335362666423,-38.218466749553,-38.1866207665939,-38.1082776001083,-38.0420469669081,-38.1116561665495,-37.8450054663352,-37.7635896995148,-37.7602764999712,-37.6087571334111,-37.5987159661319,-37.5423911663695,-37.534658299652,-37.5544868664312,-37.631004199356,-37.6410965159531,-37.6920842500843,-37.8580439169652,-37.9613996666553,-38.0095467667522,-38.0944882331678,-38.1221914165945,-38.1917070830343,-38.2415486163282,-38.4184646333134,-38.4721755162877,-38.526928333314,-38.6055091159961,-38.7020828327625,-38.6812606832734,-38.8279248668031,-38.9718330668037]}]],[[{"lng":[177.898992867599,177.9017996505,178.001674401045,177.92431856696,177.906174350565,177.850842017112,177.839268633773,177.870901817844,177.75596521677,177.636631150037,177.421363584246,177.259161701191,177.046117517361,176.989527483501,176.919394050451,176.876375366295,176.924177550286,176.922247883074,176.966353650113,177.075499034915,177.011022417518,177.005106232808,176.932128366662,176.888223216917,176.868997500491,176.794396933441,176.687031283296,176.622569049891,176.443295266386,176.359488317335,176.378605866566,176.32321406684,176.204970833786,176.136627349809,176.09383140064,176.106847067352,176.17685259975,176.195937933828,176.142726417604,176.183756817499,176.136827417623,176.111859467523,176.121760383432,176.080882450312,176.115201750033,176.085669116788,176.172753900527,176.147549683454,176.257562950888,176.258380934161,176.303565400195,176.382140266513,176.468164783258,176.520452884076,176.601167800211,176.69597065003,176.717283066478,176.766746733663,176.878667633178,176.991448066688,177.045979500407,177.122170799865,177.307560650098,177.353425167718,177.447906750288,177.494212084347,177.597522800646,177.660490067463,177.660163933843,177.799025001196,177.834796917622,177.898992867599],"lat":[-38.9718330668037,-39.0729589163746,-39.1049364834253,-39.170128766505,-39.2262764656247,-39.2334497993429,-39.1523278989566,-39.0876976334651,-39.0586759164819,-39.0504614667207,-39.0626328994174,-39.1006631831779,-39.1939367500206,-39.2940027839539,-39.3400230830998,-39.4226607995911,-39.4759893490698,-39.5495836494558,-39.6235120826987,-39.673259415579,-39.7427146832489,-39.8359419166031,-39.9352899665187,-40.0255260161828,-40.1313829665878,-40.2053349997861,-40.2563932328157,-40.4280165161931,-40.407388833065,-40.1971025165439,-40.1581407167419,-40.0937170162861,-40.0189951167996,-40.028578133887,-39.9955025832942,-39.9172052497374,-39.7440490995691,-39.6635709666433,-39.5846827831589,-39.5389751331424,-39.4752775333261,-39.3849908334676,-39.3263642668672,-39.2591636994191,-39.217689216508,-39.1294486169037,-39.0784858666887,-39.0376737002045,-38.9478759665807,-38.8899908832,-38.9017194500041,-38.9887032829079,-38.9415194661341,-38.7968662996433,-38.8255591330702,-38.8215917663086,-38.7245242995849,-38.6893096832454,-38.6671346494108,-38.6936945832943,-38.6208022330665,-38.5839209335325,-38.6597042000079,-38.6245578664864,-38.6359438828921,-38.7779742831157,-38.8070414997931,-38.8489419163927,-38.9047009167065,-38.8943903001803,-38.9527794162303,-38.9718330668037]}]],[[{"lng":[174.615147466571,174.655191183282,174.791960217277,174.862896367393,174.819869750297,174.798771383129,174.82803073341,174.764415417466,174.788411450134,174.675169549981,174.755642432479,174.747802983227,174.891668949943,174.871353583229,174.928495867377,174.967386967073,174.97262881664,174.930618333552,174.784081849931,174.716569950035,174.558874867369,174.444514817259,174.352709617041,174.201535516873,174.076819100748,173.910845583182,173.794988949217,173.75158500083,173.794817016681,173.909613299173,174.088957305084,174.200815833298,174.390964834124,174.559947483204,174.615147466571],"lat":[-38.7066484493599,-38.7332825998958,-38.7317766330068,-38.7745840666673,-38.7875171166311,-38.8652667999914,-38.923704366338,-39.0047909500201,-39.0678331830544,-39.1298299493616,-39.2336436335003,-39.2757990163096,-39.3582403665654,-39.401065466581,-39.4761503161982,-39.4862796832774,-39.653146100114,-39.7244787999056,-39.8579774497812,-39.8672062167774,-39.8174444664505,-39.7506608664429,-39.6590780832936,-39.588083783155,-39.5773399666899,-39.5148036332211,-39.4150641328049,-39.2803068998594,-39.1924945673116,-39.1211085998946,-39.050930172386,-38.9883909501843,-38.9888580830121,-38.855913583522,-38.7066484493599]}]],[[{"lng":[176.085669116788,176.115201750033,176.080882450312,176.121760383432,176.111859467523,176.136827417623,176.183756817499,176.142726417604,176.195937933828,176.17685259975,176.106847067352,176.09383140064,176.136627349809,176.204970833786,176.32321406684,176.378605866566,176.359488317335,176.443295266386,176.622569049891,176.620793584048,176.493457017513,176.33276253349,176.211253483372,176.082334183401,176.02244929987,175.871636834196,175.764739183997,175.77010965014,175.690650115948,175.653222466794,175.473443566666,175.439643550552,175.371593716648,175.266658932695,175.136486700712,175.190707066475,175.227057750243,175.223560650608,175.198135366129,175.162540683897,175.045463016741,174.927877449905,174.784081849931,174.930618333552,174.97262881664,174.967386967073,174.928495867377,174.871353583229,174.891668949943,174.747802983227,174.755642432479,174.675169549981,174.788411450134,174.764415417466,174.82803073341,174.798771383129,174.819869750297,174.862896367393,174.937845033609,174.954390867085,175.109226684129,175.213231183619,175.317760016591,175.38321201729,175.480939533801,175.612185166049,175.632458999383,175.523386533045,175.574620149733,175.546438183896,175.579969833542,175.562633650261,175.682012417337,175.617972132812,175.634656366174,175.557854216472,175.669211766574,175.812568800519,175.885970716458,175.964365549959,175.989206866078,176.085669116788],"lat":[-39.1294486169037,-39.217689216508,-39.2591636994191,-39.3263642668672,-39.3849908334676,-39.4752775333261,-39.5389751331424,-39.5846827831589,-39.6635709666433,-39.7440490995691,-39.9172052497374,-39.9955025832942,-40.028578133887,-40.0189951167996,-40.0937170162861,-40.1581407167419,-40.1971025165439,-40.407388833065,-40.4280165161931,-40.4917772330373,-40.5305003327721,-40.697900799416,-40.6592102828479,-40.7081527160579,-40.7114886668745,-40.7779047333494,-40.7680905667094,-40.6988883998422,-40.6965623329828,-40.7424894827011,-40.6933970997398,-40.7441521327217,-40.7268607830085,-40.7686105330861,-40.7003334998074,-40.5669227160489,-40.3980753833689,-40.2930346163214,-40.1765422327759,-40.1071686334006,-39.9854570661162,-39.8993730493337,-39.8579774497812,-39.7244787999056,-39.653146100114,-39.4862796832774,-39.4761503161982,-39.401065466581,-39.3582403665654,-39.2757990163096,-39.2336436335003,-39.1298299493616,-39.0678331830544,-39.0047909500201,-38.923704366338,-38.8652667999914,-38.7875171166311,-38.7745840666673,-38.750158566659,-38.6675035326607,-38.6245203666556,-38.639399033155,-38.5560422670198,-38.5422959832446,-38.4788807501445,-38.4876116162079,-38.5917750672203,-38.7500919668535,-38.8163002497247,-38.8598730996517,-38.9106842496727,-38.9868296998684,-38.9797105002429,-39.0812491668669,-39.1583628832968,-39.2759983495024,-39.2969341494396,-39.3003262165101,-39.2058951835182,-39.1798030168406,-39.115548083218,-39.1294486169037]}]],[[{"lng":[176.33276253349,176.267228400183,176.224487017583,176.154899234065,176.106925633451,176.06247941692,176.003310849804,175.961835883779,175.899294816757,175.811865650044,175.675583900734,175.58518594996,175.533100033117,175.433381416302,175.325406533484,175.236423100173,175.195284183578,175.216735033403,175.043268483566,174.924173882771,174.847847867082,174.912076183578,174.84435636702,174.785921437228,174.839045832862,174.705109599961,174.66078746668,174.623012999722,174.711288199763,174.794672150245,174.867167799271,174.846312016586,174.938811199179,174.989772533759,175.035492733743,175.136486700712,175.266658932695,175.371593716648,175.439643550552,175.473443566666,175.653222466794,175.690650115948,175.77010965014,175.764739183997,175.871636834196,176.02244929987,176.082334183401,176.211253483372,176.33276253349],"lat":[-40.697900799416,-40.7848636000785,-40.9064747168577,-40.9481505495627,-41.0152208993286,-41.1310157498429,-41.1717069160855,-41.2447749001051,-41.263295699946,-41.3596269993307,-41.4137952330758,-41.487372832698,-41.4965452334551,-41.568835716916,-41.6059589661807,-41.6051656500547,-41.5238026326986,-41.4315767334165,-41.3733172995721,-41.434702866697,-41.3594841327964,-41.2597096998983,-41.2288581497398,-41.2651837993434,-41.325258266261,-41.357110466716,-41.340375233043,-41.260325633351,-41.2199340172696,-41.1246902997312,-41.0867387663926,-41.0499113660407,-41.0003014665634,-40.8786943168909,-40.8516626997223,-40.7003334998074,-40.7686105330861,-40.7268607830085,-40.7441521327217,-40.6933970997398,-40.7424894827011,-40.6965623329828,-40.6988883998422,-40.7680905667094,-40.7779047333494,-40.7114886668745,-40.7081527160579,-40.6592102828479,-40.697900799416]}]],[[{"lng":[172.479030949819,172.444256900204,172.348260516017,172.235513800302,172.1330007499,172.094375383646,171.974953333456,171.915639166648,171.841774433461,171.763848766853,171.746369750711,171.69066966728,171.44922653414,171.411630450039,171.316264849941,171.237669015979,171.197689267427,171.079330766508,170.993271149153,170.937214367317,170.830348166594,170.70569891615,170.592312017226,170.528889117364,170.395291850712,170.322861434049,170.238421217139,170.098131417274,170.091407749954,169.965530866418,169.900034783336,169.699336634166,169.592780550635,169.591375933128,169.372957082297,169.275178699666,169.188798133306,169.147102432454,168.975078451156,168.96335649954,168.849166000554,168.836083532939,168.728392349302,168.625502799972,168.460041532736,168.334527917187,168.407363598795,168.349075433004,168.347349198927,168.224958950158,168.1319289655,168.052080299308,168.245224000031,168.327532100226,168.386086599038,168.512572866105,168.596033082782,168.709528882769,168.815458849903,168.888444332937,168.969334415735,169.209384000714,169.426815166859,169.59167065054,169.690794066988,169.793601633185,169.981233500255,170.050894783883,170.266101450359,170.257309000665,170.34165461676,170.420541400346,170.524388600502,170.720963766413,170.867846066505,170.947971800697,171.051014333038,171.167346766778,171.218172099769,171.304561750154,171.321142133862,171.417931516559,171.455980199127,171.462321733036,171.587717983286,171.670754701712,171.828431383484,171.882088466121,171.987652299441,172.063382449494,172.092597800296,172.111628817585,172.094501582949,172.133988150577,172.217804650849,172.229036100221,172.370078216958,172.310335033614,172.493938299216,172.485968450507,172.618004983595,172.657937583202,172.600312034113,172.584361567505,172.46311268413,172.418018282578,172.34245996745,172.320665484129,172.238130649319,172.247078967484,172.129322299744,172.115730567145,172.052126816993,172.135203666157,172.206730749948,172.26099479982,172.331950216583,172.335875833233,172.369593532568,172.479030949819],"lat":[-42.2770294331018,-42.3659640998714,-42.3913898493678,-42.4567272663214,-42.5552061664186,-42.6204476501529,-42.6389925162953,-42.6817304496183,-42.7745563165371,-42.7917224165052,-42.8740807000333,-42.9008274327487,-42.9092283835239,-42.950759216649,-42.9474959831915,-43.0025114832476,-43.0742574837314,-43.102300650144,-43.2153140832055,-43.2040572826524,-43.2835111333338,-43.3207865163982,-43.434014166647,-43.41035221676,-43.4980506000732,-43.4903493001037,-43.5138270161936,-43.5954793833291,-43.6603731668313,-43.7917623165842,-43.8129979662184,-43.9635462831413,-43.9580761662848,-44.0125360168529,-44.1169906667223,-44.0985810003063,-44.1105468993574,-44.0802167659312,-44.1440294839761,-44.199936332986,-44.2466723496502,-44.3399177501499,-44.4194781170877,-44.4339354666367,-44.4953348162634,-44.4967794329974,-44.3751147829651,-44.3304824000169,-44.2842383168839,-44.2568242500963,-44.2811937826191,-44.2586477665919,-44.1580564167771,-44.0494656167805,-44.0035227664975,-44.0018953502124,-43.9725449329756,-43.9942465499117,-43.9674074836821,-43.9053743500885,-43.8784611500177,-43.7192994001206,-43.6253148330259,-43.5990183996295,-43.5430910166687,-43.4215250502158,-43.3578198495791,-43.2918990002289,-43.1725636158674,-43.1188153494437,-43.0966792499987,-43.036161432916,-43.0173943501819,-42.9301012999167,-42.8228048660284,-42.7232656999423,-42.650688316635,-42.5078089999824,-42.38101976624,-42.2672141667554,-42.1532471998936,-41.9177566328917,-41.8824885829434,-41.7497772332918,-41.7299331833209,-41.7398889758327,-41.6470442500159,-41.6006758828507,-41.4457266661766,-41.3840702160795,-41.2827791501859,-41.0257784662469,-40.9162500830626,-40.8506217828755,-40.774542766922,-40.8558806664317,-40.970752467169,-41.0135581163049,-41.0245242002209,-41.0542427327253,-41.1598956494172,-41.2391689995477,-41.3018332326644,-41.3761944999728,-41.4043775665214,-41.4716592493264,-41.5131613498066,-41.6102873667713,-41.6395180999667,-41.6842177167129,-41.7140016329479,-41.8684047996712,-41.9451821329827,-42.1040439833841,-42.0983147832209,-42.1483124834356,-42.1506392829357,-42.2342079660401,-42.2806025168197,-42.2770294331018]}]],[[{"lng":[174.048786900106,173.966599600681,173.892544684064,173.697996616623,173.671647083024,173.594467415866,173.509134350058,173.479398800221,173.368425849937,173.241651783235,173.14498353365,173.080542450878,172.816906899328,172.73369503355,172.704087800548,172.71511108423,172.776007199763,173.040053516148,173.102133650692,173.130149783874,173.100509666792,172.997729132882,172.836626966534,172.728520416444,172.587602799177,172.31661868302,172.028047117075,171.614830016684,171.439070166985,171.333436083013,171.244871200256,171.258240632396,171.195791149221,171.159184499413,171.167954350424,171.144153632672,170.882433150378,170.658825416631,170.636873433877,170.542436216333,170.447188600345,170.397211283578,170.349440716734,170.373258400943,170.31935306623,170.242072667455,170.094098767269,169.996618083493,169.944216317563,169.836191183413,169.757151799328,169.644210749049,169.633685649873,169.545884367463,169.577100816617,169.571069933852,169.71703741641,169.699336634166,169.900034783336,169.965530866418,170.091407749954,170.098131417274,170.238421217139,170.322861434049,170.395291850712,170.528889117364,170.592312017226,170.70569891615,170.830348166594,170.937214367317,170.993271149153,171.079330766508,171.197689267427,171.237669015979,171.316264849941,171.411630450039,171.44922653414,171.69066966728,171.746369750711,171.763848766853,171.841774433461,171.915639166648,171.974953333456,172.094375383646,172.1330007499,172.235513800302,172.348260516017,172.444256900204,172.479030949819,172.614713433524,172.639183050117,172.721472999322,172.7216385824,172.823290099099,172.84243633332,172.914144833248,172.94139345023,172.992906316788,173.035789000756,173.189895532864,173.24452471748,173.312201366903,173.464463350147,173.499107499943,173.720210166329,173.744379950814,173.817253667021,173.955504883873,174.048786900106],"lat":[-41.9681092162646,-42.0447000162222,-42.1892206160537,-42.3510559327565,-42.4129525826812,-42.4284450168009,-42.5056333005132,-42.5927161833282,-42.7988198827147,-42.9528653661391,-42.9864308666849,-43.0507309163817,-43.1332584499975,-43.2550360161799,-43.3903552166644,-43.5479150830902,-43.5827193328042,-43.6552001167668,-43.6956743333898,-43.7627759999603,-43.8318133828904,-43.8873741827173,-43.8897602829967,-43.8276729498342,-43.8332652162497,-43.867088416516,-43.9583162998822,-44.1318285168831,-44.2233021661721,-44.2951907165708,-44.3817173994063,-44.4457059831107,-44.5267523667682,-44.6278346999366,-44.8761730664355,-44.9403990326692,-44.8910093998382,-44.9092402835565,-44.9513015836403,-44.9850467672386,-45.0659566666375,-45.0809043668126,-45.0216976998938,-44.952776016064,-44.9030489828625,-44.9307172500718,-44.9400199335113,-44.8215735834642,-44.6539842168892,-44.6688994161829,-44.6121328160996,-44.5858154998365,-44.4624053000104,-44.4226623997473,-44.3456657832859,-44.1772291501172,-44.0382773160894,-43.9635462831413,-43.8129979662184,-43.7917623165842,-43.6603731668313,-43.5954793833291,-43.5138270161936,-43.4903493001037,-43.4980506000732,-43.41035221676,-43.434014166647,-43.3207865163982,-43.2835111333338,-43.2040572826524,-43.2153140832055,-43.102300650144,-43.0742574837314,-43.0025114832476,-42.9474959831915,-42.950759216649,-42.9092283835239,-42.9008274327487,-42.8740807000333,-42.7917224165052,-42.7745563165371,-42.6817304496183,-42.6389925162953,-42.6204476501529,-42.5552061664186,-42.4567272663214,-42.3913898493678,-42.3659640998714,-42.2770294331018,-42.1954626498853,-42.100794682948,-42.1034917994144,-42.1586981838838,-42.2047070167556,-42.2891840664554,-42.3086089000796,-42.3778250335189,-42.4038495339355,-42.4834705328753,-42.4105463995064,-42.3031041161591,-42.2503815997009,-42.1956736999058,-42.0787366833914,-41.9607712162509,-41.9073832665118,-41.9329969833555,-41.9126783171107,-41.9681092162646]}]],[[{"lng":[169.699336634166,169.71703741641,169.571069933852,169.577100816617,169.545884367463,169.633685649873,169.644210749049,169.757151799328,169.836191183413,169.944216317563,169.996618083493,170.094098767269,170.242072667455,170.31935306623,170.373258400943,170.349440716734,170.397211283578,170.447188600345,170.542436216333,170.636873433877,170.658825416631,170.882433150378,171.144153632672,171.100528099082,170.973751149775,170.904456867088,170.831473232453,170.831145883379,170.75579789982,170.725243549953,170.653058832418,170.600894433297,170.658593699997,170.663784716405,170.511765316615,170.297526650457,170.196885316544,170.168560666662,169.923941867013,169.798088316601,169.797051965829,169.587586633489,169.477118166607,169.404843300495,169.279166266414,169.200940883149,169.250660233484,169.172959832917,169.195997516617,169.134143867466,169.190826583046,169.198060700759,169.159619899649,169.153328134215,169.067252783254,169.091515616554,169.00519949925,168.993372050492,169.129045084084,169.140231617195,169.211048582416,169.099293032989,169.065469000252,168.959565366235,168.88690013254,168.78245703227,168.751634949745,168.692215200617,168.674105117399,168.539401382992,168.323294049703,168.300759133193,168.217006498699,168.284206182425,168.292267949264,168.133993849733,168.117214416135,168.191001933063,168.172333382998,168.234509799649,168.334527917187,168.460041532736,168.625502799972,168.728392349302,168.836083532939,168.849166000554,168.96335649954,168.975078451156,169.147102432454,169.188798133306,169.275178699666,169.372957082297,169.591375933128,169.592780550635,169.699336634166],"lat":[-43.9635462831413,-44.0382773160894,-44.1772291501172,-44.3456657832859,-44.4226623997473,-44.4624053000104,-44.5858154998365,-44.6121328160996,-44.6688994161829,-44.6539842168892,-44.8215735834642,-44.9400199335113,-44.9307172500718,-44.9030489828625,-44.952776016064,-45.0216976998938,-45.0809043668126,-45.0659566666375,-44.9850467672386,-44.9513015836403,-44.9092402835565,-44.8910093998382,-44.9403990326692,-45.0030083668311,-45.0991354496446,-45.1744155169318,-45.3055600328616,-45.4735115163292,-45.5334878502003,-45.5959489167714,-45.6310545499711,-45.7107696833627,-45.7588499501476,-45.9035087330446,-45.9091708334976,-45.9623933001854,-46.0625319333923,-46.1545419165179,-46.2983543338468,-46.3546976165361,-46.4513536994124,-46.5657448494185,-46.5613084168585,-46.612326249574,-46.6224137668428,-46.5607098329384,-46.5143265833878,-46.4861186664512,-46.4044065827567,-46.3754392332203,-46.3264038994531,-46.2126295493632,-46.175637150073,-46.04874471621,-45.9804276164781,-45.8825561166011,-45.8634921999957,-45.7285384168417,-45.5203341827282,-45.4652520830163,-45.416771999385,-45.3199457495541,-45.2696099000556,-45.3591220831272,-45.4628204660881,-45.4370390834154,-45.3675663496802,-45.3396697501243,-45.2430717497138,-45.3093267168891,-45.3275431668485,-45.2246531168759,-45.1445409498591,-45.1061745334867,-45.0438246332288,-44.941441066775,-44.8714499496131,-44.7667900998972,-44.7045591835111,-44.5431956997936,-44.4967794329974,-44.4953348162634,-44.4339354666367,-44.4194781170877,-44.3399177501499,-44.2466723496502,-44.199936332986,-44.1440294839761,-44.0802167659312,-44.1105468993574,-44.0985810003063,-44.1169906667223,-44.0125360168529,-43.9580761662848,-43.9635462831413]}]],[[{"lng":[168.334527917187,168.234509799649,168.172333382998,168.191001933063,168.117214416135,168.133993849733,168.292267949264,168.284206182425,168.217006498699,168.300759133193,168.323294049703,168.539401382992,168.674105117399,168.692215200617,168.751634949745,168.78245703227,168.88690013254,168.959565366235,169.065469000252,169.099293032989,169.211048582416,169.140231617195,169.129045084084,168.993372050492,169.00519949925,169.091515616554,169.067252783254,169.153328134215,169.159619899649,169.198060700759,169.190826583046,169.134143867466,169.195997516617,169.172959832917,169.250660233484,169.200940883149,169.279166266414,169.22036591599,169.112977633915,169.005877783088,168.847240616637,168.793966399601,168.602963450626,168.515573883226,168.352956367462,168.265940499968,168.26360971254,168.190226399742,168.06494099935,168.015834933344,167.931857766403,167.783985415679,167.697388533509,167.712351199088,167.611463132559,167.53328326551,167.403100265785,167.36041789911,167.217213498612,167.105668632816,166.85248326508,166.778670298321,166.657467513834,166.618782631882,166.682766415625,166.698540013858,166.615138531335,166.611146481073,166.555778430931,166.449630281668,166.426302914574,166.450324479865,166.518401048488,166.622173080915,166.804038747773,166.730721582164,166.751807813934,166.731030032183,166.671602280962,166.684135131589,166.844406780597,166.908979298452,167.007590898471,166.967797181292,167.002267430718,167.271321765735,167.500637449284,167.571723433206,167.751370432539,167.817211299564,167.827906549916,167.87268493277,167.973286216338,168.008558299815,168.097524282888,168.052080299308,168.1319289655,168.224958950158,168.347349198927,168.349075433004,168.407363598795,168.334527917187],"lat":[-44.4967794329974,-44.5431956997936,-44.7045591835111,-44.7667900998972,-44.8714499496131,-44.941441066775,-45.0438246332288,-45.1061745334867,-45.1445409498591,-45.2246531168759,-45.3275431668485,-45.3093267168891,-45.2430717497138,-45.3396697501243,-45.3675663496802,-45.4370390834154,-45.4628204660881,-45.3591220831272,-45.2696099000556,-45.3199457495541,-45.416771999385,-45.4652520830163,-45.5203341827282,-45.7285384168417,-45.8634921999957,-45.8825561166011,-45.9804276164781,-46.04874471621,-46.175637150073,-46.2126295493632,-46.3264038994531,-46.3754392332203,-46.4044065827567,-46.4861186664512,-46.5143265833878,-46.5607098329384,-46.6224137668428,-46.656223099872,-46.6445697998936,-46.6743386331633,-46.6586199329358,-46.5811262500882,-46.5519047497942,-46.5742984501617,-46.5362781992669,-46.5559335326646,-46.4953184340233,-46.3853629167499,-46.3392979665928,-46.3838269830026,-46.3581014999452,-46.3890891171229,-46.307961466909,-46.2576959503765,-46.1914227661012,-46.16240946673,-46.1520754166419,-46.2369484002097,-46.2625064668733,-46.25366113273,-46.2084794827791,-46.222072183102,-46.20228694959,-46.1487916665506,-46.115505482954,-46.05823409979,-46.0600605832903,-45.9997223499968,-45.9746464495691,-45.9949010500723,-45.9044508994386,-45.818964083446,-45.794390016666,-45.7910534165939,-45.759831816707,-45.7281351169409,-45.6676932499871,-45.5947802672105,-45.574992932913,-45.5132728166055,-45.2758819164536,-45.3074377165583,-45.3141696665502,-45.1937010839229,-45.1255542171957,-44.8704801002207,-44.7480579001324,-44.6858730830295,-44.5806611495955,-44.5991209997801,-44.5075593496395,-44.4342743666374,-44.3866309826956,-44.3250568994953,-44.327164299694,-44.2586477665919,-44.2811937826191,-44.2568242500963,-44.2842383168839,-44.3304824000169,-44.3751147829651,-44.4967794329974]}],[{"lng":[167.869696716553,167.976547566294,168.001210732076,168.141792199061,168.141009317838,168.031908183908,167.978834599659,168.150523283786,168.214668599019,168.15639086674,167.954351350313,167.825699751352,167.710747198798,167.636122349395,167.646031498693,167.466622084097,167.466427316638,167.575995200266,167.579121549914,167.649750531859,167.694039966266,167.759027315244,167.756471366353,167.704121799979,167.754640632138,167.869696716553],"lat":[-46.6842310166752,-46.7237613987849,-46.785762665437,-46.8618585329575,-46.909408299092,-46.8968874826732,-46.928878233435,-46.9664681179055,-46.9944344838292,-47.1041435162499,-47.1292745649547,-47.1913799838493,-47.1604565164636,-47.2102895331876,-47.2637216324405,-47.2828524160058,-47.2165166326058,-47.16624331603,-47.0853388999095,-47.0364652490045,-46.967082999694,-46.9370851821983,-46.860982265505,-46.7544420165422,-46.6946847164946,-46.6842310166752]}],[{"lng":[166.678832281489,166.716482698834,166.723640182258,166.684653831234,166.588378964322,166.536803814148,166.678832281489],"lat":[-45.6003756001343,-45.6245835332561,-45.6992354496554,-45.7481735831086,-45.7207469668143,-45.6343713996404,-45.6003756001343]}],[{"lng":[166.962425848418,166.949393049243,166.987792331855,166.947416381365,166.868999981552,166.962425848418],"lat":[-45.1477982831904,-45.2031774998176,-45.2585408501287,-45.2941630663986,-45.2405394834619,-45.1477982831904]}]],[[{"lng":[173.198887399729,173.297443983366,173.250831384127,173.304149350489,173.168700533592,173.151614666983,173.086652616993,173.003789650797,172.926235200656,172.847570550194,172.86109313253,172.735298849099,172.721472999322,172.639183050117,172.614713433524,172.479030949819,172.369593532568,172.335875833233,172.331950216583,172.26099479982,172.206730749948,172.135203666157,172.052126816993,172.115730567145,172.129322299744,172.247078967484,172.238130649319,172.320665484129,172.34245996745,172.418018282578,172.46311268413,172.584361567505,172.600312034113,172.657937583202,172.618004983595,172.485968450507,172.493938299216,172.310335033614,172.370078216958,172.229036100221,172.217804650849,172.292207984059,172.447285383514,172.60562558292,172.642595651343,172.728820134899,172.688014218755,172.692504033943,172.798009667228,172.886338016923,172.990330217499,173.063517816826,173.012366349789,173.033520217139,173.009530717519,173.06578501716,173.104255083169,173.198887399729],"lat":[-41.3306196997791,-41.3931415162841,-41.4665801165597,-41.5060320836021,-41.5311546995344,-41.5854709831824,-41.6249252333708,-41.7248032669466,-41.7577336161561,-41.8742874663503,-41.922462966173,-42.0578953163068,-42.1034917994144,-42.100794682948,-42.1954626498853,-42.2770294331018,-42.2806025168197,-42.2342079660401,-42.1506392829357,-42.1483124834356,-42.0983147832209,-42.1040439833841,-41.9451821329827,-41.8684047996712,-41.7140016329479,-41.6842177167129,-41.6395180999667,-41.6102873667713,-41.5131613498066,-41.4716592493264,-41.4043775665214,-41.3761944999728,-41.3018332326644,-41.2391689995477,-41.1598956494172,-41.0542427327253,-41.0245242002209,-41.0135581163049,-40.970752467169,-40.8558806664317,-40.774542766922,-40.7473438326446,-40.6295302334271,-40.5644542999246,-40.5081192334842,-40.5290822657834,-40.5827790489968,-40.727883200224,-40.8162795663944,-40.832379632699,-40.7811902663518,-40.9057494657392,-40.9921395165867,-41.0887589498835,-41.1437780995651,-41.1838260998853,-41.2901597329138,-41.3306196997791]}]],[[{"lng":[173.297443983366,173.198887399729,173.221776466012,173.310618882688,173.32361723313,173.412776467452,173.461631133591,173.593891449768,173.568365816496,173.523007850712,173.415419299657,173.40678916666,173.297443983366],"lat":[-41.3931415162841,-41.3306196997791,-41.2930119000107,-41.2507582163573,-41.2037450165945,-41.1494512164174,-41.166853316328,-41.0511199330342,-41.1897309661648,-41.1979918667514,-41.2891416995075,-41.3309583501785,-41.3931415162841]}]],[[{"lng":[174.048786900106,173.955504883873,173.817253667021,173.744379950814,173.720210166329,173.499107499943,173.464463350147,173.312201366903,173.24452471748,173.189895532864,173.035789000756,172.992906316788,172.94139345023,172.914144833248,172.84243633332,172.823290099099,172.7216385824,172.721472999322,172.735298849099,172.86109313253,172.847570550194,172.926235200656,173.003789650797,173.086652616993,173.151614666983,173.168700533592,173.304149350489,173.250831384127,173.297443983366,173.40678916666,173.415419299657,173.523007850712,173.568365816496,173.593891449768,173.673303050289,173.802376834404,173.85077169915,173.868127116147,173.93680894915,173.993088400438,174.079004183599,174.17580193353,174.219448550258,174.12449421688,174.133062266944,174.048447900196,174.033535683903,174.072046116608,174.150420350879,174.15696061672,174.198299267036,174.275035250512,174.196758333519,174.048786900106],"lat":[-41.9681092162646,-41.9126783171107,-41.9329969833555,-41.9073832665118,-41.9607712162509,-42.0787366833914,-42.1956736999058,-42.2503815997009,-42.3031041161591,-42.4105463995064,-42.4834705328753,-42.4038495339355,-42.3778250335189,-42.3086089000796,-42.2891840664554,-42.2047070167556,-42.1586981838838,-42.1034917994144,-42.0578953163068,-41.922462966173,-41.8742874663503,-41.7577336161561,-41.7248032669466,-41.6249252333708,-41.5854709831824,-41.5311546995344,-41.5060320836021,-41.4665801165597,-41.3931415162841,-41.3309583501785,-41.2891416995075,-41.1979918667514,-41.1897309661648,-41.0511199330342,-41.0342675989915,-40.9722475322946,-41.0223203830977,-41.1442067667642,-41.0834601826368,-41.1021083834405,-41.016276216295,-40.9990567827128,-41.0713428828276,-41.2362538666924,-41.2853295661891,-41.3931097327586,-41.4763469339475,-41.5239591995643,-41.559433766753,-41.6476697164152,-41.7232352500816,-41.7428873668597,-41.835604316821,-41.9681092162646]}],[{"lng":[173.956358883868,173.960139751383,173.90531894827,173.813983967132,173.772206384172,173.805729534265,173.93662750116,173.956358883868],"lat":[-40.6928282325892,-40.7644749495549,-40.857230999874,-40.930467433164,-40.8619594325141,-40.8027343164422,-40.747506066453,-40.6928282325892]}]]],null,"nz[\"Median_income\"]",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"polygon","stroke":true,"color":"#333333","weight":0.5,"opacity":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9],"fill":true,"fillColor":["#4B0055","#00BA82","#009B95","#006290","#3C3777","#006290","#00AC8E","#1E4D85","#FDE333","#007796","#25C771","#007796","#00BA82","#006290","#008A98","#009B95"],"fillOpacity":[0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6],"smoothFactor":1,"noClip":false},["<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>Median_income&emsp;<\/th><td>23400&emsp;<\/td><\/tr><tr><td>2<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>2&emsp;<\/td><\/tr><tr><td>1<\/td><th>Median_income&emsp;<\/th><td>29600&emsp;<\/td><\/tr><tr><td>2<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>3&emsp;<\/td><\/tr><tr><td>1<\/td><th>Median_income&emsp;<\/th><td>27900&emsp;<\/td><\/tr><tr><td>2<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>4&emsp;<\/td><\/tr><tr><td>1<\/td><th>Median_income&emsp;<\/th><td>26200&emsp;<\/td><\/tr><tr><td>2<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>5&emsp;<\/td><\/tr><tr><td>1<\/td><th>Median_income&emsp;<\/th><td>24400&emsp;<\/td><\/tr><tr><td>2<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>6&emsp;<\/td><\/tr><tr><td>1<\/td><th>Median_income&emsp;<\/th><td>26100&emsp;<\/td><\/tr><tr><td>2<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>7&emsp;<\/td><\/tr><tr><td>1<\/td><th>Median_income&emsp;<\/th><td>29100&emsp;<\/td><\/tr><tr><td>2<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>8&emsp;<\/td><\/tr><tr><td>1<\/td><th>Median_income&emsp;<\/th><td>25000&emsp;<\/td><\/tr><tr><td>2<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>9&emsp;<\/td><\/tr><tr><td>1<\/td><th>Median_income&emsp;<\/th><td>32700&emsp;<\/td><\/tr><tr><td>2<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>10&emsp;<\/td><\/tr><tr><td>1<\/td><th>Median_income&emsp;<\/th><td>26900&emsp;<\/td><\/tr><tr><td>2<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>11&emsp;<\/td><\/tr><tr><td>1<\/td><th>Median_income&emsp;<\/th><td>30100&emsp;<\/td><\/tr><tr><td>2<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>12&emsp;<\/td><\/tr><tr><td>1<\/td><th>Median_income&emsp;<\/th><td>26300&emsp;<\/td><\/tr><tr><td>2<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>13&emsp;<\/td><\/tr><tr><td>1<\/td><th>Median_income&emsp;<\/th><td>29500&emsp;<\/td><\/tr><tr><td>2<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>14&emsp;<\/td><\/tr><tr><td>1<\/td><th>Median_income&emsp;<\/th><td>25700&emsp;<\/td><\/tr><tr><td>2<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>15&emsp;<\/td><\/tr><tr><td>1<\/td><th>Median_income&emsp;<\/th><td>27200&emsp;<\/td><\/tr><tr><td>2<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>16&emsp;<\/td><\/tr><tr><td>1<\/td><th>Median_income&emsp;<\/th><td>27900&emsp;<\/td><\/tr><tr><td>2<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>"],{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["23400","29600","27900","26200","24400","26100","29100","25000","32700","26900","30100","26300","29500","25700","27200","27900"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":1,"opacity":0.9,"fillOpacity":0.84,"bringToFront":false,"sendToBack":false}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[166.426302914574,-47.2828524160058,178.550373601283,-34.4145187168353,true,"nz[\"Median_income\"]","Zoom to nz[\"Median_income\"]","<strong> nz[\"Median_income\"] <\/strong>","bottomright"]},{"method":"addLegend","args":[{"colors":["#4B0055 , #481B65 6.45161290322581%, #33407D 17.2043010752688%, #05608F 27.9569892473118%, #017F97 38.7096774193548%, #009A95 49.4623655913978%, #02B289 60.2150537634409%, #24C672 70.9677419354839%, #8BD651 81.7204301075269%, #D2E02E 92.4731182795699%, #FDE333 "],"labels":["24,000","25,000","26,000","27,000","28,000","29,000","30,000","31,000","32,000"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"numeric","title":"nz[\"Median_income\"]","extra":{"p_1":0.0645161290322581,"p_n":0.924731182795699},"layerId":null,"className":"info legend","group":"nz[\"Median_income\"]"}]},{"method":"createMapPane","args":["point",440]},{"method":"addCircleMarkers","args":[[-35.75111111,-37.65944444,-38.6725,-39.475,-39.94416667,-41.2775,-42.44472222,-41.75027778,-43.60611111,-45.87583333,-41.28555556],[174.3426973,176.1740872,178.0224971,176.9180801,174.9895171,174.7898704,171.20053,171.5912839,172.7102473,170.5193168,174.004417],6,null,"st_geometry(nz_ports)",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#333333","weight":1,"opacity":0.9,"fill":true,"fillColor":"#6666ff","fillOpacity":0.6},null,null,null,{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["1","2","3","4","5","6","7","8","9","10","11"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addHomeButton","args":[170.5193168,-45.87583333,178.0224971,-35.75111111,true,"st_geometry(nz_ports)","Zoom to st_geometry(nz_ports)","<strong> st_geometry(nz_ports) <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["CartoDB.Positron","CartoDB.DarkMatter","OpenStreetMap","Esri.WorldImagery","OpenTopoMap"],["nz[\"Median_income\"]","st_geometry(nz_ports)"],{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addHomeButton","args":[166.426302914574,-47.2828524160058,178.550373601283,-34.4145187168353,true,null,"Zoom to full extent","<strong>Zoom full<\/strong>","bottomleft"]}],"limits":{"lat":[-47.2828524160058,-34.4145187168353],"lng":[166.426302914574,178.550373601283]},"fitBounds":[-47.2828524160058,166.426302914574,-34.4145187168353,178.550373601283,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
]


---
# mapview

.pull-left[

```r
library(mapview)
library(RColorBrewer)
mapview(nz, 
        zcol = "Median_income",
        layer.name = "Median income",
        col.regions = brewer.pal(7, "YlOrRd")) +
  st_geometry(nz_ports)
```
]

.pull-right[
<div id="htmlwidget-eabaefb06bc9479d117a" style="width:504px;height:504px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-eabaefb06bc9479d117a">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron","CartoDB.Positron","CartoDB.Positron",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["CartoDB.DarkMatter","CartoDB.DarkMatter","CartoDB.DarkMatter",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap","OpenStreetMap","OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldImagery","Esri.WorldImagery","Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenTopoMap","OpenTopoMap","OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["polygon",420]},{"method":"addPolygons","args":[[[[{"lng":[174.616638800656,174.562809050564,174.481748333157,174.338965900234,174.214573266902,174.128772750479,174.045997583891,174.095972133855,174.155368483075,174.181866683395,174.135350500256,174.040527550541,173.983675883808,173.86604691657,173.688098133553,173.365180583183,173.356613017331,173.054243634031,173.130559999733,173.168093182624,173.167447217184,173.081005749918,172.851222917828,172.653880649817,172.69995103369,172.793065450767,172.869035233581,173.014442316542,172.984791449998,173.025130983722,173.120204417268,173.199324916413,173.280772883247,173.214814899913,173.288398249192,173.340087699738,173.286914883417,173.429163483407,173.389709633848,173.43403079967,173.535566349955,173.562634800269,173.644032483284,173.701142200014,173.74008500064,173.841272884062,173.931277716702,173.963284550175,174.078539632729,174.079958382619,174.125462949978,174.28978491699,174.350169531639,174.339655300127,174.468392016881,174.474719383801,174.536753999552,174.50237205005,174.557601466642,174.555188500026,174.485563450384,174.42268665044,174.404830266529,174.500809283377,174.460144966703,174.510000500399,174.589780900475,174.616638800656],"lat":[-36.1175604665955,-36.1790001827592,-36.2282769999432,-36.3168297168832,-36.2587116660859,-36.1736123994503,-36.170169550126,-36.2448879334658,-36.2760972327272,-36.3630358998131,-36.3920499169112,-36.3928830666112,-36.2337049996789,-36.0912001162456,-35.8924174497126,-35.5474016995135,-35.5228177334195,-35.1912381663496,-35.1789323328517,-35.1364273327505,-35.0363686494596,-34.8923919496618,-34.6297133663192,-34.4780076502047,-34.4263823994865,-34.4539942827612,-34.4145187168353,-34.4241368998064,-34.5278073326606,-34.6535190997586,-34.8166837671412,-34.8709688498192,-34.8925261172547,-34.9612557667477,-35.0132316332077,-34.9582312164518,-34.8634985660925,-34.8251486160708,-34.9534963329248,-34.985936149717,-34.9984530665285,-34.9215679665292,-34.9661940829241,-34.9524767161163,-35.0372064834494,-34.9943093161947,-35.0472986498451,-35.1188625998035,-35.1161315001266,-35.2730977500888,-35.2940340332261,-35.2751480001454,-35.3264187489332,-35.3768799004039,-35.4907537668788,-35.5563464661239,-35.5876817834871,-35.6408338001967,-35.7240167331065,-35.8608910000586,-35.7863742163629,-35.7848320998378,-35.8310155171767,-35.8410631829868,-35.9145349498201,-36.0304654495688,-36.0481898660515,-36.1175604665955]}]],[[{"lng":[175.291304133085,175.152091033439,175.141120333576,175.048242617195,174.990258082555,174.868951232796,174.815488049849,174.659628367495,174.538637882794,174.627048466479,174.690634167279,174.73950153409,174.857652450143,174.826874817006,174.744100215986,174.681552100084,174.583827667051,174.48303651745,174.468611433661,174.424401866458,174.273615083721,174.16870360025,174.187919333769,174.235835399823,174.312745950162,174.404776383887,174.43132198402,174.414885550516,174.25745998445,174.257569883856,174.373455166346,174.481748333157,174.562809050564,174.616638800656,174.657346033553,174.745751216322,174.818184083076,174.734791817454,174.723020317237,174.6928154505,174.740610167352,174.775982149355,174.735215883483,174.880847016882,174.95133831739,175.055796349564,175.093513100132,175.194032000505,175.28332898404,175.291304133085],"lat":[-37.0240384665269,-37.0215583499255,-37.1756033832982,-37.182271199634,-37.2165854996401,-37.2449866002433,-37.2286308828686,-37.2924320832104,-37.0766324001808,-37.0367340832569,-37.1366490000594,-37.1262254668411,-37.0510942830342,-37.0129061169001,-36.9843338828537,-36.9338147160376,-37.0073111163525,-37.0480030494191,-36.9540757993889,-36.8242195164743,-36.6113436505564,-36.4944308500372,-36.4344940164925,-36.4280906168409,-36.5364925994476,-36.6242364999823,-36.5110054662063,-36.4036616161879,-36.3809034491129,-36.3259556823771,-36.3194753664606,-36.2282769999432,-36.1790001827592,-36.1175604665955,-36.1775323830128,-36.2569215827736,-36.2852678662113,-36.4030681168194,-36.5128217502075,-36.5757347661774,-36.648003549368,-36.7735064498829,-36.841124949719,-36.8523293329453,-36.895384549847,-36.8826005993968,-36.9457113831122,-36.9343089329288,-36.9885057501568,-37.0240384665269]}],[{"lng":[175.397381334663,175.422708266539,175.483699566728,175.479485900624,175.543212183699,175.525421999773,175.437765849461,175.433490317008,175.35024318435,175.364852117958,175.326193733307,175.34179548326,175.397381334663],"lat":[-36.049713299334,-36.1291887990178,-36.1921515500181,-36.2444036833917,-36.2952009834157,-36.3476168495479,-36.307523166367,-36.2724128496347,-36.2285364497773,-36.1822376168855,-36.1382729818606,-36.0685923494045,-36.049713299334]}],[{"lng":[175.172594933364,175.14511235048,175.066499350381,175.038030716822,175.172594933364],"lat":[-36.7386591493701,-36.8474120331424,-36.8337360501136,-36.7957700665679,-36.7386591493701]}]],[[{"lng":[175.940104000403,175.913492216933,175.832775867556,175.809667417203,175.833586717063,175.927714949315,175.905873816582,175.977187833289,175.940945834187,176.075603717481,176.076019150588,176.150334834186,176.232057866462,176.297547798202,176.390623467125,176.429143533874,176.50532476716,176.45098049988,176.255113766945,176.258380934161,176.257562950888,176.147549683454,176.172753900527,176.085669116788,175.989206866078,175.964365549959,175.885970716458,175.812568800519,175.669211766574,175.557854216472,175.634656366174,175.617972132812,175.682012417337,175.562633650261,175.579969833542,175.546438183896,175.574620149733,175.523386533045,175.632458999383,175.612185166049,175.480939533801,175.38321201729,175.317760016591,175.213231183619,175.109226684129,174.954390867085,174.937845033609,174.862896367393,174.791960217277,174.655191183282,174.615147466571,174.64557498284,174.634641616934,174.715704749268,174.712538232633,174.690774649571,174.777037133266,174.895569600305,174.874875616366,174.77780156729,174.792085916113,174.75679855049,174.843696184123,174.956284466653,174.951308116722,174.837134500702,174.768715216871,174.700024633059,174.659628367495,174.815488049849,174.868951232796,174.990258082555,175.048242617195,175.141120333576,175.152091033439,175.291304133085,175.294966566686,175.323006283065,175.399204382699,175.544902117385,175.514084716696,175.519742083218,175.491002617546,175.408398483483,175.490180517216,175.494676733871,175.429445151763,175.447073067325,175.405834634532,175.344544616921,175.328268300531,175.368191233069,175.520191916265,175.522613315881,175.583391316676,175.578198899776,175.646650566192,175.788850933096,175.708633783133,175.781305150319,175.856004517196,175.842233483925,175.888322383072,175.878370950749,175.940104000403],"lat":[-37.3732415494177,-37.4255867168046,-37.4716019831908,-37.5138131497633,-37.6274871173512,-37.7760034327964,-37.8285516669824,-37.9136730328251,-37.9294224998321,-38.0495643996976,-38.1214420994632,-38.2181863995568,-38.2390825827257,-38.2295556170154,-38.3230470168629,-38.3134151168029,-38.4022137994137,-38.5616572328534,-38.8081781833421,-38.8899908832,-38.9478759665807,-39.0376737002045,-39.0784858666887,-39.1294486169037,-39.115548083218,-39.1798030168406,-39.2058951835182,-39.3003262165101,-39.2969341494396,-39.2759983495024,-39.1583628832968,-39.0812491668669,-38.9797105002429,-38.9868296998684,-38.9106842496727,-38.8598730996517,-38.8163002497247,-38.7500919668535,-38.5917750672203,-38.4876116162079,-38.4788807501445,-38.5422959832446,-38.5560422670198,-38.639399033155,-38.6245203666556,-38.6675035326607,-38.750158566659,-38.7745840666673,-38.7317766330068,-38.7332825998958,-38.7066484493599,-38.4563665331186,-38.387195516031,-38.3065037997108,-38.200598066221,-38.1176242502273,-38.1325016493315,-38.0859713163714,-38.0485370834874,-38.0815316832105,-38.0072839664294,-37.8638128168037,-37.8039134660885,-37.7924118832187,-37.7515311835379,-37.7936627827159,-37.5608502999387,-37.4167737834856,-37.2924320832104,-37.2286308828686,-37.2449866002433,-37.2165854996401,-37.182271199634,-37.1756033832982,-37.0215583499255,-37.0240384665269,-37.1211146497623,-37.1906320164387,-37.227041266647,-37.1573665495383,-37.0930035993995,-37.0341053993605,-36.9622664333836,-36.8575114002633,-36.8083106669992,-36.7619687494765,-36.7001410820403,-36.6600482663193,-36.5805631831099,-36.5530231170699,-36.4808005321015,-36.4685975823878,-36.540797348894,-36.5918639497278,-36.6272173993893,-36.6802999496879,-36.7363723666434,-36.7041192833087,-36.8325179663944,-36.8224126992364,-36.922808583448,-36.9474531172608,-37.0391867664023,-37.2003710497008,-37.3732415494177]}]],[[{"lng":[178.085284051072,178.107554901019,177.986683351304,177.9966216838,178.073006950751,177.972291634141,177.860967450378,177.73998423373,177.69206768402,177.604788567389,177.499270867243,177.463687900911,177.236922317735,177.257394033338,177.122170799865,177.045979500407,176.991448066688,176.878667633178,176.766746733663,176.717283066478,176.69597065003,176.601167800211,176.520452884076,176.468164783258,176.382140266513,176.303565400195,176.258380934161,176.255113766945,176.45098049988,176.50532476716,176.429143533874,176.390623467125,176.297547798202,176.232057866462,176.150334834186,176.076019150588,176.075603717481,175.940945834187,175.977187833289,175.905873816582,175.927714949315,175.833586717063,175.809667417203,175.832775867556,175.913492216933,175.940104000403,175.963443900661,175.934805299819,175.975048966784,176.053118300074,176.186754767107,176.250032000856,176.419017433437,176.477600450904,176.601950900428,176.736143750086,176.931668933884,177.083869783436,177.160565467622,177.383685833984,177.487534484234,177.546790133806,177.619619200899,177.683952433894,177.72763573395,177.868536418064,177.958640534699,178.006622350124,178.085284051072],"lat":[-37.5423911663695,-37.5987159661319,-37.6087571334111,-37.7602764999712,-37.7635896995148,-37.8450054663352,-38.1116561665495,-38.0420469669081,-38.1082776001083,-38.1866207665939,-38.218466749553,-38.3335362666423,-38.4263417997097,-38.5082771662098,-38.5839209335325,-38.6208022330665,-38.6936945832943,-38.6671346494108,-38.6893096832454,-38.7245242995849,-38.8215917663086,-38.8255591330702,-38.7968662996433,-38.9415194661341,-38.9887032829079,-38.9017194500041,-38.8899908832,-38.8081781833421,-38.5616572328534,-38.4022137994137,-38.3134151168029,-38.3230470168629,-38.2295556170154,-38.2390825827257,-38.2181863995568,-38.1214420994632,-38.0495643996976,-37.9294224998321,-37.9136730328251,-37.8285516669824,-37.7760034327964,-37.6274871173512,-37.5138131497633,-37.4716019831908,-37.4255867168046,-37.3732415494177,-37.4333808167608,-37.536853366205,-37.6239334661435,-37.6595265665208,-37.634790017341,-37.6800395996492,-37.7484934666571,-37.7541410500579,-37.8295142668897,-37.8795955831546,-37.9168967001651,-37.9788140829092,-37.9898454665602,-37.9836964665806,-37.9495595663945,-37.9075796830729,-37.8107283001314,-37.7601537161273,-37.6801879496912,-37.6533825667405,-37.6053283331363,-37.5531278668578,-37.5423911663695]}]],[[{"lng":[177.898992867599,177.834796917622,177.799025001196,177.660163933843,177.660490067463,177.597522800646,177.494212084347,177.447906750288,177.353425167718,177.307560650098,177.122170799865,177.257394033338,177.236922317735,177.463687900911,177.499270867243,177.604788567389,177.69206768402,177.73998423373,177.860967450378,177.972291634141,178.073006950751,177.9966216838,177.986683351304,178.107554901019,178.085284051072,178.174634084159,178.27630185211,178.36371060177,178.482593484816,178.550373601283,178.41585801832,178.391299368696,178.337261951675,178.373593884028,178.321955168811,178.338370118128,178.312409502003,178.344519151932,178.281772317683,178.293040667684,178.198843134477,178.050040402873,177.972729617512,177.911783384716,177.898992867599],"lat":[-38.9718330668037,-38.9527794162303,-38.8943903001803,-38.9047009167065,-38.8489419163927,-38.8070414997931,-38.7779742831157,-38.6359438828921,-38.6245578664864,-38.6597042000079,-38.5839209335325,-38.5082771662098,-38.4263417997097,-38.3335362666423,-38.218466749553,-38.1866207665939,-38.1082776001083,-38.0420469669081,-38.1116561665495,-37.8450054663352,-37.7635896995148,-37.7602764999712,-37.6087571334111,-37.5987159661319,-37.5423911663695,-37.534658299652,-37.5544868664312,-37.631004199356,-37.6410965159531,-37.6920842500843,-37.8580439169652,-37.9613996666553,-38.0095467667522,-38.0944882331678,-38.1221914165945,-38.1917070830343,-38.2415486163282,-38.4184646333134,-38.4721755162877,-38.526928333314,-38.6055091159961,-38.7020828327625,-38.6812606832734,-38.8279248668031,-38.9718330668037]}]],[[{"lng":[177.898992867599,177.9017996505,178.001674401045,177.92431856696,177.906174350565,177.850842017112,177.839268633773,177.870901817844,177.75596521677,177.636631150037,177.421363584246,177.259161701191,177.046117517361,176.989527483501,176.919394050451,176.876375366295,176.924177550286,176.922247883074,176.966353650113,177.075499034915,177.011022417518,177.005106232808,176.932128366662,176.888223216917,176.868997500491,176.794396933441,176.687031283296,176.622569049891,176.443295266386,176.359488317335,176.378605866566,176.32321406684,176.204970833786,176.136627349809,176.09383140064,176.106847067352,176.17685259975,176.195937933828,176.142726417604,176.183756817499,176.136827417623,176.111859467523,176.121760383432,176.080882450312,176.115201750033,176.085669116788,176.172753900527,176.147549683454,176.257562950888,176.258380934161,176.303565400195,176.382140266513,176.468164783258,176.520452884076,176.601167800211,176.69597065003,176.717283066478,176.766746733663,176.878667633178,176.991448066688,177.045979500407,177.122170799865,177.307560650098,177.353425167718,177.447906750288,177.494212084347,177.597522800646,177.660490067463,177.660163933843,177.799025001196,177.834796917622,177.898992867599],"lat":[-38.9718330668037,-39.0729589163746,-39.1049364834253,-39.170128766505,-39.2262764656247,-39.2334497993429,-39.1523278989566,-39.0876976334651,-39.0586759164819,-39.0504614667207,-39.0626328994174,-39.1006631831779,-39.1939367500206,-39.2940027839539,-39.3400230830998,-39.4226607995911,-39.4759893490698,-39.5495836494558,-39.6235120826987,-39.673259415579,-39.7427146832489,-39.8359419166031,-39.9352899665187,-40.0255260161828,-40.1313829665878,-40.2053349997861,-40.2563932328157,-40.4280165161931,-40.407388833065,-40.1971025165439,-40.1581407167419,-40.0937170162861,-40.0189951167996,-40.028578133887,-39.9955025832942,-39.9172052497374,-39.7440490995691,-39.6635709666433,-39.5846827831589,-39.5389751331424,-39.4752775333261,-39.3849908334676,-39.3263642668672,-39.2591636994191,-39.217689216508,-39.1294486169037,-39.0784858666887,-39.0376737002045,-38.9478759665807,-38.8899908832,-38.9017194500041,-38.9887032829079,-38.9415194661341,-38.7968662996433,-38.8255591330702,-38.8215917663086,-38.7245242995849,-38.6893096832454,-38.6671346494108,-38.6936945832943,-38.6208022330665,-38.5839209335325,-38.6597042000079,-38.6245578664864,-38.6359438828921,-38.7779742831157,-38.8070414997931,-38.8489419163927,-38.9047009167065,-38.8943903001803,-38.9527794162303,-38.9718330668037]}]],[[{"lng":[174.615147466571,174.655191183282,174.791960217277,174.862896367393,174.819869750297,174.798771383129,174.82803073341,174.764415417466,174.788411450134,174.675169549981,174.755642432479,174.747802983227,174.891668949943,174.871353583229,174.928495867377,174.967386967073,174.97262881664,174.930618333552,174.784081849931,174.716569950035,174.558874867369,174.444514817259,174.352709617041,174.201535516873,174.076819100748,173.910845583182,173.794988949217,173.75158500083,173.794817016681,173.909613299173,174.088957305084,174.200815833298,174.390964834124,174.559947483204,174.615147466571],"lat":[-38.7066484493599,-38.7332825998958,-38.7317766330068,-38.7745840666673,-38.7875171166311,-38.8652667999914,-38.923704366338,-39.0047909500201,-39.0678331830544,-39.1298299493616,-39.2336436335003,-39.2757990163096,-39.3582403665654,-39.401065466581,-39.4761503161982,-39.4862796832774,-39.653146100114,-39.7244787999056,-39.8579774497812,-39.8672062167774,-39.8174444664505,-39.7506608664429,-39.6590780832936,-39.588083783155,-39.5773399666899,-39.5148036332211,-39.4150641328049,-39.2803068998594,-39.1924945673116,-39.1211085998946,-39.050930172386,-38.9883909501843,-38.9888580830121,-38.855913583522,-38.7066484493599]}]],[[{"lng":[176.085669116788,176.115201750033,176.080882450312,176.121760383432,176.111859467523,176.136827417623,176.183756817499,176.142726417604,176.195937933828,176.17685259975,176.106847067352,176.09383140064,176.136627349809,176.204970833786,176.32321406684,176.378605866566,176.359488317335,176.443295266386,176.622569049891,176.620793584048,176.493457017513,176.33276253349,176.211253483372,176.082334183401,176.02244929987,175.871636834196,175.764739183997,175.77010965014,175.690650115948,175.653222466794,175.473443566666,175.439643550552,175.371593716648,175.266658932695,175.136486700712,175.190707066475,175.227057750243,175.223560650608,175.198135366129,175.162540683897,175.045463016741,174.927877449905,174.784081849931,174.930618333552,174.97262881664,174.967386967073,174.928495867377,174.871353583229,174.891668949943,174.747802983227,174.755642432479,174.675169549981,174.788411450134,174.764415417466,174.82803073341,174.798771383129,174.819869750297,174.862896367393,174.937845033609,174.954390867085,175.109226684129,175.213231183619,175.317760016591,175.38321201729,175.480939533801,175.612185166049,175.632458999383,175.523386533045,175.574620149733,175.546438183896,175.579969833542,175.562633650261,175.682012417337,175.617972132812,175.634656366174,175.557854216472,175.669211766574,175.812568800519,175.885970716458,175.964365549959,175.989206866078,176.085669116788],"lat":[-39.1294486169037,-39.217689216508,-39.2591636994191,-39.3263642668672,-39.3849908334676,-39.4752775333261,-39.5389751331424,-39.5846827831589,-39.6635709666433,-39.7440490995691,-39.9172052497374,-39.9955025832942,-40.028578133887,-40.0189951167996,-40.0937170162861,-40.1581407167419,-40.1971025165439,-40.407388833065,-40.4280165161931,-40.4917772330373,-40.5305003327721,-40.697900799416,-40.6592102828479,-40.7081527160579,-40.7114886668745,-40.7779047333494,-40.7680905667094,-40.6988883998422,-40.6965623329828,-40.7424894827011,-40.6933970997398,-40.7441521327217,-40.7268607830085,-40.7686105330861,-40.7003334998074,-40.5669227160489,-40.3980753833689,-40.2930346163214,-40.1765422327759,-40.1071686334006,-39.9854570661162,-39.8993730493337,-39.8579774497812,-39.7244787999056,-39.653146100114,-39.4862796832774,-39.4761503161982,-39.401065466581,-39.3582403665654,-39.2757990163096,-39.2336436335003,-39.1298299493616,-39.0678331830544,-39.0047909500201,-38.923704366338,-38.8652667999914,-38.7875171166311,-38.7745840666673,-38.750158566659,-38.6675035326607,-38.6245203666556,-38.639399033155,-38.5560422670198,-38.5422959832446,-38.4788807501445,-38.4876116162079,-38.5917750672203,-38.7500919668535,-38.8163002497247,-38.8598730996517,-38.9106842496727,-38.9868296998684,-38.9797105002429,-39.0812491668669,-39.1583628832968,-39.2759983495024,-39.2969341494396,-39.3003262165101,-39.2058951835182,-39.1798030168406,-39.115548083218,-39.1294486169037]}]],[[{"lng":[176.33276253349,176.267228400183,176.224487017583,176.154899234065,176.106925633451,176.06247941692,176.003310849804,175.961835883779,175.899294816757,175.811865650044,175.675583900734,175.58518594996,175.533100033117,175.433381416302,175.325406533484,175.236423100173,175.195284183578,175.216735033403,175.043268483566,174.924173882771,174.847847867082,174.912076183578,174.84435636702,174.785921437228,174.839045832862,174.705109599961,174.66078746668,174.623012999722,174.711288199763,174.794672150245,174.867167799271,174.846312016586,174.938811199179,174.989772533759,175.035492733743,175.136486700712,175.266658932695,175.371593716648,175.439643550552,175.473443566666,175.653222466794,175.690650115948,175.77010965014,175.764739183997,175.871636834196,176.02244929987,176.082334183401,176.211253483372,176.33276253349],"lat":[-40.697900799416,-40.7848636000785,-40.9064747168577,-40.9481505495627,-41.0152208993286,-41.1310157498429,-41.1717069160855,-41.2447749001051,-41.263295699946,-41.3596269993307,-41.4137952330758,-41.487372832698,-41.4965452334551,-41.568835716916,-41.6059589661807,-41.6051656500547,-41.5238026326986,-41.4315767334165,-41.3733172995721,-41.434702866697,-41.3594841327964,-41.2597096998983,-41.2288581497398,-41.2651837993434,-41.325258266261,-41.357110466716,-41.340375233043,-41.260325633351,-41.2199340172696,-41.1246902997312,-41.0867387663926,-41.0499113660407,-41.0003014665634,-40.8786943168909,-40.8516626997223,-40.7003334998074,-40.7686105330861,-40.7268607830085,-40.7441521327217,-40.6933970997398,-40.7424894827011,-40.6965623329828,-40.6988883998422,-40.7680905667094,-40.7779047333494,-40.7114886668745,-40.7081527160579,-40.6592102828479,-40.697900799416]}]],[[{"lng":[172.479030949819,172.444256900204,172.348260516017,172.235513800302,172.1330007499,172.094375383646,171.974953333456,171.915639166648,171.841774433461,171.763848766853,171.746369750711,171.69066966728,171.44922653414,171.411630450039,171.316264849941,171.237669015979,171.197689267427,171.079330766508,170.993271149153,170.937214367317,170.830348166594,170.70569891615,170.592312017226,170.528889117364,170.395291850712,170.322861434049,170.238421217139,170.098131417274,170.091407749954,169.965530866418,169.900034783336,169.699336634166,169.592780550635,169.591375933128,169.372957082297,169.275178699666,169.188798133306,169.147102432454,168.975078451156,168.96335649954,168.849166000554,168.836083532939,168.728392349302,168.625502799972,168.460041532736,168.334527917187,168.407363598795,168.349075433004,168.347349198927,168.224958950158,168.1319289655,168.052080299308,168.245224000031,168.327532100226,168.386086599038,168.512572866105,168.596033082782,168.709528882769,168.815458849903,168.888444332937,168.969334415735,169.209384000714,169.426815166859,169.59167065054,169.690794066988,169.793601633185,169.981233500255,170.050894783883,170.266101450359,170.257309000665,170.34165461676,170.420541400346,170.524388600502,170.720963766413,170.867846066505,170.947971800697,171.051014333038,171.167346766778,171.218172099769,171.304561750154,171.321142133862,171.417931516559,171.455980199127,171.462321733036,171.587717983286,171.670754701712,171.828431383484,171.882088466121,171.987652299441,172.063382449494,172.092597800296,172.111628817585,172.094501582949,172.133988150577,172.217804650849,172.229036100221,172.370078216958,172.310335033614,172.493938299216,172.485968450507,172.618004983595,172.657937583202,172.600312034113,172.584361567505,172.46311268413,172.418018282578,172.34245996745,172.320665484129,172.238130649319,172.247078967484,172.129322299744,172.115730567145,172.052126816993,172.135203666157,172.206730749948,172.26099479982,172.331950216583,172.335875833233,172.369593532568,172.479030949819],"lat":[-42.2770294331018,-42.3659640998714,-42.3913898493678,-42.4567272663214,-42.5552061664186,-42.6204476501529,-42.6389925162953,-42.6817304496183,-42.7745563165371,-42.7917224165052,-42.8740807000333,-42.9008274327487,-42.9092283835239,-42.950759216649,-42.9474959831915,-43.0025114832476,-43.0742574837314,-43.102300650144,-43.2153140832055,-43.2040572826524,-43.2835111333338,-43.3207865163982,-43.434014166647,-43.41035221676,-43.4980506000732,-43.4903493001037,-43.5138270161936,-43.5954793833291,-43.6603731668313,-43.7917623165842,-43.8129979662184,-43.9635462831413,-43.9580761662848,-44.0125360168529,-44.1169906667223,-44.0985810003063,-44.1105468993574,-44.0802167659312,-44.1440294839761,-44.199936332986,-44.2466723496502,-44.3399177501499,-44.4194781170877,-44.4339354666367,-44.4953348162634,-44.4967794329974,-44.3751147829651,-44.3304824000169,-44.2842383168839,-44.2568242500963,-44.2811937826191,-44.2586477665919,-44.1580564167771,-44.0494656167805,-44.0035227664975,-44.0018953502124,-43.9725449329756,-43.9942465499117,-43.9674074836821,-43.9053743500885,-43.8784611500177,-43.7192994001206,-43.6253148330259,-43.5990183996295,-43.5430910166687,-43.4215250502158,-43.3578198495791,-43.2918990002289,-43.1725636158674,-43.1188153494437,-43.0966792499987,-43.036161432916,-43.0173943501819,-42.9301012999167,-42.8228048660284,-42.7232656999423,-42.650688316635,-42.5078089999824,-42.38101976624,-42.2672141667554,-42.1532471998936,-41.9177566328917,-41.8824885829434,-41.7497772332918,-41.7299331833209,-41.7398889758327,-41.6470442500159,-41.6006758828507,-41.4457266661766,-41.3840702160795,-41.2827791501859,-41.0257784662469,-40.9162500830626,-40.8506217828755,-40.774542766922,-40.8558806664317,-40.970752467169,-41.0135581163049,-41.0245242002209,-41.0542427327253,-41.1598956494172,-41.2391689995477,-41.3018332326644,-41.3761944999728,-41.4043775665214,-41.4716592493264,-41.5131613498066,-41.6102873667713,-41.6395180999667,-41.6842177167129,-41.7140016329479,-41.8684047996712,-41.9451821329827,-42.1040439833841,-42.0983147832209,-42.1483124834356,-42.1506392829357,-42.2342079660401,-42.2806025168197,-42.2770294331018]}]],[[{"lng":[174.048786900106,173.966599600681,173.892544684064,173.697996616623,173.671647083024,173.594467415866,173.509134350058,173.479398800221,173.368425849937,173.241651783235,173.14498353365,173.080542450878,172.816906899328,172.73369503355,172.704087800548,172.71511108423,172.776007199763,173.040053516148,173.102133650692,173.130149783874,173.100509666792,172.997729132882,172.836626966534,172.728520416444,172.587602799177,172.31661868302,172.028047117075,171.614830016684,171.439070166985,171.333436083013,171.244871200256,171.258240632396,171.195791149221,171.159184499413,171.167954350424,171.144153632672,170.882433150378,170.658825416631,170.636873433877,170.542436216333,170.447188600345,170.397211283578,170.349440716734,170.373258400943,170.31935306623,170.242072667455,170.094098767269,169.996618083493,169.944216317563,169.836191183413,169.757151799328,169.644210749049,169.633685649873,169.545884367463,169.577100816617,169.571069933852,169.71703741641,169.699336634166,169.900034783336,169.965530866418,170.091407749954,170.098131417274,170.238421217139,170.322861434049,170.395291850712,170.528889117364,170.592312017226,170.70569891615,170.830348166594,170.937214367317,170.993271149153,171.079330766508,171.197689267427,171.237669015979,171.316264849941,171.411630450039,171.44922653414,171.69066966728,171.746369750711,171.763848766853,171.841774433461,171.915639166648,171.974953333456,172.094375383646,172.1330007499,172.235513800302,172.348260516017,172.444256900204,172.479030949819,172.614713433524,172.639183050117,172.721472999322,172.7216385824,172.823290099099,172.84243633332,172.914144833248,172.94139345023,172.992906316788,173.035789000756,173.189895532864,173.24452471748,173.312201366903,173.464463350147,173.499107499943,173.720210166329,173.744379950814,173.817253667021,173.955504883873,174.048786900106],"lat":[-41.9681092162646,-42.0447000162222,-42.1892206160537,-42.3510559327565,-42.4129525826812,-42.4284450168009,-42.5056333005132,-42.5927161833282,-42.7988198827147,-42.9528653661391,-42.9864308666849,-43.0507309163817,-43.1332584499975,-43.2550360161799,-43.3903552166644,-43.5479150830902,-43.5827193328042,-43.6552001167668,-43.6956743333898,-43.7627759999603,-43.8318133828904,-43.8873741827173,-43.8897602829967,-43.8276729498342,-43.8332652162497,-43.867088416516,-43.9583162998822,-44.1318285168831,-44.2233021661721,-44.2951907165708,-44.3817173994063,-44.4457059831107,-44.5267523667682,-44.6278346999366,-44.8761730664355,-44.9403990326692,-44.8910093998382,-44.9092402835565,-44.9513015836403,-44.9850467672386,-45.0659566666375,-45.0809043668126,-45.0216976998938,-44.952776016064,-44.9030489828625,-44.9307172500718,-44.9400199335113,-44.8215735834642,-44.6539842168892,-44.6688994161829,-44.6121328160996,-44.5858154998365,-44.4624053000104,-44.4226623997473,-44.3456657832859,-44.1772291501172,-44.0382773160894,-43.9635462831413,-43.8129979662184,-43.7917623165842,-43.6603731668313,-43.5954793833291,-43.5138270161936,-43.4903493001037,-43.4980506000732,-43.41035221676,-43.434014166647,-43.3207865163982,-43.2835111333338,-43.2040572826524,-43.2153140832055,-43.102300650144,-43.0742574837314,-43.0025114832476,-42.9474959831915,-42.950759216649,-42.9092283835239,-42.9008274327487,-42.8740807000333,-42.7917224165052,-42.7745563165371,-42.6817304496183,-42.6389925162953,-42.6204476501529,-42.5552061664186,-42.4567272663214,-42.3913898493678,-42.3659640998714,-42.2770294331018,-42.1954626498853,-42.100794682948,-42.1034917994144,-42.1586981838838,-42.2047070167556,-42.2891840664554,-42.3086089000796,-42.3778250335189,-42.4038495339355,-42.4834705328753,-42.4105463995064,-42.3031041161591,-42.2503815997009,-42.1956736999058,-42.0787366833914,-41.9607712162509,-41.9073832665118,-41.9329969833555,-41.9126783171107,-41.9681092162646]}]],[[{"lng":[169.699336634166,169.71703741641,169.571069933852,169.577100816617,169.545884367463,169.633685649873,169.644210749049,169.757151799328,169.836191183413,169.944216317563,169.996618083493,170.094098767269,170.242072667455,170.31935306623,170.373258400943,170.349440716734,170.397211283578,170.447188600345,170.542436216333,170.636873433877,170.658825416631,170.882433150378,171.144153632672,171.100528099082,170.973751149775,170.904456867088,170.831473232453,170.831145883379,170.75579789982,170.725243549953,170.653058832418,170.600894433297,170.658593699997,170.663784716405,170.511765316615,170.297526650457,170.196885316544,170.168560666662,169.923941867013,169.798088316601,169.797051965829,169.587586633489,169.477118166607,169.404843300495,169.279166266414,169.200940883149,169.250660233484,169.172959832917,169.195997516617,169.134143867466,169.190826583046,169.198060700759,169.159619899649,169.153328134215,169.067252783254,169.091515616554,169.00519949925,168.993372050492,169.129045084084,169.140231617195,169.211048582416,169.099293032989,169.065469000252,168.959565366235,168.88690013254,168.78245703227,168.751634949745,168.692215200617,168.674105117399,168.539401382992,168.323294049703,168.300759133193,168.217006498699,168.284206182425,168.292267949264,168.133993849733,168.117214416135,168.191001933063,168.172333382998,168.234509799649,168.334527917187,168.460041532736,168.625502799972,168.728392349302,168.836083532939,168.849166000554,168.96335649954,168.975078451156,169.147102432454,169.188798133306,169.275178699666,169.372957082297,169.591375933128,169.592780550635,169.699336634166],"lat":[-43.9635462831413,-44.0382773160894,-44.1772291501172,-44.3456657832859,-44.4226623997473,-44.4624053000104,-44.5858154998365,-44.6121328160996,-44.6688994161829,-44.6539842168892,-44.8215735834642,-44.9400199335113,-44.9307172500718,-44.9030489828625,-44.952776016064,-45.0216976998938,-45.0809043668126,-45.0659566666375,-44.9850467672386,-44.9513015836403,-44.9092402835565,-44.8910093998382,-44.9403990326692,-45.0030083668311,-45.0991354496446,-45.1744155169318,-45.3055600328616,-45.4735115163292,-45.5334878502003,-45.5959489167714,-45.6310545499711,-45.7107696833627,-45.7588499501476,-45.9035087330446,-45.9091708334976,-45.9623933001854,-46.0625319333923,-46.1545419165179,-46.2983543338468,-46.3546976165361,-46.4513536994124,-46.5657448494185,-46.5613084168585,-46.612326249574,-46.6224137668428,-46.5607098329384,-46.5143265833878,-46.4861186664512,-46.4044065827567,-46.3754392332203,-46.3264038994531,-46.2126295493632,-46.175637150073,-46.04874471621,-45.9804276164781,-45.8825561166011,-45.8634921999957,-45.7285384168417,-45.5203341827282,-45.4652520830163,-45.416771999385,-45.3199457495541,-45.2696099000556,-45.3591220831272,-45.4628204660881,-45.4370390834154,-45.3675663496802,-45.3396697501243,-45.2430717497138,-45.3093267168891,-45.3275431668485,-45.2246531168759,-45.1445409498591,-45.1061745334867,-45.0438246332288,-44.941441066775,-44.8714499496131,-44.7667900998972,-44.7045591835111,-44.5431956997936,-44.4967794329974,-44.4953348162634,-44.4339354666367,-44.4194781170877,-44.3399177501499,-44.2466723496502,-44.199936332986,-44.1440294839761,-44.0802167659312,-44.1105468993574,-44.0985810003063,-44.1169906667223,-44.0125360168529,-43.9580761662848,-43.9635462831413]}]],[[{"lng":[168.334527917187,168.234509799649,168.172333382998,168.191001933063,168.117214416135,168.133993849733,168.292267949264,168.284206182425,168.217006498699,168.300759133193,168.323294049703,168.539401382992,168.674105117399,168.692215200617,168.751634949745,168.78245703227,168.88690013254,168.959565366235,169.065469000252,169.099293032989,169.211048582416,169.140231617195,169.129045084084,168.993372050492,169.00519949925,169.091515616554,169.067252783254,169.153328134215,169.159619899649,169.198060700759,169.190826583046,169.134143867466,169.195997516617,169.172959832917,169.250660233484,169.200940883149,169.279166266414,169.22036591599,169.112977633915,169.005877783088,168.847240616637,168.793966399601,168.602963450626,168.515573883226,168.352956367462,168.265940499968,168.26360971254,168.190226399742,168.06494099935,168.015834933344,167.931857766403,167.783985415679,167.697388533509,167.712351199088,167.611463132559,167.53328326551,167.403100265785,167.36041789911,167.217213498612,167.105668632816,166.85248326508,166.778670298321,166.657467513834,166.618782631882,166.682766415625,166.698540013858,166.615138531335,166.611146481073,166.555778430931,166.449630281668,166.426302914574,166.450324479865,166.518401048488,166.622173080915,166.804038747773,166.730721582164,166.751807813934,166.731030032183,166.671602280962,166.684135131589,166.844406780597,166.908979298452,167.007590898471,166.967797181292,167.002267430718,167.271321765735,167.500637449284,167.571723433206,167.751370432539,167.817211299564,167.827906549916,167.87268493277,167.973286216338,168.008558299815,168.097524282888,168.052080299308,168.1319289655,168.224958950158,168.347349198927,168.349075433004,168.407363598795,168.334527917187],"lat":[-44.4967794329974,-44.5431956997936,-44.7045591835111,-44.7667900998972,-44.8714499496131,-44.941441066775,-45.0438246332288,-45.1061745334867,-45.1445409498591,-45.2246531168759,-45.3275431668485,-45.3093267168891,-45.2430717497138,-45.3396697501243,-45.3675663496802,-45.4370390834154,-45.4628204660881,-45.3591220831272,-45.2696099000556,-45.3199457495541,-45.416771999385,-45.4652520830163,-45.5203341827282,-45.7285384168417,-45.8634921999957,-45.8825561166011,-45.9804276164781,-46.04874471621,-46.175637150073,-46.2126295493632,-46.3264038994531,-46.3754392332203,-46.4044065827567,-46.4861186664512,-46.5143265833878,-46.5607098329384,-46.6224137668428,-46.656223099872,-46.6445697998936,-46.6743386331633,-46.6586199329358,-46.5811262500882,-46.5519047497942,-46.5742984501617,-46.5362781992669,-46.5559335326646,-46.4953184340233,-46.3853629167499,-46.3392979665928,-46.3838269830026,-46.3581014999452,-46.3890891171229,-46.307961466909,-46.2576959503765,-46.1914227661012,-46.16240946673,-46.1520754166419,-46.2369484002097,-46.2625064668733,-46.25366113273,-46.2084794827791,-46.222072183102,-46.20228694959,-46.1487916665506,-46.115505482954,-46.05823409979,-46.0600605832903,-45.9997223499968,-45.9746464495691,-45.9949010500723,-45.9044508994386,-45.818964083446,-45.794390016666,-45.7910534165939,-45.759831816707,-45.7281351169409,-45.6676932499871,-45.5947802672105,-45.574992932913,-45.5132728166055,-45.2758819164536,-45.3074377165583,-45.3141696665502,-45.1937010839229,-45.1255542171957,-44.8704801002207,-44.7480579001324,-44.6858730830295,-44.5806611495955,-44.5991209997801,-44.5075593496395,-44.4342743666374,-44.3866309826956,-44.3250568994953,-44.327164299694,-44.2586477665919,-44.2811937826191,-44.2568242500963,-44.2842383168839,-44.3304824000169,-44.3751147829651,-44.4967794329974]}],[{"lng":[167.869696716553,167.976547566294,168.001210732076,168.141792199061,168.141009317838,168.031908183908,167.978834599659,168.150523283786,168.214668599019,168.15639086674,167.954351350313,167.825699751352,167.710747198798,167.636122349395,167.646031498693,167.466622084097,167.466427316638,167.575995200266,167.579121549914,167.649750531859,167.694039966266,167.759027315244,167.756471366353,167.704121799979,167.754640632138,167.869696716553],"lat":[-46.6842310166752,-46.7237613987849,-46.785762665437,-46.8618585329575,-46.909408299092,-46.8968874826732,-46.928878233435,-46.9664681179055,-46.9944344838292,-47.1041435162499,-47.1292745649547,-47.1913799838493,-47.1604565164636,-47.2102895331876,-47.2637216324405,-47.2828524160058,-47.2165166326058,-47.16624331603,-47.0853388999095,-47.0364652490045,-46.967082999694,-46.9370851821983,-46.860982265505,-46.7544420165422,-46.6946847164946,-46.6842310166752]}],[{"lng":[166.678832281489,166.716482698834,166.723640182258,166.684653831234,166.588378964322,166.536803814148,166.678832281489],"lat":[-45.6003756001343,-45.6245835332561,-45.6992354496554,-45.7481735831086,-45.7207469668143,-45.6343713996404,-45.6003756001343]}],[{"lng":[166.962425848418,166.949393049243,166.987792331855,166.947416381365,166.868999981552,166.962425848418],"lat":[-45.1477982831904,-45.2031774998176,-45.2585408501287,-45.2941630663986,-45.2405394834619,-45.1477982831904]}]],[[{"lng":[173.198887399729,173.297443983366,173.250831384127,173.304149350489,173.168700533592,173.151614666983,173.086652616993,173.003789650797,172.926235200656,172.847570550194,172.86109313253,172.735298849099,172.721472999322,172.639183050117,172.614713433524,172.479030949819,172.369593532568,172.335875833233,172.331950216583,172.26099479982,172.206730749948,172.135203666157,172.052126816993,172.115730567145,172.129322299744,172.247078967484,172.238130649319,172.320665484129,172.34245996745,172.418018282578,172.46311268413,172.584361567505,172.600312034113,172.657937583202,172.618004983595,172.485968450507,172.493938299216,172.310335033614,172.370078216958,172.229036100221,172.217804650849,172.292207984059,172.447285383514,172.60562558292,172.642595651343,172.728820134899,172.688014218755,172.692504033943,172.798009667228,172.886338016923,172.990330217499,173.063517816826,173.012366349789,173.033520217139,173.009530717519,173.06578501716,173.104255083169,173.198887399729],"lat":[-41.3306196997791,-41.3931415162841,-41.4665801165597,-41.5060320836021,-41.5311546995344,-41.5854709831824,-41.6249252333708,-41.7248032669466,-41.7577336161561,-41.8742874663503,-41.922462966173,-42.0578953163068,-42.1034917994144,-42.100794682948,-42.1954626498853,-42.2770294331018,-42.2806025168197,-42.2342079660401,-42.1506392829357,-42.1483124834356,-42.0983147832209,-42.1040439833841,-41.9451821329827,-41.8684047996712,-41.7140016329479,-41.6842177167129,-41.6395180999667,-41.6102873667713,-41.5131613498066,-41.4716592493264,-41.4043775665214,-41.3761944999728,-41.3018332326644,-41.2391689995477,-41.1598956494172,-41.0542427327253,-41.0245242002209,-41.0135581163049,-40.970752467169,-40.8558806664317,-40.774542766922,-40.7473438326446,-40.6295302334271,-40.5644542999246,-40.5081192334842,-40.5290822657834,-40.5827790489968,-40.727883200224,-40.8162795663944,-40.832379632699,-40.7811902663518,-40.9057494657392,-40.9921395165867,-41.0887589498835,-41.1437780995651,-41.1838260998853,-41.2901597329138,-41.3306196997791]}]],[[{"lng":[173.297443983366,173.198887399729,173.221776466012,173.310618882688,173.32361723313,173.412776467452,173.461631133591,173.593891449768,173.568365816496,173.523007850712,173.415419299657,173.40678916666,173.297443983366],"lat":[-41.3931415162841,-41.3306196997791,-41.2930119000107,-41.2507582163573,-41.2037450165945,-41.1494512164174,-41.166853316328,-41.0511199330342,-41.1897309661648,-41.1979918667514,-41.2891416995075,-41.3309583501785,-41.3931415162841]}]],[[{"lng":[174.048786900106,173.955504883873,173.817253667021,173.744379950814,173.720210166329,173.499107499943,173.464463350147,173.312201366903,173.24452471748,173.189895532864,173.035789000756,172.992906316788,172.94139345023,172.914144833248,172.84243633332,172.823290099099,172.7216385824,172.721472999322,172.735298849099,172.86109313253,172.847570550194,172.926235200656,173.003789650797,173.086652616993,173.151614666983,173.168700533592,173.304149350489,173.250831384127,173.297443983366,173.40678916666,173.415419299657,173.523007850712,173.568365816496,173.593891449768,173.673303050289,173.802376834404,173.85077169915,173.868127116147,173.93680894915,173.993088400438,174.079004183599,174.17580193353,174.219448550258,174.12449421688,174.133062266944,174.048447900196,174.033535683903,174.072046116608,174.150420350879,174.15696061672,174.198299267036,174.275035250512,174.196758333519,174.048786900106],"lat":[-41.9681092162646,-41.9126783171107,-41.9329969833555,-41.9073832665118,-41.9607712162509,-42.0787366833914,-42.1956736999058,-42.2503815997009,-42.3031041161591,-42.4105463995064,-42.4834705328753,-42.4038495339355,-42.3778250335189,-42.3086089000796,-42.2891840664554,-42.2047070167556,-42.1586981838838,-42.1034917994144,-42.0578953163068,-41.922462966173,-41.8742874663503,-41.7577336161561,-41.7248032669466,-41.6249252333708,-41.5854709831824,-41.5311546995344,-41.5060320836021,-41.4665801165597,-41.3931415162841,-41.3309583501785,-41.2891416995075,-41.1979918667514,-41.1897309661648,-41.0511199330342,-41.0342675989915,-40.9722475322946,-41.0223203830977,-41.1442067667642,-41.0834601826368,-41.1021083834405,-41.016276216295,-40.9990567827128,-41.0713428828276,-41.2362538666924,-41.2853295661891,-41.3931097327586,-41.4763469339475,-41.5239591995643,-41.559433766753,-41.6476697164152,-41.7232352500816,-41.7428873668597,-41.835604316821,-41.9681092162646]}],[{"lng":[173.956358883868,173.960139751383,173.90531894827,173.813983967132,173.772206384172,173.805729534265,173.93662750116,173.956358883868],"lat":[-40.6928282325892,-40.7644749495549,-40.857230999874,-40.930467433164,-40.8619594325141,-40.8027343164422,-40.747506066453,-40.6928282325892]}]]],null,"Median income",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"polygon","stroke":true,"color":"#333333","weight":0.5,"opacity":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9],"fill":true,"fillColor":["#FFFFB2","#FC572C","#FD8D3C","#FEBD58","#FEDE7E","#FEBD58","#FC7234","#FECD6A","#B10026","#FDAC49","#F43F26","#FDAC49","#FC572C","#FEBD58","#FD9C42","#FD8D3C"],"fillOpacity":[0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6],"smoothFactor":1,"noClip":false},["<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>Name&emsp;<\/th><td>Northland&emsp;<\/td><\/tr><tr><td>2<\/td><th>Island&emsp;<\/th><td>North&emsp;<\/td><\/tr><tr><td>3<\/td><th>Land_area&emsp;<\/th><td>12500.5611&emsp;<\/td><\/tr><tr><td>4<\/td><th>Population&emsp;<\/th><td> 175500&emsp;<\/td><\/tr><tr><td>5<\/td><th>Median_income&emsp;<\/th><td>23400&emsp;<\/td><\/tr><tr><td>6<\/td><th>Sex_ratio&emsp;<\/th><td>0.9424532&emsp;<\/td><\/tr><tr><td>7<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>2&emsp;<\/td><\/tr><tr><td>1<\/td><th>Name&emsp;<\/th><td>Auckland&emsp;<\/td><\/tr><tr><td>2<\/td><th>Island&emsp;<\/th><td>North&emsp;<\/td><\/tr><tr><td>3<\/td><th>Land_area&emsp;<\/th><td> 4941.5726&emsp;<\/td><\/tr><tr><td>4<\/td><th>Population&emsp;<\/th><td>1657200&emsp;<\/td><\/tr><tr><td>5<\/td><th>Median_income&emsp;<\/th><td>29600&emsp;<\/td><\/tr><tr><td>6<\/td><th>Sex_ratio&emsp;<\/th><td>0.9442858&emsp;<\/td><\/tr><tr><td>7<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>3&emsp;<\/td><\/tr><tr><td>1<\/td><th>Name&emsp;<\/th><td>Waikato&emsp;<\/td><\/tr><tr><td>2<\/td><th>Island&emsp;<\/th><td>North&emsp;<\/td><\/tr><tr><td>3<\/td><th>Land_area&emsp;<\/th><td>23900.0364&emsp;<\/td><\/tr><tr><td>4<\/td><th>Population&emsp;<\/th><td> 460100&emsp;<\/td><\/tr><tr><td>5<\/td><th>Median_income&emsp;<\/th><td>27900&emsp;<\/td><\/tr><tr><td>6<\/td><th>Sex_ratio&emsp;<\/th><td>0.9520500&emsp;<\/td><\/tr><tr><td>7<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>4&emsp;<\/td><\/tr><tr><td>1<\/td><th>Name&emsp;<\/th><td>Bay of Plenty&emsp;<\/td><\/tr><tr><td>2<\/td><th>Island&emsp;<\/th><td>North&emsp;<\/td><\/tr><tr><td>3<\/td><th>Land_area&emsp;<\/th><td>12071.1447&emsp;<\/td><\/tr><tr><td>4<\/td><th>Population&emsp;<\/th><td> 299900&emsp;<\/td><\/tr><tr><td>5<\/td><th>Median_income&emsp;<\/th><td>26200&emsp;<\/td><\/tr><tr><td>6<\/td><th>Sex_ratio&emsp;<\/th><td>0.9280391&emsp;<\/td><\/tr><tr><td>7<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>5&emsp;<\/td><\/tr><tr><td>1<\/td><th>Name&emsp;<\/th><td>Gisborne&emsp;<\/td><\/tr><tr><td>2<\/td><th>Island&emsp;<\/th><td>North&emsp;<\/td><\/tr><tr><td>3<\/td><th>Land_area&emsp;<\/th><td> 8385.8266&emsp;<\/td><\/tr><tr><td>4<\/td><th>Population&emsp;<\/th><td>  48500&emsp;<\/td><\/tr><tr><td>5<\/td><th>Median_income&emsp;<\/th><td>24400&emsp;<\/td><\/tr><tr><td>6<\/td><th>Sex_ratio&emsp;<\/th><td>0.9349734&emsp;<\/td><\/tr><tr><td>7<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>6&emsp;<\/td><\/tr><tr><td>1<\/td><th>Name&emsp;<\/th><td>Hawke's Bay&emsp;<\/td><\/tr><tr><td>2<\/td><th>Island&emsp;<\/th><td>North&emsp;<\/td><\/tr><tr><td>3<\/td><th>Land_area&emsp;<\/th><td>14137.5244&emsp;<\/td><\/tr><tr><td>4<\/td><th>Population&emsp;<\/th><td> 164000&emsp;<\/td><\/tr><tr><td>5<\/td><th>Median_income&emsp;<\/th><td>26100&emsp;<\/td><\/tr><tr><td>6<\/td><th>Sex_ratio&emsp;<\/th><td>0.9238375&emsp;<\/td><\/tr><tr><td>7<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>7&emsp;<\/td><\/tr><tr><td>1<\/td><th>Name&emsp;<\/th><td>Taranaki&emsp;<\/td><\/tr><tr><td>2<\/td><th>Island&emsp;<\/th><td>North&emsp;<\/td><\/tr><tr><td>3<\/td><th>Land_area&emsp;<\/th><td> 7254.4804&emsp;<\/td><\/tr><tr><td>4<\/td><th>Population&emsp;<\/th><td> 118000&emsp;<\/td><\/tr><tr><td>5<\/td><th>Median_income&emsp;<\/th><td>29100&emsp;<\/td><\/tr><tr><td>6<\/td><th>Sex_ratio&emsp;<\/th><td>0.9569363&emsp;<\/td><\/tr><tr><td>7<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>8&emsp;<\/td><\/tr><tr><td>1<\/td><th>Name&emsp;<\/th><td>Manawatu-Wanganui&emsp;<\/td><\/tr><tr><td>2<\/td><th>Island&emsp;<\/th><td>North&emsp;<\/td><\/tr><tr><td>3<\/td><th>Land_area&emsp;<\/th><td>22220.6084&emsp;<\/td><\/tr><tr><td>4<\/td><th>Population&emsp;<\/th><td> 234500&emsp;<\/td><\/tr><tr><td>5<\/td><th>Median_income&emsp;<\/th><td>25000&emsp;<\/td><\/tr><tr><td>6<\/td><th>Sex_ratio&emsp;<\/th><td>0.9387734&emsp;<\/td><\/tr><tr><td>7<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>9&emsp;<\/td><\/tr><tr><td>1<\/td><th>Name&emsp;<\/th><td>Wellington&emsp;<\/td><\/tr><tr><td>2<\/td><th>Island&emsp;<\/th><td>North&emsp;<\/td><\/tr><tr><td>3<\/td><th>Land_area&emsp;<\/th><td> 8048.5528&emsp;<\/td><\/tr><tr><td>4<\/td><th>Population&emsp;<\/th><td> 513900&emsp;<\/td><\/tr><tr><td>5<\/td><th>Median_income&emsp;<\/th><td>32700&emsp;<\/td><\/tr><tr><td>6<\/td><th>Sex_ratio&emsp;<\/th><td>0.9335524&emsp;<\/td><\/tr><tr><td>7<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>10&emsp;<\/td><\/tr><tr><td>1<\/td><th>Name&emsp;<\/th><td>West Coast&emsp;<\/td><\/tr><tr><td>2<\/td><th>Island&emsp;<\/th><td>South&emsp;<\/td><\/tr><tr><td>3<\/td><th>Land_area&emsp;<\/th><td>23245.4559&emsp;<\/td><\/tr><tr><td>4<\/td><th>Population&emsp;<\/th><td>  32400&emsp;<\/td><\/tr><tr><td>5<\/td><th>Median_income&emsp;<\/th><td>26900&emsp;<\/td><\/tr><tr><td>6<\/td><th>Sex_ratio&emsp;<\/th><td>1.0139072&emsp;<\/td><\/tr><tr><td>7<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>11&emsp;<\/td><\/tr><tr><td>1<\/td><th>Name&emsp;<\/th><td>Canterbury&emsp;<\/td><\/tr><tr><td>2<\/td><th>Island&emsp;<\/th><td>South&emsp;<\/td><\/tr><tr><td>3<\/td><th>Land_area&emsp;<\/th><td>44504.4991&emsp;<\/td><\/tr><tr><td>4<\/td><th>Population&emsp;<\/th><td> 612000&emsp;<\/td><\/tr><tr><td>5<\/td><th>Median_income&emsp;<\/th><td>30100&emsp;<\/td><\/tr><tr><td>6<\/td><th>Sex_ratio&emsp;<\/th><td>0.9753265&emsp;<\/td><\/tr><tr><td>7<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>12&emsp;<\/td><\/tr><tr><td>1<\/td><th>Name&emsp;<\/th><td>Otago&emsp;<\/td><\/tr><tr><td>2<\/td><th>Island&emsp;<\/th><td>South&emsp;<\/td><\/tr><tr><td>3<\/td><th>Land_area&emsp;<\/th><td>31186.3092&emsp;<\/td><\/tr><tr><td>4<\/td><th>Population&emsp;<\/th><td> 224200&emsp;<\/td><\/tr><tr><td>5<\/td><th>Median_income&emsp;<\/th><td>26300&emsp;<\/td><\/tr><tr><td>6<\/td><th>Sex_ratio&emsp;<\/th><td>0.9511694&emsp;<\/td><\/tr><tr><td>7<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>13&emsp;<\/td><\/tr><tr><td>1<\/td><th>Name&emsp;<\/th><td>Southland&emsp;<\/td><\/tr><tr><td>2<\/td><th>Island&emsp;<\/th><td>South&emsp;<\/td><\/tr><tr><td>3<\/td><th>Land_area&emsp;<\/th><td>31196.0604&emsp;<\/td><\/tr><tr><td>4<\/td><th>Population&emsp;<\/th><td>  98300&emsp;<\/td><\/tr><tr><td>5<\/td><th>Median_income&emsp;<\/th><td>29500&emsp;<\/td><\/tr><tr><td>6<\/td><th>Sex_ratio&emsp;<\/th><td>0.9785069&emsp;<\/td><\/tr><tr><td>7<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>14&emsp;<\/td><\/tr><tr><td>1<\/td><th>Name&emsp;<\/th><td>Tasman&emsp;<\/td><\/tr><tr><td>2<\/td><th>Island&emsp;<\/th><td>South&emsp;<\/td><\/tr><tr><td>3<\/td><th>Land_area&emsp;<\/th><td> 9615.9760&emsp;<\/td><\/tr><tr><td>4<\/td><th>Population&emsp;<\/th><td>  51100&emsp;<\/td><\/tr><tr><td>5<\/td><th>Median_income&emsp;<\/th><td>25700&emsp;<\/td><\/tr><tr><td>6<\/td><th>Sex_ratio&emsp;<\/th><td>0.9718981&emsp;<\/td><\/tr><tr><td>7<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>15&emsp;<\/td><\/tr><tr><td>1<\/td><th>Name&emsp;<\/th><td>Nelson&emsp;<\/td><\/tr><tr><td>2<\/td><th>Island&emsp;<\/th><td>South&emsp;<\/td><\/tr><tr><td>3<\/td><th>Land_area&emsp;<\/th><td>  422.1952&emsp;<\/td><\/tr><tr><td>4<\/td><th>Population&emsp;<\/th><td>  51400&emsp;<\/td><\/tr><tr><td>5<\/td><th>Median_income&emsp;<\/th><td>27200&emsp;<\/td><\/tr><tr><td>6<\/td><th>Sex_ratio&emsp;<\/th><td>0.9259674&emsp;<\/td><\/tr><tr><td>7<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>16&emsp;<\/td><\/tr><tr><td>1<\/td><th>Name&emsp;<\/th><td>Marlborough&emsp;<\/td><\/tr><tr><td>2<\/td><th>Island&emsp;<\/th><td>South&emsp;<\/td><\/tr><tr><td>3<\/td><th>Land_area&emsp;<\/th><td>10457.7455&emsp;<\/td><\/tr><tr><td>4<\/td><th>Population&emsp;<\/th><td>  46200&emsp;<\/td><\/tr><tr><td>5<\/td><th>Median_income&emsp;<\/th><td>27900&emsp;<\/td><\/tr><tr><td>6<\/td><th>Sex_ratio&emsp;<\/th><td>0.9577922&emsp;<\/td><\/tr><tr><td>7<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>"],{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["23400","29600","27900","26200","24400","26100","29100","25000","32700","26900","30100","26300","29500","25700","27200","27900"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":1,"opacity":0.9,"fillOpacity":0.84,"bringToFront":false,"sendToBack":false}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[166.426302914574,-47.2828524160058,178.550373601283,-34.4145187168353,true,"Median income","Zoom to Median income","<strong> Median income <\/strong>","bottomright"]},{"method":"addLegend","args":[{"colors":["#FFFFB2 , #FEF09B 6.45161290322581%, #FED776 17.2043010752688%, #FEBE5A 27.9569892473118%, #FDA546 38.7096774193548%, #FD8E3C 49.4623655913978%, #FC6730 60.2150537634409%, #F54126 70.9677419354839%, #E3211F 81.7204301075269%, #C70C21 92.4731182795699%, #B10026 "],"labels":["24,000","25,000","26,000","27,000","28,000","29,000","30,000","31,000","32,000"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"numeric","title":"Median income","extra":{"p_1":0.0645161290322581,"p_n":0.924731182795699},"layerId":null,"className":"info legend","group":"Median income"}]},{"method":"createMapPane","args":["point",440]},{"method":"addCircleMarkers","args":[[-35.75111111,-37.65944444,-38.6725,-39.475,-39.94416667,-41.2775,-42.44472222,-41.75027778,-43.60611111,-45.87583333,-41.28555556],[174.3426973,176.1740872,178.0224971,176.9180801,174.9895171,174.7898704,171.20053,171.5912839,172.7102473,170.5193168,174.004417],6,null,"st_geometry(nz_ports)",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#333333","weight":1,"opacity":0.9,"fill":true,"fillColor":"#6666ff","fillOpacity":0.6},null,null,null,{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["1","2","3","4","5","6","7","8","9","10","11"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addHomeButton","args":[170.5193168,-45.87583333,178.0224971,-35.75111111,true,"st_geometry(nz_ports)","Zoom to st_geometry(nz_ports)","<strong> st_geometry(nz_ports) <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["CartoDB.Positron","CartoDB.DarkMatter","OpenStreetMap","Esri.WorldImagery","OpenTopoMap"],["Median income","st_geometry(nz_ports)"],{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addHomeButton","args":[166.426302914574,-47.2828524160058,178.550373601283,-34.4145187168353,true,null,"Zoom to full extent","<strong>Zoom full<\/strong>","bottomleft"]}],"limits":{"lat":[-47.2828524160058,-34.4145187168353],"lng":[166.426302914574,178.550373601283]},"fitBounds":[-47.2828524160058,166.426302914574,-34.4145187168353,178.550373601283,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
]

---
# mapdeck

.pull-left[

```r
library(mapdeck)
nz4326 = st_transform(nz, 4326)
nz4326$elev = (nz4326$Median_income/1000)^3.5
# Sys.setenv(MAPBOX_API_KEY = "xxxxxxxxxx")
mapdeck(style = mapdeck_style("dark")) %&gt;%
  add_polygon(data = nz4326,
              layer = "polygon_layer",
              fill_colour = "Median_income",
              elevation = "elev"
              )
```
]

.pull-right[
<div id="htmlwidget-83b2c3ba669e484b06ba" style="width:504px;height:504px;" class="mapdeck html-widget"></div>
<script type="application/json" data-for="htmlwidget-83b2c3ba669e484b06ba">{"x":{"access_token":null,"style":"mapbox://styles/mapbox/dark-v10","pitch":0,"zoom":0,"location":[0,0],"bearing":0,"max_zoom":20,"min_zoom":0,"max_pitch":60,"min_pitch":0,"show_view_state":false,"repeat_view":false,"calls":[{"functions":"add_polygon_geo","args":["mapdeck",[{"type":"Feature","properties":{"elevation":61980.560731323276,"fill_colour":"#440154FF","stroke_colour":"#440154FF"},"geometry":{"geometry":{"type":"Polygon","coordinates":[[[174.616639,-36.11756],[174.562809,-36.179],[174.481748,-36.228277],[174.338966,-36.31683],[174.214573,-36.258712],[174.128773,-36.173612],[174.045998,-36.17017],[174.095972,-36.244888],[174.155368,-36.276097],[174.181867,-36.363036],[174.13535100000002,-36.39205],[174.040528,-36.392883],[173.983676,-36.233705],[173.866047,-36.0912],[173.688098,-35.892417],[173.365181,-35.547402],[173.356613,-35.522818],[173.054244,-35.191238],[173.13056,-35.178932],[173.168093,-35.136427],[173.167447,-35.036369],[173.081006,-34.892392],[172.851223,-34.629713],[172.653881,-34.478008],[172.699951,-34.426382],[172.793065,-34.453994],[172.869035,-34.414519],[173.014442,-34.424137],[172.984791,-34.527807],[173.025131,-34.653519],[173.120204,-34.816684],[173.199325,-34.870969],[173.280773,-34.892526],[173.214815,-34.961256],[173.288398,-35.013232],[173.340088,-34.958231],[173.286915,-34.863499],[173.429163,-34.825149],[173.38971,-34.953496],[173.434031,-34.985936],[173.535566,-34.998453],[173.562635,-34.921568],[173.644032,-34.966194],[173.701142,-34.952477],[173.740085,-35.037206],[173.841273,-34.994309],[173.931278,-35.047299],[173.963285,-35.118863],[174.07854,-35.116132],[174.079958,-35.273098],[174.125463,-35.294034],[174.289785,-35.275148],[174.35017,-35.326419],[174.339655,-35.37688],[174.468392,-35.490754],[174.474719,-35.556346],[174.536754,-35.587682],[174.502372,-35.640834],[174.557601,-35.724017],[174.555189,-35.860891],[174.485563,-35.786374],[174.422687,-35.784832],[174.40483,-35.831016],[174.500809,-35.841063],[174.460145,-35.914535],[174.510001,-36.030465],[174.589781,-36.04819],[174.616639,-36.11756]]]}}},{"type":"Feature","properties":{"elevation":141098.0425070544,"fill_colour":"#35B779FF","stroke_colour":"#440154FF"},"geometry":{"geometry":{"type":"Polygon","coordinates":[[[175.291304,-37.024038],[175.152091,-37.021558],[175.14112,-37.175603],[175.048243,-37.182271],[174.990258,-37.216585],[174.868951,-37.244987],[174.815488,-37.228631],[174.659628,-37.292432],[174.538638,-37.076632],[174.627048,-37.036734],[174.690634,-37.136649],[174.739502,-37.126225],[174.857652,-37.051094],[174.826875,-37.012906],[174.7441,-36.984334],[174.681552,-36.933815],[174.583828,-37.007311],[174.483037,-37.048003],[174.468611,-36.954076],[174.424402,-36.82422],[174.273615,-36.611344],[174.168704,-36.494431],[174.187919,-36.434494],[174.235835,-36.428091],[174.312746,-36.536493],[174.404776,-36.624236],[174.431322,-36.511005],[174.414886,-36.403662],[174.25746,-36.380903],[174.25757,-36.325956],[174.373455,-36.319475],[174.481748,-36.228277],[174.562809,-36.179],[174.616639,-36.11756],[174.657346,-36.177532],[174.745751,-36.256922],[174.818184,-36.285268],[174.734792,-36.403068],[174.72302,-36.512822],[174.692815,-36.575735],[174.74061,-36.648004],[174.775982,-36.773506],[174.735216,-36.841125],[174.880847,-36.852329],[174.951338,-36.895385],[175.055796,-36.882601],[175.093513,-36.945711],[175.194032,-36.934309],[175.283329,-36.988506],[175.291304,-37.024038]]]}}},{"type":"Feature","properties":{"elevation":141098.0425070544,"fill_colour":"#35B779FF","stroke_colour":"#440154FF"},"geometry":{"geometry":{"type":"Polygon","coordinates":[[[175.397381,-36.049713],[175.422708,-36.129189],[175.4837,-36.192152],[175.479486,-36.244404],[175.543212,-36.295201],[175.525422,-36.347617],[175.437766,-36.307523],[175.43349,-36.272413],[175.350243,-36.228536],[175.364852,-36.182238],[175.326194,-36.138273],[175.341795,-36.068592],[175.397381,-36.049713]]]}}},{"type":"Feature","properties":{"elevation":141098.0425070544,"fill_colour":"#35B779FF","stroke_colour":"#440154FF"},"geometry":{"geometry":{"type":"Polygon","coordinates":[[[175.172595,-36.738659],[175.145112,-36.847412],[175.066499,-36.833736],[175.038031,-36.79577],[175.172595,-36.738659]]]}}},{"type":"Feature","properties":{"elevation":114713.54776218697,"fill_colour":"#228C8DFF","stroke_colour":"#440154FF"},"geometry":{"geometry":{"type":"Polygon","coordinates":[[[175.940104,-37.373242],[175.913492,-37.425587],[175.832776,-37.471602],[175.809667,-37.513813],[175.833587,-37.627487],[175.927715,-37.776003],[175.905874,-37.828552],[175.977188,-37.913673],[175.940946,-37.929422],[176.075604,-38.049564],[176.076019,-38.121442],[176.150335,-38.218186],[176.232058,-38.239083],[176.297548,-38.229556],[176.390623,-38.323047],[176.429144,-38.313415],[176.505325,-38.402214],[176.45098,-38.561657],[176.255114,-38.808178],[176.258381,-38.889991],[176.257563,-38.947876],[176.14755,-39.037674],[176.172754,-39.078486],[176.085669,-39.129449],[175.989207,-39.115548],[175.964366,-39.179803],[175.885971,-39.205895],[175.812569,-39.300326],[175.669212,-39.296934],[175.557854,-39.275998],[175.634656,-39.158363],[175.617972,-39.081249],[175.682012,-38.979711],[175.562634,-38.98683],[175.57997,-38.910684],[175.546438,-38.859873],[175.57462,-38.8163],[175.523387,-38.750092],[175.632459,-38.591775],[175.612185,-38.487612],[175.48094,-38.478881],[175.383212,-38.542296],[175.31776,-38.556042],[175.213231,-38.639399],[175.109227,-38.62452],[174.954391,-38.667504],[174.937845,-38.750159],[174.862896,-38.774584],[174.79196,-38.731777],[174.655191,-38.733283],[174.615147,-38.706648],[174.645575,-38.456367],[174.634642,-38.387196],[174.715705,-38.306504],[174.712538,-38.200598],[174.690775,-38.117624],[174.777037,-38.132502],[174.89557,-38.085971],[174.874876,-38.048537],[174.777802,-38.081532],[174.792086,-38.007284],[174.756799,-37.863813],[174.843696,-37.803913],[174.956284,-37.792412],[174.951308,-37.751531],[174.837135,-37.793663],[174.768715,-37.56085],[174.700025,-37.416774],[174.659628,-37.292432],[174.815488,-37.228631],[174.868951,-37.244987],[174.990258,-37.216585],[175.048243,-37.182271],[175.14112,-37.175603],[175.152091,-37.021558],[175.291304,-37.024038],[175.294967,-37.121115],[175.323006,-37.190632],[175.399204,-37.227041],[175.544902,-37.157367],[175.514085,-37.093004],[175.519742,-37.034105],[175.491003,-36.962266],[175.408398,-36.857511],[175.490181,-36.808311],[175.494677,-36.761969],[175.429445,-36.700141],[175.447073,-36.660048],[175.405835,-36.580563],[175.344545,-36.553023],[175.328268,-36.480801],[175.368191,-36.468598],[175.520192,-36.540797],[175.522613,-36.591864],[175.583391,-36.627217],[175.578199,-36.6803],[175.646651,-36.736372],[175.788851,-36.704119],[175.708634,-36.832518],[175.781305,-36.822413],[175.856005,-36.922809],[175.842233,-36.947453],[175.888322,-37.039187],[175.878371,-37.200371],[175.940104,-37.373242]]]}}},{"type":"Feature","properties":{"elevation":92056.51286210216,"fill_colour":"#34608DFF","stroke_colour":"#440154FF"},"geometry":{"geometry":{"type":"Polygon","coordinates":[[[178.085284,-37.542391],[178.107555,-37.598716],[177.986683,-37.608757],[177.996622,-37.760276],[178.073007,-37.76359],[177.972292,-37.845005],[177.860967,-38.111656],[177.739984,-38.042047],[177.692068,-38.108278],[177.604789,-38.186621],[177.499271,-38.218467],[177.463688,-38.333536],[177.236922,-38.426342],[177.257394,-38.508277],[177.122171,-38.583921],[177.04598,-38.620802],[176.991448,-38.693695],[176.878668,-38.667135],[176.766747,-38.68931],[176.717283,-38.724524],[176.695971,-38.821592],[176.601168,-38.825559],[176.520453,-38.796866],[176.468165,-38.941519],[176.38214,-38.988703],[176.303565,-38.901719],[176.258381,-38.889991],[176.255114,-38.808178],[176.45098,-38.561657],[176.505325,-38.402214],[176.429144,-38.313415],[176.390623,-38.323047],[176.297548,-38.229556],[176.232058,-38.239083],[176.150335,-38.218186],[176.076019,-38.121442],[176.075604,-38.049564],[175.940946,-37.929422],[175.977188,-37.913673],[175.905874,-37.828552],[175.927715,-37.776003],[175.833587,-37.627487],[175.809667,-37.513813],[175.832776,-37.471602],[175.913492,-37.425587],[175.940104,-37.373242],[175.963444,-37.433381],[175.934805,-37.536853],[175.975049,-37.623933],[176.053118,-37.659527],[176.186755,-37.63479],[176.250032,-37.68004],[176.419017,-37.748493],[176.4776,-37.754141],[176.601951,-37.829514],[176.736144,-37.879596],[176.931669,-37.916897],[177.08387,-37.978814],[177.160565,-37.989845],[177.383686,-37.983696],[177.487534,-37.94956],[177.54679,-37.90758],[177.619619,-37.810728],[177.683952,-37.760154],[177.727636,-37.680188],[177.868536,-37.653383],[177.958641,-37.605328],[178.006622,-37.553128],[178.085284,-37.542391]]]}}},{"type":"Feature","properties":{"elevation":71757.01960461293,"fill_colour":"#482777FF","stroke_colour":"#440154FF"},"geometry":{"geometry":{"type":"Polygon","coordinates":[[[177.898993,-38.971833],[177.834797,-38.952779],[177.799025,-38.89439],[177.660164,-38.904701],[177.66049,-38.848942],[177.597523,-38.807041],[177.494212,-38.777974],[177.447907,-38.635944],[177.353425,-38.624558],[177.307561,-38.659704],[177.122171,-38.583921],[177.257394,-38.508277],[177.236922,-38.426342],[177.463688,-38.333536],[177.499271,-38.218467],[177.604789,-38.186621],[177.692068,-38.108278],[177.739984,-38.042047],[177.860967,-38.111656],[177.972292,-37.845005],[178.073007,-37.76359],[177.996622,-37.760276],[177.986683,-37.608757],[178.107555,-37.598716],[178.085284,-37.542391],[178.174634,-37.534658],[178.276302,-37.554487],[178.363711,-37.631004],[178.482593,-37.641097],[178.550374,-37.692084],[178.415858,-37.858044],[178.391299,-37.9614],[178.337262,-38.009547],[178.373594,-38.094488],[178.321955,-38.122191],[178.33837,-38.191707],[178.31241,-38.241549],[178.344519,-38.418465],[178.281772,-38.472176],[178.293041,-38.526928],[178.198843,-38.605509],[178.05004,-38.702083],[177.97273,-38.681261],[177.911783,-38.827925],[177.898993,-38.971833]]]}}},{"type":"Feature","properties":{"elevation":90832.60628198524,"fill_colour":"#365D8DFF","stroke_colour":"#440154FF"},"geometry":{"geometry":{"type":"Polygon","coordinates":[[[177.898993,-38.971833],[177.9018,-39.072959],[178.001674,-39.104936],[177.924319,-39.170129],[177.906174,-39.226276],[177.850842,-39.23345],[177.839269,-39.152328],[177.870902,-39.087698],[177.755965,-39.058676],[177.636631,-39.050461],[177.421364,-39.062633],[177.259162,-39.100663],[177.046118,-39.193937],[176.989527,-39.294003],[176.919394,-39.340023],[176.876375,-39.422661],[176.924178,-39.475989],[176.922248,-39.549584],[176.966354,-39.623512],[177.075499,-39.673259],[177.011022,-39.742715],[177.005106,-39.835942],[176.932128,-39.93529],[176.888223,-40.025526],[176.868998,-40.131383],[176.794397,-40.205335],[176.687031,-40.256393],[176.622569,-40.428017],[176.443295,-40.407389],[176.359488,-40.197103],[176.378606,-40.158141],[176.323214,-40.093717],[176.204971,-40.018995],[176.136627,-40.028578],[176.093831,-39.995503],[176.106847,-39.917205],[176.176853,-39.744049],[176.195938,-39.663571],[176.142726,-39.584683],[176.183757,-39.538975],[176.136827,-39.475278],[176.111859,-39.384991],[176.12176,-39.326364],[176.080882,-39.259164],[176.115202,-39.217689],[176.085669,-39.129449],[176.172754,-39.078486],[176.14755,-39.037674],[176.257563,-38.947876],[176.258381,-38.889991],[176.303565,-38.901719],[176.38214,-38.988703],[176.468165,-38.941519],[176.520453,-38.796866],[176.601168,-38.825559],[176.695971,-38.821592],[176.717283,-38.724524],[176.766747,-38.68931],[176.878668,-38.667135],[176.991448,-38.693695],[177.04598,-38.620802],[177.122171,-38.583921],[177.307561,-38.659704],[177.353425,-38.624558],[177.447907,-38.635944],[177.494212,-38.777974],[177.597523,-38.807041],[177.66049,-38.848942],[177.660164,-38.904701],[177.799025,-38.89439],[177.834797,-38.952779],[177.898993,-38.971833]]]}}},{"type":"Feature","properties":{"elevation":132930.75195515643,"fill_colour":"#25AB82FF","stroke_colour":"#440154FF"},"geometry":{"geometry":{"type":"Polygon","coordinates":[[[174.615147,-38.706648],[174.655191,-38.733283],[174.79196,-38.731777],[174.862896,-38.774584],[174.81987,-38.787517],[174.798771,-38.865267],[174.828031,-38.923704],[174.764415,-39.004791],[174.788411,-39.067833],[174.67517,-39.12983],[174.755642,-39.233644],[174.747803,-39.275799],[174.891669,-39.35824],[174.871354,-39.401065],[174.928496,-39.47615],[174.967387,-39.48628],[174.972629,-39.653146],[174.930618,-39.724479],[174.784082,-39.857977],[174.71657,-39.867206],[174.558875,-39.817444],[174.444515,-39.750661],[174.35271,-39.659078],[174.201536,-39.588084],[174.076819,-39.57734],[173.910846,-39.514804],[173.794989,-39.415064],[173.751585,-39.280307],[173.794817,-39.192495],[173.909613,-39.121109],[174.088957,-39.05093],[174.200816,-38.988391],[174.390965,-38.988858],[174.559947,-38.855914],[174.615147,-38.706648]]]}}},{"type":"Feature","properties":{"elevation":78125.0,"fill_colour":"#443B84FF","stroke_colour":"#440154FF"},"geometry":{"geometry":{"type":"Polygon","coordinates":[[[176.085669,-39.129449],[176.115202,-39.217689],[176.080882,-39.259164],[176.12176,-39.326364],[176.111859,-39.384991],[176.136827,-39.475278],[176.183757,-39.538975],[176.142726,-39.584683],[176.195938,-39.663571],[176.176853,-39.744049],[176.106847,-39.917205],[176.093831,-39.995503],[176.136627,-40.028578],[176.204971,-40.018995],[176.323214,-40.093717],[176.378606,-40.158141],[176.359488,-40.197103],[176.443295,-40.407389],[176.622569,-40.428017],[176.620794,-40.491777],[176.493457,-40.5305],[176.332763,-40.697901],[176.211253,-40.65921],[176.082334,-40.708153],[176.022449,-40.711489],[175.871637,-40.777905],[175.764739,-40.768091],[175.77011,-40.698888],[175.69065,-40.696562],[175.653222,-40.742489],[175.473444,-40.693397],[175.439644,-40.744152],[175.371594,-40.726861],[175.266659,-40.768611],[175.136487,-40.700333],[175.190707,-40.566923],[175.227058,-40.398075],[175.223561,-40.293035],[175.198135,-40.176542],[175.162541,-40.107169],[175.045463,-39.985457],[174.927877,-39.899373],[174.784082,-39.857977],[174.930618,-39.724479],[174.972629,-39.653146],[174.967387,-39.48628],[174.928496,-39.47615],[174.871354,-39.401065],[174.891669,-39.35824],[174.747803,-39.275799],[174.755642,-39.233644],[174.67517,-39.12983],[174.788411,-39.067833],[174.764415,-39.004791],[174.828031,-38.923704],[174.798771,-38.865267],[174.81987,-38.787517],[174.862896,-38.774584],[174.937845,-38.750159],[174.954391,-38.667504],[175.109227,-38.62452],[175.213231,-38.639399],[175.31776,-38.556042],[175.383212,-38.542296],[175.48094,-38.478881],[175.612185,-38.487612],[175.632459,-38.591775],[175.523387,-38.750092],[175.57462,-38.8163],[175.546438,-38.859873],[175.57997,-38.910684],[175.562634,-38.98683],[175.682012,-38.979711],[175.617972,-39.081249],[175.634656,-39.158363],[175.557854,-39.275998],[175.669212,-39.296934],[175.812569,-39.300326],[175.885971,-39.205895],[175.964366,-39.179803],[175.989207,-39.115548],[176.085669,-39.129449]]]}}},{"type":"Feature","properties":{"elevation":199948.03217901654,"fill_colour":"#FDE725FF","stroke_colour":"#440154FF"},"geometry":{"geometry":{"type":"Polygon","coordinates":[[[176.332763,-40.697901],[176.267228,-40.784864],[176.224487,-40.906475],[176.154899,-40.948151],[176.106926,-41.015221],[176.062479,-41.131016],[176.003311,-41.171707],[175.961836,-41.244775],[175.899295,-41.263296],[175.811866,-41.359627],[175.675584,-41.413795],[175.585186,-41.487373],[175.5331,-41.496545],[175.433381,-41.568836],[175.325407,-41.605959],[175.236423,-41.605166],[175.195284,-41.523803],[175.216735,-41.431577],[175.043268,-41.373317],[174.924174,-41.434703],[174.847848,-41.359484],[174.912076,-41.25971],[174.844356,-41.228858],[174.785921,-41.265184],[174.839046,-41.325258],[174.70511,-41.35711],[174.660787,-41.340375],[174.623013,-41.260326],[174.711288,-41.219934],[174.794672,-41.12469],[174.867168,-41.086739],[174.846312,-41.049911],[174.938811,-41.000301],[174.989773,-40.878694],[175.035493,-40.851663],[175.136487,-40.700333],[175.266659,-40.768611],[175.371594,-40.726861],[175.439644,-40.744152],[175.473444,-40.693397],[175.653222,-40.742489],[175.69065,-40.696562],[175.77011,-40.698888],[175.764739,-40.768091],[175.871637,-40.777905],[176.022449,-40.711489],[176.082334,-40.708153],[176.211253,-40.65921],[176.332763,-40.697901]]]}}},{"type":"Feature","properties":{"elevation":100956.19643921117,"fill_colour":"#2C728EFF","stroke_colour":"#440154FF"},"geometry":{"geometry":{"type":"Polygon","coordinates":[[[172.479031,-42.277029],[172.444257,-42.365964],[172.348261,-42.39139],[172.235514,-42.456727],[172.133001,-42.555206],[172.094375,-42.620448],[171.974953,-42.638993],[171.915639,-42.68173],[171.841774,-42.774556],[171.763849,-42.791722],[171.74637,-42.874081],[171.69067,-42.900827],[171.449227,-42.909228],[171.41163,-42.950759],[171.316265,-42.947496],[171.237669,-43.002511],[171.197689,-43.074257],[171.079331,-43.102301],[170.993271,-43.215314],[170.937214,-43.204057],[170.830348,-43.283511],[170.705699,-43.320787],[170.592312,-43.434014],[170.528889,-43.410352],[170.395292,-43.498051],[170.322861,-43.490349],[170.238421,-43.513827],[170.098131,-43.595479],[170.091408,-43.660373],[169.965531,-43.791762],[169.900035,-43.812998],[169.699337,-43.963546],[169.592781,-43.958076],[169.591376,-44.012536],[169.372957,-44.116991],[169.275179,-44.098581],[169.188798,-44.110547],[169.147102,-44.080217],[168.975078,-44.144029],[168.963356,-44.199936],[168.849166,-44.246672],[168.836084,-44.339918],[168.728392,-44.419478],[168.625503,-44.433935],[168.460042,-44.495335],[168.334528,-44.496779],[168.407364,-44.375115],[168.349075,-44.330482],[168.347349,-44.284238],[168.224959,-44.256824],[168.131929,-44.281194],[168.05208,-44.258648],[168.245224,-44.158056],[168.327532,-44.049466],[168.386087,-44.003523],[168.512573,-44.001895],[168.596033,-43.972545],[168.709529,-43.994247],[168.815459,-43.967407],[168.888444,-43.905374],[168.969334,-43.878461],[169.209384,-43.719299],[169.426815,-43.625315],[169.591671,-43.599018],[169.690794,-43.543091],[169.793602,-43.421525],[169.981234,-43.35782],[170.050895,-43.291899],[170.266101,-43.172564],[170.257309,-43.118815],[170.341655,-43.096679],[170.420541,-43.036161],[170.524389,-43.017394],[170.720964,-42.930101],[170.867846,-42.822805],[170.947972,-42.723266],[171.051014,-42.650688],[171.167347,-42.507809],[171.218172,-42.38102],[171.304562,-42.267214],[171.321142,-42.153247],[171.417932,-41.917757],[171.45598,-41.882489],[171.462322,-41.749777],[171.587718,-41.729933],[171.670755,-41.739889],[171.828431,-41.647044],[171.882088,-41.600676],[171.987652,-41.445727],[172.063382,-41.38407],[172.092598,-41.282779],[172.111629,-41.025778],[172.094502,-40.91625],[172.133988,-40.850622],[172.217805,-40.774543],[172.229036,-40.855881],[172.370078,-40.970752],[172.310335,-41.013558],[172.49393800000002,-41.024524],[172.485968,-41.054243],[172.618005,-41.159896],[172.657938,-41.239169],[172.600312,-41.301833],[172.584362,-41.376194],[172.463113,-41.404378],[172.418018,-41.471659],[172.34246,-41.513161],[172.320665,-41.610287],[172.238131,-41.639518],[172.247079,-41.684218],[172.129322,-41.714002],[172.115731,-41.868405],[172.052127,-41.945182],[172.135204,-42.104044],[172.206731,-42.098315],[172.260995,-42.148312],[172.33195,-42.150639],[172.335876,-42.234208],[172.369594,-42.280603],[172.479031,-42.277029]]]}}},{"type":"Feature","properties":{"elevation":149617.61742752495,"fill_colour":"#4DC36BFF","stroke_colour":"#440154FF"},"geometry":{"geometry":{"type":"Polygon","coordinates":[[[174.048787,-41.968109],[173.9666,-42.0447],[173.892545,-42.189221],[173.697997,-42.351056],[173.671647,-42.412953],[173.594467,-42.428445],[173.509134,-42.505633],[173.479399,-42.592716],[173.368426,-42.79882],[173.241652,-42.952865],[173.144984,-42.986431],[173.080542,-43.050731],[172.816907,-43.133258],[172.733695,-43.255036],[172.704088,-43.390355],[172.715111,-43.547915],[172.776007,-43.582719],[173.040054,-43.6552],[173.102134,-43.695674],[173.13015,-43.762776],[173.10051,-43.831813],[172.997729,-43.887374],[172.836627,-43.88976],[172.72852,-43.827673],[172.587603,-43.833265],[172.316619,-43.867088],[172.028047,-43.958316],[171.61483,-44.131829],[171.43907,-44.223302],[171.333436,-44.295191],[171.244871,-44.381717],[171.258241,-44.445706],[171.195791,-44.526752],[171.159184,-44.627835],[171.167954,-44.876173],[171.144154,-44.940399],[170.882433,-44.891009],[170.658825,-44.90924],[170.636873,-44.951302],[170.542436,-44.985047],[170.447189,-45.065957],[170.397211,-45.080904],[170.349441,-45.021698],[170.373258,-44.952776],[170.319353,-44.903049],[170.242073,-44.930717],[170.094099,-44.94002],[169.996618,-44.821574],[169.944216,-44.653984],[169.836191,-44.668899],[169.757152,-44.612133],[169.644211,-44.585815],[169.633686,-44.462405],[169.545884,-44.422662],[169.577101,-44.345666],[169.57107,-44.177229],[169.717037,-44.038277],[169.699337,-43.963546],[169.900035,-43.812998],[169.965531,-43.791762],[170.091408,-43.660373],[170.098131,-43.595479],[170.238421,-43.513827],[170.322861,-43.490349],[170.395292,-43.498051],[170.528889,-43.410352],[170.592312,-43.434014],[170.705699,-43.320787],[170.830348,-43.283511],[170.937214,-43.204057],[170.993271,-43.215314],[171.079331,-43.102301],[171.197689,-43.074257],[171.237669,-43.002511],[171.316265,-42.947496],[171.41163,-42.950759],[171.449227,-42.909228],[171.69067,-42.900827],[171.74637,-42.874081],[171.763849,-42.791722],[171.841774,-42.774556],[171.915639,-42.68173],[171.974953,-42.638993],[172.094375,-42.620448],[172.133001,-42.555206],[172.235514,-42.456727],[172.348261,-42.39139],[172.444257,-42.365964],[172.479031,-42.277029],[172.614713,-42.195463],[172.639183,-42.100795],[172.721473,-42.103492],[172.721639,-42.158698],[172.82329,-42.204707],[172.842436,-42.289184],[172.914145,-42.308609],[172.941393,-42.377825],[172.992906,-42.40385],[173.035789,-42.483471],[173.189896,-42.410546],[173.244525,-42.303104],[173.312201,-42.250382],[173.464463,-42.195674],[173.499107,-42.078737],[173.72021,-41.960771],[173.74438,-41.907383],[173.817254,-41.932997],[173.955505,-41.912678],[174.048787,-41.968109]]]}}},{"type":"Feature","properties":{"elevation":93292.15382863223,"fill_colour":"#33628DFF","stroke_colour":"#440154FF"},"geometry":{"geometry":{"type":"Polygon","coordinates":[[[169.699337,-43.963546],[169.717037,-44.038277],[169.57107,-44.177229],[169.577101,-44.345666],[169.545884,-44.422662],[169.633686,-44.462405],[169.644211,-44.585815],[169.757152,-44.612133],[169.836191,-44.668899],[169.944216,-44.653984],[169.996618,-44.821574],[170.094099,-44.94002],[170.242073,-44.930717],[170.319353,-44.903049],[170.373258,-44.952776],[170.349441,-45.021698],[170.397211,-45.080904],[170.447189,-45.065957],[170.542436,-44.985047],[170.636873,-44.951302],[170.658825,-44.90924],[170.882433,-44.891009],[171.144154,-44.940399],[171.100528,-45.003008],[170.973751,-45.099135],[170.904457,-45.174416],[170.831473,-45.30556],[170.831146,-45.473512],[170.755798,-45.533488],[170.725244,-45.595949],[170.653059,-45.631055],[170.600894,-45.71077],[170.658594,-45.75885],[170.663785,-45.903509],[170.511765,-45.909171],[170.297527,-45.962393],[170.196885,-46.062532],[170.168561,-46.154542],[169.923942,-46.298354],[169.798088,-46.354698],[169.797052,-46.451354],[169.587587,-46.565745],[169.477118,-46.561308],[169.404843,-46.612326],[169.279166,-46.622414],[169.200941,-46.56071],[169.25066,-46.514327],[169.17296,-46.486119],[169.195998,-46.404407],[169.134144,-46.375439],[169.190827,-46.326404],[169.198061,-46.21263],[169.15962,-46.175637],[169.153328,-46.048745],[169.067253,-45.980428],[169.091516,-45.882556],[169.005199,-45.863492],[168.993372,-45.728538],[169.129045,-45.520334],[169.140232,-45.465252],[169.211049,-45.416772],[169.099293,-45.319946],[169.065469,-45.26961],[168.959565,-45.359122],[168.8869,-45.46282],[168.782457,-45.437039],[168.751635,-45.367566],[168.692215,-45.33967],[168.674105,-45.243072],[168.539401,-45.309327],[168.323294,-45.327543],[168.300759,-45.224653],[168.217006,-45.144541],[168.284206,-45.106175],[168.292268,-45.043825],[168.133994,-44.941441],[168.117214,-44.87145],[168.191002,-44.76679],[168.172333,-44.704559],[168.23451,-44.543196],[168.334528,-44.496779],[168.460042,-44.495335],[168.625503,-44.433935],[168.728392,-44.419478],[168.836084,-44.339918],[168.849166,-44.246672],[168.963356,-44.199936],[168.975078,-44.144029],[169.147102,-44.080217],[169.188798,-44.110547],[169.275179,-44.098581],[169.372957,-44.116991],[169.591376,-44.012536],[169.592781,-43.958076],[169.699337,-43.963546]]]}}},{"type":"Feature","properties":{"elevation":139436.68715638808,"fill_colour":"#31B57BFF","stroke_colour":"#440154FF"},"geometry":{"geometry":{"type":"Polygon","coordinates":[[[168.334528,-44.496779],[168.23451,-44.543196],[168.172333,-44.704559],[168.191002,-44.76679],[168.117214,-44.87145],[168.133994,-44.941441],[168.292268,-45.043825],[168.284206,-45.106175],[168.217006,-45.144541],[168.300759,-45.224653],[168.323294,-45.327543],[168.539401,-45.309327],[168.674105,-45.243072],[168.692215,-45.33967],[168.751635,-45.367566],[168.782457,-45.437039],[168.8869,-45.46282],[168.959565,-45.359122],[169.065469,-45.26961],[169.099293,-45.319946],[169.211049,-45.416772],[169.140232,-45.465252],[169.129045,-45.520334],[168.993372,-45.728538],[169.005199,-45.863492],[169.091516,-45.882556],[169.067253,-45.980428],[169.153328,-46.048745],[169.15962,-46.175637],[169.198061,-46.21263],[169.190827,-46.326404],[169.134144,-46.375439],[169.195998,-46.404407],[169.17296,-46.486119],[169.25066,-46.514327],[169.200941,-46.56071],[169.279166,-46.622414],[169.220366,-46.656223],[169.112978,-46.64457],[169.005878,-46.674339],[168.847241,-46.65862],[168.793966,-46.581126],[168.602963,-46.551905],[168.515574,-46.574298],[168.352956,-46.536278],[168.26594,-46.555934],[168.26361,-46.495318],[168.190226,-46.385363],[168.064941,-46.339298],[168.015835,-46.383827],[167.931858,-46.358101],[167.783985,-46.389089],[167.697389,-46.307961],[167.712351,-46.257696],[167.611463,-46.191423],[167.533283,-46.162409],[167.4031,-46.152075],[167.360418,-46.236948],[167.217213,-46.262506],[167.105669,-46.253661],[166.852483,-46.208479],[166.77867,-46.222072],[166.657468,-46.202287],[166.618783,-46.148792],[166.682766,-46.115505],[166.69854,-46.058234],[166.615139,-46.060061],[166.611146,-45.999722],[166.555778,-45.974646],[166.44963,-45.994901],[166.426303,-45.904451],[166.450324,-45.818964],[166.518401,-45.79439],[166.622173,-45.791053],[166.804039,-45.759832],[166.730722,-45.728135],[166.751808,-45.667693],[166.73103,-45.59478],[166.671602,-45.574993],[166.684135,-45.513273],[166.844407,-45.275882],[166.908979,-45.307438],[167.007591,-45.31417],[166.967797,-45.193701],[167.002267,-45.125554],[167.271322,-44.87048],[167.500637,-44.748058],[167.571723,-44.685873],[167.75137,-44.580661],[167.817211,-44.599121],[167.827907,-44.507559],[167.872685,-44.434274],[167.973286,-44.386631],[168.008558,-44.325057],[168.097524,-44.327164],[168.05208,-44.258648],[168.131929,-44.281194],[168.224959,-44.256824],[168.347349,-44.284238],[168.349075,-44.330482],[168.407364,-44.375115],[168.334528,-44.496779]]]}}},{"type":"Feature","properties":{"elevation":139436.68715638808,"fill_colour":"#31B57BFF","stroke_colour":"#440154FF"},"geometry":{"geometry":{"type":"Polygon","coordinates":[[[167.869697,-46.684231],[167.976548,-46.723761],[168.001211,-46.785763],[168.141792,-46.861859],[168.141009,-46.909408],[168.031908,-46.896887],[167.978835,-46.928878],[168.150523,-46.966468],[168.214669,-46.994434],[168.156391,-47.104144],[167.954351,-47.129275],[167.8257,-47.19138],[167.710747,-47.160457],[167.636122,-47.21029],[167.646031,-47.263722],[167.466622,-47.282852],[167.466427,-47.216517],[167.575995,-47.166243],[167.579122,-47.085339],[167.649751,-47.036465],[167.69404,-46.967083],[167.759027,-46.937085],[167.756471,-46.860982],[167.704122,-46.754442],[167.754641,-46.694685],[167.869697,-46.684231]]]}}},{"type":"Feature","properties":{"elevation":139436.68715638808,"fill_colour":"#31B57BFF","stroke_colour":"#440154FF"},"geometry":{"geometry":{"type":"Polygon","coordinates":[[[166.678832,-45.600376],[166.716483,-45.624584],[166.72364,-45.699235],[166.684654,-45.748174],[166.588379,-45.720747],[166.536804,-45.634371],[166.678832,-45.600376]]]}}},{"type":"Feature","properties":{"elevation":139436.68715638808,"fill_colour":"#31B57BFF","stroke_colour":"#440154FF"},"geometry":{"geometry":{"type":"Polygon","coordinates":[[[166.962426,-45.147798],[166.949393,-45.203177],[166.987792,-45.258541],[166.947416,-45.294163],[166.869,-45.240539],[166.962426,-45.147798]]]}}},{"type":"Feature","properties":{"elevation":86052.98340645824,"fill_colour":"#3B518BFF","stroke_colour":"#440154FF"},"geometry":{"geometry":{"type":"Polygon","coordinates":[[[173.198887,-41.33062],[173.297444,-41.393142],[173.250831,-41.46658],[173.304149,-41.506032],[173.168701,-41.531155],[173.151615,-41.585471],[173.086653,-41.624925],[173.00379,-41.724803],[172.926235,-41.757734],[172.847571,-41.874287],[172.861093,-41.922463],[172.735299,-42.057895],[172.721473,-42.103492],[172.639183,-42.100795],[172.614713,-42.195463],[172.479031,-42.277029],[172.369594,-42.280603],[172.335876,-42.234208],[172.33195,-42.150639],[172.260995,-42.148312],[172.206731,-42.098315],[172.135204,-42.104044],[172.052127,-41.945182],[172.115731,-41.868405],[172.129322,-41.714002],[172.247079,-41.684218],[172.238131,-41.639518],[172.320665,-41.610287],[172.34246,-41.513161],[172.418018,-41.471659],[172.463113,-41.404378],[172.584362,-41.376194],[172.600312,-41.301833],[172.657938,-41.239169],[172.618005,-41.159896],[172.485968,-41.054243],[172.49393800000002,-41.024524],[172.310335,-41.013558],[172.370078,-40.970752],[172.229036,-40.855881],[172.217805,-40.774543],[172.292208,-40.747344],[172.447285,-40.62953],[172.605626,-40.564454],[172.642596,-40.508119],[172.72882,-40.529082],[172.688014,-40.582779],[172.692504,-40.727883],[172.79801,-40.81628],[172.886338,-40.83238],[172.99033,-40.78119],[173.063518,-40.905749],[173.012366,-40.99214],[173.03352,-41.088759],[173.009531,-41.143778],[173.065785,-41.183826],[173.104255,-41.29016],[173.198887,-41.33062]]]}}},{"type":"Feature","properties":{"elevation":104952.10755444117,"fill_colour":"#297A8EFF","stroke_colour":"#440154FF"},"geometry":{"geometry":{"type":"Polygon","coordinates":[[[173.297444,-41.393142],[173.198887,-41.33062],[173.221776,-41.293012],[173.310619,-41.250758],[173.323617,-41.203745],[173.412776,-41.149451],[173.461631,-41.166853],[173.593891,-41.05112],[173.568366,-41.189731],[173.523008,-41.197992],[173.41541900000002,-41.289142],[173.406789,-41.330958],[173.297444,-41.393142]]]}}},{"type":"Feature","properties":{"elevation":114713.54776218697,"fill_colour":"#228C8DFF","stroke_colour":"#440154FF"},"geometry":{"geometry":{"type":"Polygon","coordinates":[[[174.048787,-41.968109],[173.955505,-41.912678],[173.817254,-41.932997],[173.74438,-41.907383],[173.72021,-41.960771],[173.499107,-42.078737],[173.464463,-42.195674],[173.312201,-42.250382],[173.244525,-42.303104],[173.189896,-42.410546],[173.035789,-42.483471],[172.992906,-42.40385],[172.941393,-42.377825],[172.914145,-42.308609],[172.842436,-42.289184],[172.82329,-42.204707],[172.721639,-42.158698],[172.721473,-42.103492],[172.735299,-42.057895],[172.861093,-41.922463],[172.847571,-41.874287],[172.926235,-41.757734],[173.00379,-41.724803],[173.086653,-41.624925],[173.151615,-41.585471],[173.168701,-41.531155],[173.304149,-41.506032],[173.250831,-41.46658],[173.297444,-41.393142],[173.406789,-41.330958],[173.41541900000002,-41.289142],[173.523008,-41.197992],[173.568366,-41.189731],[173.593891,-41.05112],[173.673303,-41.034268],[173.802377,-40.972248],[173.850772,-41.02232],[173.868127,-41.144207],[173.936809,-41.08346],[173.993088,-41.102108],[174.079004,-41.016276],[174.175802,-40.999057],[174.219449,-41.071343],[174.124494,-41.236254],[174.133062,-41.28533],[174.048448,-41.39311],[174.033536,-41.476347],[174.072046,-41.523959],[174.15042,-41.559434],[174.156961,-41.64767],[174.198299,-41.723235],[174.275035,-41.742887],[174.196758,-41.835604],[174.048787,-41.968109]]]}}},{"type":"Feature","properties":{"elevation":114713.54776218697,"fill_colour":"#228C8DFF","stroke_colour":"#440154FF"},"geometry":{"geometry":{"type":"Polygon","coordinates":[[[173.956359,-40.692828],[173.96014,-40.764475],[173.905319,-40.857231],[173.813984,-40.930467],[173.772206,-40.861959],[173.80573,-40.802734],[173.936628,-40.747506],[173.956359,-40.692828]]]}}}],"polygon_layer",[],false,"#AAFFFFFF",{"fill_colour":[false]},[[166.42630291457417,-47.28285241600581],[178.55037360128316,-34.414518716835349]],true,false,null,true,1,null]}]},"evals":[],"jsHooks":[]}</script>
]

---
# ggplot2 (+ gganimate)

.pull-left[

```r
library(ggplot2)
library(sf)
pzn_districts = read_sf("data/pzn_districts.gpkg")
pzn_air = read_sf("data/pzn_pm10.gpkg")
gp1 = ggplot() +
  geom_sf(data = pzn_districts) +
  geom_sf(data = pzn_air, aes(size = PM10_avg))
gp1
```
]

.pull-right[
&lt;img src="lecture_files/figure-html/plot-label-out15-1.png" style="display: block; margin: auto;" /&gt;
]

---
# ggplot2 (+ gganimate)

.pull-left[

```r
library(gganimate)
gp2 = gp1 + 
  transition_time(Date) +
  labs(title = "Date: {frame_time}") + 
  ease_aes("linear") +
  shadow_wake(wake_length = 0.1,
              alpha = FALSE)
gp2
```
]

.pull-right[
![](figs/gp2.gif)
]



---
# Other mapping packages

.pull-left[
https://github.com/sjewo/cartogram
&lt;img src="figs/cartogram.png" width="672" style="display: block; margin: auto;" /&gt;
]
.pull-right[
https://hafen.github.io/geofacet/
&lt;img src="figs/geogrid.png" width="672" style="display: block; margin: auto;" /&gt;
]


---
# Other mapping packages

.pull-left[
https://github.com/schochastics/edgebundle
&lt;img src="figs/edgebundle.png" width="672" style="display: block; margin: auto;" /&gt;
]
.pull-right[
https://www.rayshader.com/
&lt;img src="figs/rayshader.png" width="672" style="display: block; margin: auto;" /&gt;
]


---
class: inverse, left, bottom
# Coordinate reference systems

---
# Coordinates - numbers describing positions in space

.pull-left[
**Geographic coordinates**: angles (degrees; longitude and latitude) pointing out locations on a spherical or ellipsoidal surface (*ellipsoid - a mathematical approximation of the size and shape of the earth*)

&lt;img src="lecture_files/figure-html/unnamed-chunk-34-1.png" style="display: block; margin: auto;" /&gt;
]

.pull-right[
**Projected coordinates**: measured on a two-dimensional flat space (e.g. in meters; x and y), related to an ellipsoid by projection

&lt;img src="lecture_files/figure-html/unnamed-chunk-35-1.png" style="display: block; margin: auto;" /&gt;
]


---
# Coordinate reference system (CRS)

**Coordinate reference system: a set of information describing the system used to locate objects in space.**

**It includes:**

- a set of mathematical rules for specifying how coordinates are to be assigned to points
- a set of parameters that define the position of the origin, the scale, and the orientation of a coordinate system (a datum)

----

**Two main groups of CRS:**

- Geographic coordinate reference systems, GCRS - composed of an ellipsoid and a datum; units in degrees
- Projected coordinate reference systems, PCRS - based on a GCRS and a projection


---
# How to describe CRS?

.pull-left[
**Two main current methods (see on the right):**

- CRS codes, e.g., EPSG:4326
- `WKT2`

**One (currently discouraged in most cases) method:**

- `proj4string` - +proj=longlat +datum=WGS84 +no_defs

----

*More information:*

- https://proj.org/usage/projections.html
- https://spatialreference.org/ref/epsg/
- https://www.youtube.com/watch?v=Va0STgco7-4 (especially 10:47-27:48)
- https://www.gaia-gis.it/fossil/libspatialite/wiki?name=PROJ.6
- https://ihatecoordinatesystems.com/
]

.pull-right[
.tiny[

```
## Coordinate Reference System:
##   User input: EPSG:4326 
##   wkt:
## GEOGCRS["WGS 84",
##     DATUM["World Geodetic System 1984",
##         ELLIPSOID["WGS 84",6378137,298.257223563,
##             LENGTHUNIT["metre",1]]],
##     PRIMEM["Greenwich",0,
##         ANGLEUNIT["degree",0.0174532925199433]],
##     CS[ellipsoidal,2],
##         AXIS["geodetic latitude (Lat)",north,
##             ORDER[1],
##             ANGLEUNIT["degree",0.0174532925199433]],
##         AXIS["geodetic longitude (Lon)",east,
##             ORDER[2],
##             ANGLEUNIT["degree",0.0174532925199433]],
##     USAGE[
##         SCOPE["Horizontal component of 3D system."],
##         AREA["World."],
##         BBOX[-90,-180,90,180]],
##     ID["EPSG",4326]]
```
]
]




&lt;!-- A coordinate reference sytem (CRS) describes how coordinates are to be interpreted: which location on Earth do they refer to. In case of projected coordinates the CRS contains the projection type and parameters, in all cases which reference ellipsoid the original geographic coordinates are associated with (e.g., WGS84, or NAD27). --&gt;



---
# Getting CRS - vector data


```r
library(spData)
library(sf)
```

.pull-left[

.tiny[

```r
st_crs(world)
```

```
## Coordinate Reference System:
##   User input: EPSG:4326 
##   wkt:
## GEOGCRS["WGS 84",
##     DATUM["World Geodetic System 1984",
##         ELLIPSOID["WGS 84",6378137,298.257223563,
##             LENGTHUNIT["metre",1]]],
##     PRIMEM["Greenwich",0,
##         ANGLEUNIT["degree",0.0174532925199433]],
##     CS[ellipsoidal,2],
##         AXIS["geodetic latitude (Lat)",north,
##             ORDER[1],
##             ANGLEUNIT["degree",0.0174532925199433]],
##         AXIS["geodetic longitude (Lon)",east,
##             ORDER[2],
##             ANGLEUNIT["degree",0.0174532925199433]],
##     USAGE[
##         SCOPE["Horizontal component of 3D system."],
##         AREA["World."],
##         BBOX[-90,-180,90,180]],
##     ID["EPSG",4326]]
```
]

]

.pull-right[

.tiny[

```r
st_crs(world)$proj4string
```

```
## [1] "+proj=longlat +datum=WGS84 +no_defs"
```

```r
st_crs(world)$epsg
```

```
## [1] 4326
```

```r
st_crs(world)$wkt
```

```
## [1] "GEOGCRS[\"WGS 84\",\n    DATUM[\"World Geodetic System 1984\",\n        ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n            LENGTHUNIT[\"metre\",1]]],\n    PRIMEM[\"Greenwich\",0,\n        ANGLEUNIT[\"degree\",0.0174532925199433]],\n    CS[ellipsoidal,2],\n        AXIS[\"geodetic latitude (Lat)\",north,\n            ORDER[1],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        AXIS[\"geodetic longitude (Lon)\",east,\n            ORDER[2],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n    USAGE[\n        SCOPE[\"Horizontal component of 3D system.\"],\n        AREA[\"World.\"],\n        BBOX[-90,-180,90,180]],\n    ID[\"EPSG\",4326]]"
```

]

]


---
# Getting CRS - raster data



```r
library(spData)
library(terra)
elev = rast(elev)
```

.pull-left[
.tiny[

```r
crs(elev, describe = TRUE)
```

```
##      name EPSG area         extent
## 1 unknown &lt;NA&gt; &lt;NA&gt; NA, NA, NA, NA
```

```r
crs(elev)
```

```
## [1] "BOUNDCRS[\n    SOURCECRS[\n        GEOGCRS[\"unknown\",\n            DATUM[\"World Geodetic System 1984\",\n                ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n                    LENGTHUNIT[\"metre\",1]],\n                ID[\"EPSG\",6326]],\n            PRIMEM[\"Greenwich\",0,\n                ANGLEUNIT[\"degree\",0.0174532925199433],\n                ID[\"EPSG\",8901]],\n            CS[ellipsoidal,2],\n                AXIS[\"longitude\",east,\n                    ORDER[1],\n                    ANGLEUNIT[\"degree\",0.0174532925199433,\n                        ID[\"EPSG\",9122]]],\n                AXIS[\"latitude\",north,\n                    ORDER[2],\n                    ANGLEUNIT[\"degree\",0.0174532925199433,\n                        ID[\"EPSG\",9122]]]]],\n    TARGETCRS[\n        GEOGCRS[\"WGS 84\",\n            DATUM[\"World Geodetic System 1984\",\n                ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n                    LENGTHUNIT[\"metre\",1]]],\n            PRIMEM[\"Greenwich\",0,\n                ANGLEUNIT[\"degree\",0.0174532925199433]],\n            CS[ellipsoidal,2],\n                AXIS[\"latitude\",north,\n                    ORDER[1],\n                    ANGLEUNIT[\"degree\",0.0174532925199433]],\n                AXIS[\"longitude\",east,\n                    ORDER[2],\n                    ANGLEUNIT[\"degree\",0.0174532925199433]],\n            ID[\"EPSG\",4326]]],\n    ABRIDGEDTRANSFORMATION[\"Transformation from unknown to WGS84\",\n        METHOD[\"Geocentric translations (geog2D domain)\",\n            ID[\"EPSG\",9603]],\n        PARAMETER[\"X-axis translation\",0,\n            ID[\"EPSG\",8605]],\n        PARAMETER[\"Y-axis translation\",0,\n            ID[\"EPSG\",8606]],\n        PARAMETER[\"Z-axis translation\",0,\n            ID[\"EPSG\",8607]]]]"
```
]
]

.pull-right[
.tiny[

```r
st_crs(elev)
```

```
## Coordinate Reference System:
##   User input: BOUNDCRS[
##     SOURCECRS[
##         GEOGCRS["unknown",
##             DATUM["World Geodetic System 1984",
##                 ELLIPSOID["WGS 84",6378137,298.257223563,
##                     LENGTHUNIT["metre",1]],
##                 ID["EPSG",6326]],
##             PRIMEM["Greenwich",0,
##                 ANGLEUNIT["degree",0.0174532925199433],
##                 ID["EPSG",8901]],
##             CS[ellipsoidal,2],
##                 AXIS["longitude",east,
##                     ORDER[1],
##                     ANGLEUNIT["degree",0.0174532925199433,
##                         ID["EPSG",9122]]],
##                 AXIS["latitude",north,
##                     ORDER[2],
##                     ANGLEUNIT["degree",0.0174532925199433,
##                         ID["EPSG",9122]]]]],
##     TARGETCRS[
##         GEOGCRS["WGS 84",
##             DATUM["World Geodetic System 1984",
##                 ELLIPSOID["WGS 84",6378137,298.257223563,
##                     LENGTHUNIT["metre",1]]],
##             PRIMEM["Greenwich",0,
##                 ANGLEUNIT["degree",0.0174532925199433]],
##             CS[ellipsoidal,2],
##                 AXIS["latitude",north,
##                     ORDER[1],
##                     ANGLEUNIT["degree",0.0174532925199433]],
##                 AXIS["longitude",east,
##                     ORDER[2],
##                     ANGLEUNIT["degree",0.0174532925199433]],
##             ID["EPSG",4326]]],
##     ABRIDGEDTRANSFORMATION["Transformation from unknown to WGS84",
##         METHOD["Geocentric translations (geog2D domain)",
##             ID["EPSG",9603]],
##         PARAMETER["X-axis translation",0,
##             ID["EPSG",8605]],
##         PARAMETER["Y-axis translation",0,
##             ID["EPSG",8606]],
##         PARAMETER["Z-axis translation",0,
##             ID["EPSG",8607]]]] 
##   wkt:
## BOUNDCRS[
##     SOURCECRS[
##         GEOGCRS["unknown",
##             DATUM["World Geodetic System 1984",
##                 ELLIPSOID["WGS 84",6378137,298.257223563,
##                     LENGTHUNIT["metre",1]],
##                 ID["EPSG",6326]],
##             PRIMEM["Greenwich",0,
##                 ANGLEUNIT["degree",0.0174532925199433],
##                 ID["EPSG",8901]],
##             CS[ellipsoidal,2],
##                 AXIS["longitude",east,
##                     ORDER[1],
##                     ANGLEUNIT["degree",0.0174532925199433,
##                         ID["EPSG",9122]]],
##                 AXIS["latitude",north,
##                     ORDER[2],
##                     ANGLEUNIT["degree",0.0174532925199433,
##                         ID["EPSG",9122]]]]],
##     TARGETCRS[
##         GEOGCRS["WGS 84",
##             DATUM["World Geodetic System 1984",
##                 ELLIPSOID["WGS 84",6378137,298.257223563,
##                     LENGTHUNIT["metre",1]]],
##             PRIMEM["Greenwich",0,
##                 ANGLEUNIT["degree",0.0174532925199433]],
##             CS[ellipsoidal,2],
##                 AXIS["geodetic latitude (Lat)",north,
##                     ORDER[1],
##                     ANGLEUNIT["degree",0.0174532925199433]],
##                 AXIS["geodetic longitude (Lon)",east,
##                     ORDER[2],
##                     ANGLEUNIT["degree",0.0174532925199433]],
##             ID["EPSG",4326]]],
##     ABRIDGEDTRANSFORMATION["Transformation from unknown to WGS84",
##         METHOD["Geocentric translations (geog2D domain)",
##             ID["EPSG",9603]],
##         PARAMETER["X-axis translation",0,
##             ID["EPSG",8605]],
##         PARAMETER["Y-axis translation",0,
##             ID["EPSG",8606]],
##         PARAMETER["Z-axis translation",0,
##             ID["EPSG",8607]]]]
```
]
]


---
class: inverse, left, bottom
# Geocomputation

---
# What is Geocomputation?


.pull-left[

&gt; GeoComputation is about using the various different types of geodata and about developing relevant geo-tools within the overall context of a 'scientific' approach (Openshaw 2000).

]

.pull-right[
&lt;img src="figs/s.openshaw.png" width="309" style="display: block; margin: auto;" /&gt;
]

--

- But we do differ from early definitions in one important way:

&gt; At the turn of the 21st Century it was unrealistic to expect readers to be able to reproduce code examples, due to barriers preventing access to the necessary hardware, software and data

---
# What's in the geocompr box?

.pull-left[

- Chapter 1: History + 'philosophy' = important

Foundations

- Starting from nothing
- Class definitions
- Spatial/attribute operations
- Projections 
- Data IO

Extensions

- Advanced methods
- How to build your own functions

Applications

- A taster of what you can do

]

.pull-right[
&lt;img src="https://raw.githubusercontent.com/Robinlovelace/geocompr/master/images/frontcover.png" width="100%" style="display: block; margin: auto;" /&gt;
]


---
class: inverse, left, bottom
# Summary

---
# Summary

.pull-left[

## Resources:

https://geocompr.github.io/

https://nowosad.github.io

https://www.robinlovelace.net/
]

.pull-right[
## Contact:

&lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"&gt;&lt;/path&gt;&lt;/svg&gt; #rspatial

&lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"&gt;&lt;/path&gt;&lt;/svg&gt; #geocompr

&lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"&gt;&lt;/path&gt;&lt;/svg&gt; jakub_nowosad

&lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"&gt;&lt;/path&gt;&lt;/svg&gt; robinlovelace


]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
